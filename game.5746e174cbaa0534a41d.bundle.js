(function(){var e={435:function(){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var a=atob(this.toDataURL(t,n).split(",")[1]),i=a.length,r=i>>2,s=new Uint8Array(i),o=new Uint32Array(s.buffer,0,r),c=0,l=0;c<r;c++)o[c]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(var u=3&i;u--;)s[l]=a.charCodeAt(l++);e(new Blob([s],{type:t||"image/png"}))}})},582:function(e,t,n){"use strict";n.d(t,{J:function(){return G},Z:function(){return U}});var a=n(59),i=n(195),r=n.n(i),s=n(78),o=n.n(s),c=n(79),l=n.n(c),u=n(40),h=n.n(u),d=n(116),p=n(119),E=n.n(p),f=function(e){return function(t){t.preventDefault();var n=document.getElementById("popup-add-shortcut");null==n||n.remove(),e()}},S=function(e){var t=document.createElement("div");return t.innerHTML=E()(e).call(e),t.firstChild},A=function(){var e=(0,a.Z)(h().mark((function e(t,n){var a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=S('<div style="height: 50vh;width: 53vh;max-width: 95vw;position:absolute;background-color: rgba(31, 120, 136, 0.48);border-radius: 2vh;margin: auto;right: 0;left: 0;top: 0;bottom: 0;display: flex;flex-direction:column;justify-content:space-evenly;">\n            <p style="color:white;font-size:40px;text-align:center">Add shortcut for this game</p>\n            <p style="color:white;font-size:20px;text-align:center">This game wants to add a shortcut.</p>\n        </div>'),i=S('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">No</button>'),r=S('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">Yes</button>'),a&&i&&r||n({code:"CREATE_POPUP_ERROR",message:"Show popup failed"}),a.id="popup-add-shortcut",a.appendChild(i),a.appendChild(r),document.body.appendChild(a),i.addEventListener("click",f(n)),r.addEventListener("click",f(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){function e(){this.isFirstCall=!0}var t=e.prototype;return t.canCreateShortcutAsync=function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFirstCall){e.next=3;break}return this.isFirstCall=!1,e.abrupt("return",!0);case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createShortcutAsync=function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(o())((function(e,t){A(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}(),g=m,T=function(e){return function(t){t.preventDefault();var n=document.getElementById("popup-subscribe-bots");null==n||n.remove(),e()}},v=function(e){var t=document.createElement("div");return t.innerHTML=E()(e).call(e),t.firstChild},y=function(){var e=(0,a.Z)(h().mark((function e(t,n){var a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v('<div style="height: 50vh;width: 53vh;max-width: 95vw;position:absolute;background-color: rgba(31, 120, 136, 0.48);border-radius: 2vh;margin: auto;right: 0;left: 0;top: 0;bottom: 0;display: flex;flex-direction:column;justify-content:space-evenly;">\n            <p style="color:white;font-size:40px;text-align:center">Turn on messages from this game</p>\n            <p style="color:white;font-size:20px;text-align:center">This game wants to send messages, announcements and more.</p>\n        </div>'),i=v('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">Not Now</button>'),r=v('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">Turn On</button>'),a&&i&&r||n({code:"CREATE_POPUP_ERROR",message:"Show popup failed"}),a.id="popup-subscribe-bots",a.appendChild(i),a.appendChild(r),document.body.appendChild(a),i.addEventListener("click",T(n)),r.addEventListener("click",T(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){function e(){this.isFirstCall=!0}var t=e.prototype;return t.canSubscribeBotAsync=function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFirstCall){e.next=3;break}return this.isFirstCall=!1,e.abrupt("return",!0);case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.subscribeBotAsync=function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(o())((function(e,t){y(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}(),O=I,R=n(60),C=n.n(R),_=function(){function e(){}return e.GetLangCode=function(e){return C()(e).call(e,0,2)},e}(),b=n(408),N=n(115),D=n(598),w=n(410),P=GameCore.Configs,L=P.Notification,x=P.AddShortcut,M=P.SubscribeBot,k=L.GameTitle,G=(L.GameImage,function(){function e(){}var t=e.prototype;return t.createAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.createAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.shareAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.shareAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.joinAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.joinAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.postScoreAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.postScoreAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getTournamentsAsync=function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.getTournamentsAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}()),B=function(){function e(e){var t=this;this.facebook=void 0,this.supportedAPIs=[],this.mockSubscribeBot=void 0,this.mockAddShortcut=void 0,this.isCalledSubscribeBot=!1,this.isCalledCreateShortcut=!1,this.isCanPlayerMatch=null,this.isCanSubscribeBot=null,this.isCanCreateShortcut=null,this.attemptToAddShortcut=(0,a.Z)(h().mark((function e(){var n,a,i,r,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCalledCreateShortcut){e.next=2;break}return e.abrupt("return",!1);case 2:if(e.prev=2,null===t.isCanCreateShortcut&&(x.UseMock?t.isCanCreateShortcut=!0:t.isCanCreateShortcut=t.isSupportedAPI("canCreateShortcutAsync")),t.isCanCreateShortcut){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,GameSDK.player.getDataAsync(["lastCallCreateShortcut"]);case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:if(n=e.t0,!(a=n.lastCallCreateShortcut||0)||!(0,N.Gm)(+a)){e.next=15;break}return e.abrupt("return",!1);case 15:if(!x.UseMock){e.next=21;break}return e.next=18,t.mockAddShortcut.canCreateShortcutAsync();case 18:e.t1=e.sent,e.next=24;break;case 21:return e.next=23,GameSDK.canCreateShortcutAsync();case 23:e.t1=e.sent;case 24:if(i=e.t1,r=Date.now(),GameSDK.player.setDataAsync({lastCallCreateShortcut:r}),!i){e.next=49;break}return s=d._.SHORTCUT_CREATE,o=d._.SHORTCUT_CREATE_POPUP,t.isCalledCreateShortcut=!0,window.game.analytics.event(o),e.prev=31,e.next=34,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 34:if(!x.UseMock){e.next=39;break}return e.next=37,t.mockAddShortcut.createShortcutAsync();case 37:e.next=41;break;case 39:return e.next=41,FBInstant.createShortcutAsync();case 41:return window.game.analytics.event(s,{success:!0}),e.abrupt("return",!0);case 45:return e.prev=45,e.t2=e.catch(31),window.game.analytics.event(s,{success:!1}),e.abrupt("return",!1);case 49:return e.abrupt("return",!1);case 52:return e.prev=52,e.t3=e.catch(2),e.abrupt("return",!1);case 55:case"end":return e.stop()}}),e,null,[[2,52],[31,45]])}))),this.attemptToSubscribeBot=(0,a.Z)(h().mark((function e(){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCalledSubscribeBot){e.next=2;break}return e.abrupt("return",!1);case 2:if(e.prev=2,null===t.isCanSubscribeBot&&(M.UseMock?t.isCanSubscribeBot=!0:t.isCanSubscribeBot=t.isSupportedAPI("player.canSubscribeBotAsync")),t.isCanSubscribeBot){e.next=6;break}return e.abrupt("return",!1);case 6:if(!M.UseMock){e.next=12;break}return e.next=9,t.mockSubscribeBot.canSubscribeBotAsync();case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,GameSDK.player.canSubscribeBotAsync();case 14:e.t0=e.sent;case 15:if(!e.t0){e.next=49;break}return e.next=19,GameSDK.player.getDataAsync(["lastCallSubscribeBot"]);case 19:if(e.t1=e.sent,e.t1){e.next=22;break}e.t1={};case 22:if(n=e.t1,!(a=n.lastCallSubscribeBot)||!(0,N.Gm)(+a)){e.next=26;break}return e.abrupt("return",!1);case 26:return i=Date.now(),GameSDK.player.setDataAsync({lastCallSubscribeBot:i}),r=d._.BOT_SUBSCRIBE,s=d._.BOT_SUBSCRIBE_POPUP,t.isCalledSubscribeBot=!0,window.game.analytics.event(s),e.prev=31,e.next=34,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 34:if(!M.UseMock){e.next=39;break}return e.next=37,t.mockSubscribeBot.subscribeBotAsync();case 37:e.next=41;break;case 39:return e.next=41,GameSDK.player.subscribeBotAsync();case 41:return window.game.analytics.event(r,{success:!0}),e.abrupt("return",!0);case 45:return e.prev=45,e.t2=e.catch(31),window.game.analytics.event(r,{success:!1}),e.abrupt("return",!1);case 49:return e.abrupt("return",!1);case 52:return e.prev=52,e.t3=e.catch(2),e.abrupt("return",!1);case 55:case"end":return e.stop()}}),e,null,[[2,52],[31,45]])}))),this.matchPlayerAsync=function(){var e=(0,a.Z)(h().mark((function e(n,a,i){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===t.isCanPlayerMatch&&(t.isCanPlayerMatch=t.isSupportedAPI("checkCanPlayerMatchAsync")),t.isCanPlayerMatch){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,GameSDK.checkCanPlayerMatchAsync();case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,GameSDK.matchPlayerAsync(n,a,i);case 11:return e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),this.getTournamentAsync=(0,a.Z)(h().mark((function e(){var n,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.facebook.tournament.getTournamentsAsync();case 2:if(n=e.sent,a=GameSDK.context.getID(),!(i=r()(n).call(n,(function(e){return e.getContextID()===a})))){e.next=7;break}return e.abrupt("return",o().resolve(i));case 7:return e.abrupt("return",o().reject(new D.Z(null)));case 8:case"end":return e.stop()}}),e)}))),this.requestTournamentAsync=function(){var e=(0,a.Z)(h().mark((function e(n){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.facebook.getTournamentAsync();case 3:return e.next=5,t.facebook.tournament.shareAsync({score:n});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),a=GameSDK.player.getName(),e.next=12,t.facebook.tournament.createAsync({initialScore:n,config:{tournamentTitle:a+"'s Tournament"}});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.isSupportedAPI=function(e){var n;return 0===t.supportedAPIs.length&&(t.supportedAPIs=GameSDK.getSupportedAPIs()),l()(n=t.supportedAPIs).call(n,e)},this.facebook=e,this.mockSubscribeBot=new O,this.mockAddShortcut=new g}var t=e.prototype;return t.switchAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 2:return e.next=4,GameSDK.context.switchAsync(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.chooseAsync=function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 3:return e.next=5,GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2});case 5:case 15:return e.abrupt("return",GameSDK.context.getID());case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=16;break}e.t1=e.t0.code,e.next="USER_INPUT"===e.t1?14:"SAME_CONTEXT"===e.t1?15:16;break;case 14:return e.abrupt("return",!1);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t.createAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 3:return e.next=5,GameSDK.context.createAsync(""+t);case 5:case 15:return e.abrupt("return",GameSDK.context.getID());case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=16;break}e.t1=e.t0.code,e.next="USER_INPUT"===e.t1?14:"SAME_CONTEXT"===e.t1?15:16;break;case 14:return e.abrupt("return",!1);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t.getPlayerToken=function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.player.getSignedPlayerInfoAsync();case 2:return t=e.sent,e.abrupt("return",t.getSignature());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getContextPlayers=function(){var e=(0,a.Z)(h().mark((function e(t){var n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GameSDK.context.getPlayersAsync();case 3:return n=e.sent,a=[],n.forEach((function(e){var n=e.getID();if(n!==t){var i=e.getName();if(i){var r=e.getPhoto();a.push(new b.Z(n,i,r).toObject())}}})),e.abrupt("return",GameCore.Utils.Array.unique(a));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t.shareAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.shareAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendMessage=function(){var e=(0,a.Z)(h().mark((function e(t){var n,a,i,r,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,a=t.image,i=t.template,r=t.cta,s=t.text,o={data:n,image:a,action:"CUSTOM",template:i,cta:r,text:s,strategy:"IMMEDIATE",notification:"PUSH"},e.next=4,GameSDK.updateAsync(o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.inviteAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.inviteAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.postSessionScoreAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.postSessionScoreAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getRewardedVideoAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.getRewardedVideoAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getInterstitialAdAsync=function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.getInterstitialAdAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getContextID=function(){return GameSDK.context.getID()},t.setLoadingProgress=function(e){GameSDK.setLoadingProgress(e)},t.getLocale=function(){return _.GetLangCode(GameSDK.getLocale()||"en")},t.injectTournament=function(){var e=(0,a.Z)(h().mark((function e(){var t,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!GameCore.Configs.Tournament.UseMock){e.next=11;break}return e.next=4,n.e(302).then(n.bind(n,594));case 4:t=e.sent.default,a=new t,this.facebook.tournament=a,GameSDK.getTournamentAsync=this.getTournamentAsync,GameSDK.tournament=a,e.next=12;break;case 11:this.facebook.tournament=new G;case 12:this.facebook.getTournamentAsync=function(){return FBInstant.getTournamentAsync()},this.facebook.requestTournamentAsync=this.requestTournamentAsync;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sendNotificationAsync=function(){var e=(0,a.Z)(h().mark((function e(t){var n,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.message,a=t.delayTime,i=t.type,e.next=5,FBInstant.scheduleNotificationAsync({title:k,minDelayInSeconds:a,description:n,type:null!=i?i:w.Z.GENERIC_NOTIFICATION});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),e}(),U=B},436:function(e,t,n){"use strict";var a=n(189),i=n.n(a),r=n(60),s=n.n(r),o=function(e,t){return void 0===t&&(t=1),i()({length:Math.ceil(e.length/t)},(function(n,a){return s()(e).call(e,a*t,a*t+t)}))},c=n(118),l=n.n(c),u=n(79),h=n.n(u),d=function(e,t){return l()(e).call(e,(function(e){return!h()(t).call(t,e)}))},p=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}},E=n(91),f=n.n(E),S=function(e,t,n){return f()(n).call(n,e)===t&&null!==e&&void 0!==e},A=function(e){return l()(e).call(e,S)},m={chunk:o,difference:d,shuffle:p,unique:A},g=n(93),T=n.n(g),v=n(254),y=n.n(v),I=y()((function(e,t){if("string"===typeof e){var n=t[e.toLowerCase()];if("string"===typeof n)return n}return"?"})),O=y()((function(e){for(var t=null,n=[],a=/:([A-Z0-9?]+)/gm;null!==(t=a.exec(e));)n.push(t[1]);return n})),R=y()((function(e){for(var t=null,n=[],a=/([0-9]+[A-Z?]{1}|[A-Z?]{1})/gm;null!==(t=a.exec(e));){var i=t[0];if(i.length>=2){var r,o=i.length,c=s()(i).call(i,0,o-1),l=i[o-1],u=T()(r=new Array(+c)).call(r,l);n.push.apply(n,u)}else n.push(i)}return n})),C=function(e,t){var n=e,a=GameCore.Utils.Object.invert(t),i={},r=0,s=0;return O(n).forEach((function(e){r=0,s++,i[s]||(i[s]={}),R(e).forEach((function(e){r++,i[s][r]=I(e,a)}))})),i},_=y()((function(e,t){var n=t[e];return"string"===typeof n?""+n.toUpperCase():"?"})),b=function e(t,n,a){void 0===a&&(a=!1);var i="";if(!GameCore.Utils.Valid.isObject(t))return i;var r="",o=1;for(var c in t)if(GameCore.Utils.Object.hasOwn(t,c)){var l=t[c];if(GameCore.Utils.Valid.isObject(l))i+=":"+e(l,n,!0);else if(GameCore.Utils.Valid.isString(l)){var u=_(l,n);u===r?(o++,i=s()(i).call(i,0,-2)):o=1,i+=""+o+u,r=u}}return i=i.replace(/1([A-Z])/g,"$1")},N=function(e){try{return atob(e)}catch(t){return""}},D={decodeMap:C,encodeMap:b,hashToString:N,stringToHash:function(e){try{return btoa(e)}catch(t){return""}}},w=function(e){try{return JSON.parse(e)}catch(t){return null}},P=n(61),L=n.n(P),x=function(e){try{return L()(e,null,0)}catch(t){return""}},M=function(e){return w(x(e))},k={clone:M,decode:w,encode:x},G=function(e){var t="object"===typeof e||"function"===typeof e,n=Array.isArray(e);return null!==e&&t&&!n},B=function(e){return void 0===e||null===e},U=function e(t){if(!G(t))return t;for(var n in t){B(t[n])&&delete t[n];var a=t[n];G(a)&&(t[n]=e(a))}return t},F=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},H=n(92),Y=n.n(H),W=function(e){var t={};return Y()(e).forEach((function(n){if(F(e,n)){var a=e[n];"string"===typeof a&&(t[a]=n)}})),t},V=function(e,t){if(!Array.isArray(e))return{};var n={};return e.forEach((function(e){if(F(e,t)){var a=e[t];"string"===typeof a&&(n[a]=e)}})),n},Z={clear:U,hasOwn:F,invert:W,keyBy:V},K=function(e){return e?e[0].toUpperCase()+s()(e).call(e,1):e},X=function(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},z=n(120),j=n.n(z),q=function(e){var t;return j()(t=Y()(e)).call(t,(function(t,n){var a=e[n];return void 0!==a&&t.push(n+"="+a),t}),[]).join("&")},J=function(e){void 0===e&&(e="0x");for(var t=e,n=0;n<6;n++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},Q=n(403),$=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\u0111\u0110]/g,(function(e){return"\u0111"===e?"d":"D"}))},ee=n(77),te=n.n(ee),ne=n(456),ae=n.n(ne),ie=function(e,t){var n,a=e.split(" "),i=(a.length<=1?te()(n=[]).call(n,a):[a[0],a.pop()]).join(" "),r=ae()(i).call(i," ")||0,s=r>=0?r:t;return(i.length>t?i.substring(0,s):i).substring(0,t)},re=n(261),se=n.n(re),oe=function(e){void 0===e&&(e=16);var t=function(t){return Math.floor(t).toString(e)};return t(Date.now()/1e3)+se()(" ").call(" ",e).replace(/./g,(function(){return t(Math.random()*e)}))},ce={capitalize:K,hashCode:X,params:q,toCamelCase:function(e){var t=e.replace(/[-_\s.]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}));return t.substr(0,1).toLowerCase()+t.substr(1)},toUpperCamelCase:function(e){var t=e.replace(/[-_\s.]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}));return t.substr(0,1).toUpperCase()+t.substr(1)},randomColor:J,random:Q.Z,removeDiacritics:$,getShortName:ie,generateObjectId:oe},le=function(e){return"boolean"===typeof e},ue=function(){return!1},he=function(e){return"function"===typeof e},de=function(e){return"number"===typeof e},pe=function(e){var t;return f()(t=["string","number","symbol"]).call(t,typeof e)>-1},Ee=function(e){return"string"===typeof e},fe=n(78),Se=n.n(fe),Ae=function(e,t,n){var a=n||{},i=a.timeout,r=void 0===i?1e3:i,s=a.checkInterval,o=void 0===s?100:s;return new(Se())((function(n){var a=setInterval((function(){("function"===typeof e?e():e)===("function"===typeof t?t():t)&&(clearInterval(a),n(!0))}),o);r>0&&setTimeout((function(){clearInterval(a),n(!1)}),r)}))},me={isBoolean:le,isDebugger:ue,isFunction:he,isNumber:de,isObject:G,isPropertyKey:pe,isString:Ee,isValueChangeAsync:Ae},ge=function(e){var t=e.scene,n=e.key,a=e.newKey,i=t.textures.get(n).getSourceImage();if(!i)return!1;var r=Math.min(i.width,i.height);a||t.textures.removeKey(n);var s=t.textures.createCanvas(a||n,r,r),o=s.context;return o.beginPath(),o.arc(r/2,r/2,r/2,0,2*Math.PI,!1),o.clip(),s.draw((i.width-r)/2,(i.height-r)/2,i),!0},Te=function(e){var t=e.scene,n=e.key,a=e.newKey,i=e.radius,r=e.width,s=e.height,o=t.textures.get(n).getSourceImage();if(!o)return!1;r||(r=o.width),s||(s=o.height),a||t.textures.removeKey(n);var c=t.textures.createCanvas(a||n,r,s),l=c.context,u=Math.min(r,s)/100*i/2;return l.beginPath(),l.moveTo(0+u,0),l.lineTo(0+r-u,0),l.quadraticCurveTo(0+r,0,0+r,0+u),l.lineTo(0+r,0+s-u),l.quadraticCurveTo(0+r,0+s,0+r-u,0+s),l.lineTo(0+u,0+s),l.quadraticCurveTo(0,0+s,0,0+s-u),l.lineTo(0,0+u),l.quadraticCurveTo(0,0,0+u,0),l.closePath(),l.clip(),c.draw(0,0,o),!0},ve=function(){return GameCore.Utils.Device.isDesktop()||GameCore.Utils.Device.pixelRatio()>1?2:1},ye=function(e,t){var n=e.split(","),a=n[0].match(/:(.*?);/);if(!a)return null;for(var i=a[1],r=atob(n[n.length-1]),s=r.length,o=new Uint8Array(s);s--;)o[s]=r.charCodeAt(s);return new File([o],t,{type:i})},Ie=n(193),Oe=n.n(Ie),Re=new Image,Ce=function(e,t){return void 0===t&&(t=!0),new(Se())((function(n){t&&(Re=new Image),Re.onload=function(){n(Re)},Re.onerror=function(){n(null)},Re.src=Oe().createObjectURL(e)}))},_e=n(59),be=n(40),Ne=n.n(be),De=function(){var e=(0,_e.Z)(Ne().mark((function e(t,n){var a;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()})).catch((function(){return null}));case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new File([a],n));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(e){if(f()(e).call(e,".")<0)return e;for(var t=e.length-1;t>=0;t--){if("."==e[t])return e.substring(0,t);if("0"!=e[t])return e.substring(0,t+1)}return e},Pe=function(e,t){var n=t||{},a=n.fractionalDigits,i=void 0===a?0:a,r=n.startAbbreviate,s=void 0===r?1e3:r,o=n.abbreviateStep,c=void 0===o?3:o,l=n.maxLength,u=void 0===l?-1:l,h=n.removeLastZero,d=void 0===h||h,p=n.suffixes,E=void 0===p?["","k","m","b","t","q"]:p,f=-1===u?99999999:u;if(e>=s){var S=Math.floor(e/Math.pow(10,c)),A=Math.floor((S.toString().length-1)/c)+1,m=(e/Math.pow(Math.pow(10,c),A)).toFixed(i),g=f-E[A].length,T=m.substring(0,g);return(d?we(T):T)+E[A]}var v=e.toFixed(i),y=f-E[0].length,I=v.substring(0,y);return d?we(I):I+E[0]},Le={Array:m,Hash:D,Json:k,Object:Z,String:ce,Valid:me,Image:{drawCircle:ge,drawBorder:Te,getImageScale:ve,base64ToFile:ye,blobToHtmlImage:Ce,blobUrlToFile:De},Number:{toAbbreviatedString:Pe,padStart:function(e,t,n){void 0===n&&(n="0");for(var a=e.toString(),i=a.length,r=0;r<t-i;r++)a=n+a;return a},padEnd:function(e,t,n){void 0===n&&(n="0");for(var a=e.toString(),i=a.length,r=0;r<t-i;r++)a+=n;return a}},Device:{isDesktop:function(){return!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobile:function(){return/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},isAndroid:function(){return window.__fbPlatform?"ANDROID"===window.__fbPlatform:/Android/i.test(navigator.userAgent)},isIOS:function(){return window.__fbPlatform?"IOS"===window.__fbPlatform:/iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobileWeb:function(){return window.__fbPlatform?"MOBILE_WEB"===window.__fbPlatform:/mobile/i.test(navigator.userAgent)},pixelRatio:function(){return Math.round(window.devicePixelRatio)||1}},Time:{isToday:function(e){var t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()},sleepAsync:function(e){return new(Se())((function(t){return setTimeout(t,e)}))}}},xe=n(76),Me=n(182),ke={ENV:"production",Notification:{Enable:!1},LeadersBoard:{Prefix:"leaderboards"},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Game:{DisableLandscape:!0,FullSizeOnLandscape:!1}},Ge={ENV:"production",AppId:"wood-block-puzzle",Notification:{Enable:!1},LeadersBoard:{Prefix:"leaderboards"},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1}},Be={ENV:"development",AppId:"1553561108173733",ApiHost:"https://fbig-singleplay-apps-dev.sunstudio.io",OtherHost:"https://leaderboards-dev.sunstudio.io",PlayerDataStoreUsingApi:!0,SyncProfileFromAPI:!0,Notification:{Enable:!0,DisableSendNotification:!1,ApiUrl:"https://notifications.sunstudio.io",GameTitle:"Wood Block Puzzle",GameImage:"https://sunstudio.io/images/logo.png",DailyNotificationMessages:{MONDAY:"Start your day with a clear mind! Arrange the wooden blocks and score high today! \ud83c\udf33",TUESDAY:"Ready for some fun? Your next adventure is waiting for you. Jump back in now! \ud83d\ude80",WEDNESDAY:"Aim for perfection! Can you clear the board completely today? \ud83c\udfaf",THURSDAY:"Challenge of the day: Can you beat it? Prove your skills and earn unique rewards. \ud83e\udde9",FRIDAY:"Game on! Your favorite wood block puzzle is waiting for you! \ud83d\udd79\ufe0f",SATURDAY:"Exercise your brain! Today's puzzle is ready for you! \ud83e\udde0",SUNDAY:"We'd love to hear from you! Log in to share your thoughts and suggestions, and let's make the game even better together. Plus, a reward for your feedback! \ud83c\udf08"}},AddShortcut:{UseMock:!1},SubscribeBot:{UseMock:!1},PlayerMock:{id:"",signature:""},OpponentMock:{id:"",signature:""},MatchMockFailRate:5,Gameplay:{StartLevel:1,StartScore:0,StartDiamonds:0,DefaultDiamondsForNewUser:300,LevelDifficultRate:{FromUnder30:1.07,FromUnder35:1.05,FromUnder45:1.05,FromUnder200:1.1},StartAdAtLevel:2,GiftTime:10800,AwardDiamonds:100,FreeItems:!1,DelayStart:2e3,DelayLevelUp:1800,DelayFinishGame:500,EnableVibrate:!0,VibrateValue:[0,200,270,340,410,480,600]},Tutorial:{ForceUseTutorial:!1,NumberOfTutorial:{FirstMove:3,TargetScore:1,CurrentScore:1,ColorfulGem:1,ItemPaint:1,ItemHammer:1,ItemShuffle:1}},PlayerDataStore:"YANDEX-PlayerData.WoodBlockPuzzle",Game:{AutoResize:!0,PortraitRatio:450/667,PortraitWidth:375,PortraitHeight:667,LandscapeRatio:760/450,LandscapeWidth:760,LandscapeHeight:500,ForcePixelRatio:0,AutoDropFps:!1,DisableLandscape:!1,FullSizeOnLandscape:!0},Debugger:{ShowInspector:!1,ShowMonitoring:!1,ShowConsole:!1,Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8,ListPlayerDevIds:[]},Statistics:{Enable:!1,DisplayMode:0,FPS:!0,MS:!0,MB:!0,Opacity:.8,ShowFPSInGame:!0,ShowMemoryInGame:!1},ParticleEditor:{Enable:!1,Opacity:.8,Expanded:!0},ProfilerPlugin:{Enable:!1},CanvasRecorder:{Enable:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},Match:{MaxRescueCount:1,RescueGamePopupTimeout:5,DelayNoThank:1e3,ContinueSingleMatchEnabled:!1,SingleMatchStore:"YANDEX-SingleMatch.WoodBlockPuzzle",LocalSingleMatchDefault:{_id:"12345678890",status:"open",playerId:"",score:0,level:1,startedAt:0,updateAt:0,finishAt:0,data:{}}},DailyRewards:{MaxDays:6,MockTime:0,CheckInterrupt:!0},DailyTasks:{Duration:86400},Tournament:{UseMock:!1,ForcePlay:!1,UseLeaderboard:!1,TournamentContextIds:[],YourMockTournamentCount:1},LeadersBoard:{Name:null,UseMock:!1,Prefix:"leaderboards",LeaderboardId:"609ce0a13f2485dac9c5f9b1",Limit:50,MockOptions:{PlayerEntryIndex:-1}},LanguageSupport:{en:"en"},EnableEffectSceneTransition:!0,DefaultTheme:"default",ThemeSupport:{default:"default"},Ads:{Enabled:!0,CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},InterstitialAdOptions:{pID:"",showWhenStartGame:!1,secondsFirstTime:30,secondsBetweenAds:30},RewardAdOptions:{pID:"",secondsFirstTime:0,secondsBetweenAds:0},BannerAdOptions:[{placementId:"123",position:"bottom",bannerWidth:320,bannerHeight:50,platform:"MOBILE",secondsReload:60},{placementId:"456",position:"right",bannerWidth:160,bannerHeight:600,platform:"DESKTOP",secondsReload:60}]},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Analytics:{GoogleAnalytics:{consoleLog:!1},FacebookAnalytics:{prefix:"fba",consoleLog:!1},FirebaseAnalytics:{consoleLog:!1}},MagnetItem:{key:"magnet-item",scoreForOnePercent:4,maxMagnetPerMatch:5},Board:{cols:8,rows:8},Sentry:{errorCodes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},errorMessages:{accepted:[],ignored:["Load image failed","Script error."]}},Rollbar:{Enable:!1,UseMockup:!1,FilterError:{Codes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{accepted:[],ignored:["Load image failed","Request failed to be processed","Script error."]}}},Performance:{Enable:!1,trackingSceneKeys:["DASHBOARD_SCENE","GAME_SCENE"],minQuality:1,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!0}};Be=(0,Me.TS)((0,xe.Z)({},Be),Ge);var Ue=Be=(0,Me.TS)((0,xe.Z)({},Be),ke),Fe=function(e){return function(t){try{var n=window.game,a=t.module;if(n.scene.getScenes(!0)[0].scene.key!==e)return;var i=a.default;n.scene.remove(e),n.scene.add(e,i,!0),n.scene.bringToTop(n.globalScene)}catch(s){var r;null==(r=void 0)||r.invalidate()}}},He=n(526),Ye=n.n(He),We=n(528),Ve=n.n(We),Ze=n(530),Ke=n.n(Ze),Xe=n(404),ze=!1,je=function e(t,n,a){n.forEach((function(n){if(n.name){var i=null;if(i=a?a.getByName(n.name):t.children.getByName(n.name)){if("Container"===n.type){var r=i,s=n.getAll();if(e(t,s,r),!r.hotContainer)return}var o=Ye()(n),c=["_events","_sysEvents","input","localTransform","list","displayList"],u=l()(o).call(o,(function(e){if("string"!==typeof e)return!1;if(f()(c).call(c,e)>=0)return!1;if(!i)return!1;var t=Ve()(n,e);return!(t instanceof Function)&&(!(t instanceof Phaser.Scene)&&(!(t instanceof Phaser.GameObjects.Group)&&(!(t instanceof Phaser.GameObjects.GameObject)&&t===Ve()(i,e))))}));u.length<1||u.forEach((function(e){if(i){var t=Ve()(n,e);Ve()(i,e),Ke()(i,e,t)}}))}}}))},qe={Configs:Ue,Utils:Le,LiveUpdate:{Scene:Fe,SceneObjects:function(e,t){return void 0===t&&(t=ze),function(n){try{var a=window.game,i=n.module,r=a.scene.getScenes(!0)[0];if(r.scene.key!==e)return;ze=t;var s=i.default,o=e+"-draft";a.scene.remove(o);var c=a.scene.add(o,s);r=a.scene.getScene(e),c.events.once(Phaser.Scenes.Events.RENDER,(0,Xe.D)((function(){var e=c.children.getAll();je(r,e),a.scene.remove(o)})),50),a.scene.run(o),a.scene.bringToTop(r),a.scene.bringToTop(a.globalScene)}catch(l){}}}}};window.GameCore=qe},585:function(e,t,n){"use strict";var a=n(59),i=n(31),r=n(40),s=n.n(r),o=n(116),c=n(421),l=GameCore.Utils.Object,u=GameCore.Ads,h=u.Types,d=u.Status,p=function(e){function t(t,n){var a;return(a=e.call(this,t)||this).instance=void 0,a.placementId=void 0,a.instanceLoadFailedQueue=void 0,a.isHasTooManyInstancesError=void 0,a.instance=null,a.placementId=n,a.instanceLoadFailedQueue=[],a.isHasTooManyInstancesError=!1,a}(0,i.Z)(t,e),t.setGame=function(e){self.game=e};var n=t.prototype;return n.loadAsync=function(){var e=(0,a.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===d.IDLE){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.status=d.LOADING,e.next=6,this.createInstanceByType(this.type);case 6:if(this.instance=e.sent,null!==this.instance){e.next=9;break}throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");case 9:return e.next=11,this.instance.loadAsync();case 11:this.status=d.FILLED,t=this.getSceneName(),this.type===h.PRE_ROLL&&self.game.analytics.loadPreRollAd(t),this.type===h.INTERSTITIAL&&self.game.analytics.loadInterstitialAd(t),this.type===h.REWARDED&&self.game.analytics.loadRewardedVideoAd(t),e.next=26;break;case 18:throw e.prev=18,e.t0=e.catch(2),this.status=d.IDLE,this.instance&&this.instanceLoadFailedQueue.push(this.instance),this.instance=null,n=this.getSceneName(),self.game.analytics.loadAdFail(this.type,n,e.t0),e.t0;case 26:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),n.showAsync=function(){var e=(0,a.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,e.prev=1,this.status===d.FILLED){e.next=4;break}throw new GameCore.Ads.AdError("AD_NOT_FILLED","Ads no fill.");case 4:if(this.status=d.SHOWING,null!==this.instance){e.next=7;break}throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");case 7:return this.isHasTooManyInstancesError&&self.game.analytics.event(o._.MISSING_AD_SHOW,{ad_type:this.type}),e.next=10,this.instance.showAsync();case 10:t=!0,this.status=d.IDLE,this.instance=null,e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(1),e.t0 instanceof Object&&l.hasOwn(e.t0,"code")?("ADS_NOT_LOADED"===e.t0.code?this.status=d.FILLED:(this.status=d.IDLE,this.instance=null),"USER_INPUT"===e.t0.code&&(this.status=d.IDLE,this.instance=null,t=!0)):(this.status=d.IDLE,this.instance=null),e.t0;case 19:return e.prev=19,window.focus(),n=this.getSceneName(),t?(this.type===h.PRE_ROLL&&self.game.analytics.showPreRollAd(n),this.type===h.INTERSTITIAL&&self.game.analytics.showInterstitialAd(n),this.type===h.REWARDED&&self.game.analytics.showRewardedVideoAd(n)):self.game.analytics.showAdFail(this.type,n),e.finish(19);case 24:case"end":return e.stop()}}),e,this,[[1,15,19,24]])})));return function(){return e.apply(this,arguments)}}(),n.getStatus=function(){return this.status},n.createInstanceByType=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=self.game.facebook,e.prev=1,e.t0=t,e.next=e.t0===h.REWARDED?5:e.t0===h.INTERSTITIAL||e.t0===h.PRE_ROLL?8:11;break;case 5:return e.next=7,n.getRewardedVideoAsync(this.placementId);case 7:case 10:return e.abrupt("return",e.sent);case 8:return e.next=10,n.getInterstitialAdAsync(this.placementId);case 11:case 20:return e.abrupt("return",null);case 12:e.next=21;break;case 14:if(e.prev=14,e.t1=e.catch(1),!(e.t1 instanceof Object&&l.hasOwn(e.t1,"code"))){e.next=20;break}if("ADS_TOO_MANY_INSTANCES"!==e.t1.code){e.next=20;break}return this.isHasTooManyInstancesError=!0,e.abrupt("return",this.instanceLoadFailedQueue.shift()||null);case 21:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),n.getSceneName=function(){try{var e=self.game.globalScene;return e instanceof c.Z?e.getCurrentScene().scene.getSceneName():"unknown"}catch(t){return"unknown"}},t}(GameCore.Ads.AdInstance);t.Z=p},417:function(e,t,n){"use strict";n.d(t,{U:function(){return v},v:function(){return y}});var a=n(76),i=n(59),r=n(40),s=n.n(r),o=n(61),c=n.n(o),l=n(31),u=n(183),h=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="BadRequest",a.message=t||"This request is bad",a.payload=n,a}return(0,l.Z)(t,e),t}((0,u.Z)(Error)),d=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="RequestTimeout",a.message=t||"This request is timeout",a.payload=n,a}return(0,l.Z)(t,e),t}((0,u.Z)(Error)),p=n(115),E=GameCore.Configs,f=E.AppId,S=E.Network,A=function(e){if(!e.ok)throw new h(null,{response:e})},m=function(){var e=window.game.auth.getToken();return{token:e,timeout:S.Timeout,headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}},g=function(e,t,n,a){return(0,i.Z)(s().mark((function i(){var r,o,l,u,p;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,r=e+"/apps/"+f+"/"+t,o=new AbortController,n.signal=o.signal,l=setTimeout((function(){o.abort()}),n.timeout),GameCore.Utils.Valid.isObject(a)&&(n.body=c()(a)),i.next=8,fetch(r,n);case 8:return u=i.sent,clearTimeout(l),A(u),i.next=13,u.json();case 13:if(i.t0=i.sent,i.t0){i.next=16;break}i.t0={};case 16:return p=i.t0,i.abrupt("return",p);case 20:if(i.prev=20,i.t1=i.catch(0),!(i.t1 instanceof h)){i.next=24;break}return i.abrupt("return",null);case 24:if(!(i.t1 instanceof Object&&GameCore.Utils.Object.hasOwn(i.t1,"name"))){i.next=27;break}if("AbortError"!==i.t1.name){i.next=27;break}throw new d(null);case 27:throw i.t1;case 28:case"end":return i.stop()}}),i,null,[[0,20]])})))},T=function(){var e=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t());case 4:if(e.prev=4,e.t0=e.catch(0),!(e.t0 instanceof d&&n>0)){e.next=18;break}return e.prev=7,e.next=10,(0,p.qZ)(600);case 10:return e.next=12,T(t,n-1);case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t1=e.catch(7),e.abrupt("return",{});case 18:if(!(e.t0 instanceof d)){e.next=20;break}return e.abrupt("return",{});case 20:return e.abrupt("return",{});case 22:case"end":return e.stop()}}),e,null,[[0,4],[7,15]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)(s().mark((function e(t,n,i,r){var o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),void 0===r&&(r=S.Retries),e.prev=2,o=(0,a.Z)({},m(),n,{method:"GET"}),c=g(i,t,o),e.next=7,T(c,r);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,a,i){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)(s().mark((function e(t,n,i,r,o){var c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),void 0===o&&(o=S.Retries),e.prev=2,c=(0,a.Z)({},m(),i,{method:"POST"}),l=g(r,t,c,n),e.next=7,T(l,o);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,a,i,r){return e.apply(this,arguments)}}()},413:function(e,t,n){"use strict";n.d(t,{DW:function(){return c},EH:function(){return r},fJ:function(){return i},kL:function(){return a},qj:function(){return s},rh:function(){return o}});var a="CONTEXT_RECEIVED",i="CONTEXT_PROCESSED",r="CONTEXT_GAME_MODE_DETECTED",s="MESSAGES_SENT_UPDATE",o="MESSAGES_SENT_REMOVE",c="SCENE_KEY_UPDATE"},598:function(e,t,n){"use strict";var a=n(31),i=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="TournamentNotFound",a.message=t||"A Tournament with current context was not found",a.payload=n,a.code="TOURNAMENT_NOT_FOUND",a}return(0,a.Z)(t,e),t}((0,n(183).Z)(Error));t.Z=i},90:function(e,t,n){"use strict";var a=n(182),i=function(){function e(e,t){if(this.scene=void 0,this.config=void 0,this.isStarted=void 0,this.tween=void 0,!(t.targets.length<1)){this.buildConfig(e,t);var n=this.config.targets[0].scene;n&&(this.scene=n,this.isStarted=!1,this.tween=n.tweens.create(this.config))}}var t=e.prototype;return t.buildConfig=function(e,t){this.config=(0,a.TS)(e,t)},t.play=function(){this.tween&&(this.isStarted&&this.tween.hasStarted?this.restart():(this.tween.play(),this.isStarted=!0))},t.restart=function(){var e;null==(e=this.tween)||e.restart()},t.stop=function(){var e;null==(e=this.tween)||e.stop()},t.remove=function(){var e;null==(e=this.tween)||e.remove()},t.next=function(e){return this.tween?(this.tween.off(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween.once(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween):null},e}();t.Z=i},423:function(e,t,n){"use strict";var a=n(31),i=n(90),r={targets:[],duration:600,ease:Phaser.Math.Easing.Linear,props:{angle:{from:0,to:360}}},s=function(e){function t(t){return e.call(this,r,t)||this}return(0,a.Z)(t,e),t}(i.Z);t.Z=s},425:function(e,t,n){"use strict";var a=n(174),i=n.n(a)()(.48,1.57,.6,.83);t.Z=i},427:function(e,t,n){"use strict";var a=n(31),i=n(90),r={targets:[],duration:600,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{start:1,from:1,to:0}}},s=function(e){function t(t){return e.call(this,r,t)||this}return(0,a.Z)(t,e),t}(i.Z);t.Z=s},424:function(e,t,n){"use strict";var a=n(31),i=n(90),r={targets:[],duration:300,ease:n(425).Z,props:{scale:{from:1.2,to:1}}},s=function(e){function t(t){return e.call(this,r,t)||this}return(0,a.Z)(t,e),t}(i.Z);t.Z=s},422:function(e,t,n){"use strict";var a=n(186),i=n(31),r=n(185),s=n(423),o=r.Z.DEFAULT,c=o.KEY,l=o.FRAME,u=function(e){function t(t){var n;return(n=e.call(this,t,0,0,c,l.PRELOADER)||this).anim=void 0,n.runAnimation(),n.setWorldSize(60,60),n.scene.add.existing((0,a.Z)(n)),n}(0,i.Z)(t,e);var n=t.prototype;return n.runAnimation=function(){var e;null==(e=this.anim)||e.remove(),this.anim=new s.Z({targets:[this],repeat:-1,duration:1200}),this.anim.play()},n.setVisible=function(t){return e.prototype.setVisible.call(this,t),t?this.runAnimation():this.anim.stop(),this},t}(Phaser.GameObjects.Image);t.Z=u},426:function(e,t){"use strict";t.Z={BACKGROUND:1,FIREWORKS:5,ITEM:10,LOGO:15,BUTTON:20,TILE:25,TEXT:30,ENCOURAGING:31,EFFECT:32,MESSAGE:33,POPUP:999,PRIORITY:80,DEBUG:90,DICE:99,PIECE:99,ON_TOP:1e4}},429:function(e,t){"use strict";t.Z={min:18,max:60}},420:function(e,t){"use strict";t.Z={PRIMARY:{KEY:"font-main",TEXTURE:"./assets/fonts/primary.png",DATA:"./assets/fonts/primary.fnt"},PRIMARY_LIGHT:{KEY:"font-main-light",TEXTURE:"./assets/fonts/primary-light.png",DATA:"./assets/fonts/primary-light.fnt"},NUMBER_GOLD:{KEY:"number-gold",TEXTURE:"./assets/fonts/number-gold.png",DATA:"./assets/fonts/number-gold.xml"},FONT_FAMILY:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif'}},409:function(e,t){"use strict";var n={AVATAR:{KEY:"avatar",FILE:"./assets/images/others/avatar.png",CONFIG:{}},ICON_EARTH:{KEY:"icon-earth",FILE:"./assets/images/others/icon-earth.png",CONFIG:{}},BACKGROUND:{KEY:"background",FILE:"./assets/images/"+GameCore.Utils.Image.getImageScale()+"x/bg.jpg",CONFIG:{}}};t.Z=n},185:function(e,t,n){"use strict";var a=n(76),i=GameCore.Utils.Image.getImageScale(),r={TUTORIAL:{KEY:"tutorial-resources",TEXTURE:"./assets/textures/"+i+"x/tutorial-resources.png",JSON:"./assets/textures/"+i+"x/tutorial-resources.json",FRAME:{HAND:"hand",BLANK:"blank",STEP_1:"step-1",STEP_1_1:"step-1-1",STEP_2:"step-2",STEP_2_1:"step-2-1",STEP_2_2:"step-2-2",STEP_2_3:"step-2-3"}},DEFAULT:{KEY:"default-resources",TEXTURE:"./assets/textures/"+i+"x{langcode}/default-resources.png",JSON:"./assets/textures/"+i+"x{langcode}/default-resources.json",URL:"./assets/textures/"+i+"x{langcode}/",FRAME:{BLANK:"blank",LOGO:"title-logo",GEMS:"title-gems",TEXT_LOADING:"loading",BOTTOM_BG:"bottom-bg",BOTTOM_LINE:"bottom-line",GLARE:"glare",TITLE_YOUR_SCORE:"title-your-score",BG_YOUR_SCORE:"bg-your-score",PRELOADER:"preloader/dual-ring",LEADERBOARD_TAB_ON:"leaderboards/tab-on",LEADERBOARD_TAB_OFF:"leaderboards/tab-off",LEADERBOARD_BG_DARK:"leaderboards/bg-dark",LEADERBOARD_BG_LIGHT:"leaderboards/bg-light",RIBBON_MAIN:"ribbon/main",RIBBON_GAME_OVER:"ribbon/game-over",AVATAR_BORDER:"avatar/border",AVATAR_BORDER_ORANGE_THICK:"avatar/border-orange-thick",AVATAR_BORDER_ORANGE_THIN:"avatar/border-orange-thin",AVATAR_BORDER_YELLOW:"avatar/border-yellow",AVATAR_BACKGROUND:"avatar/background",POPUP_TOP:"popup/top",POPUP_MID:"popup/middle",POPUP_BOTTOM:"popup/bottom",ICON_ADS:"icons/flat-ad",ICON_CUP_GOLD:"icons/cup-gold",ICON_CUP_SILVER:"icons/cup-silver",ICON_CUP_COPPER:"icons/cup-bronze",ICON_SOUND:"icons/sound",ICON_VIBRATE:"icons/vibrate",ICON_MUSIC:"icons/music",ICON_WHITE_SWORD:"icons/white-sword",ICON_RANK:"icons/rank",ICON_CUP_BG:"icons/cup-bg",ICON_PLAY:"icons/play",ICON_SHARE:"icons/share",ICON_ROPE:"icons/rope",ICON_THUNDER:"icons/thunder",ICON_INVITE:"icons/invite",ICON_CROWN:"icons/crown",BUTTON_CLOSE:"buttons/close",BUTTON_RED:"buttons/red",BUTTON_BLUE:"buttons/blue",BUTTON_BLUE_SMALL:"buttons/blue-small",BUTTON_BLUE_BIG:"buttons/blue-big",BUTTON_BLUE_MEDIUM:"buttons/blue-medium",BUTTON_GREEN:"buttons/green",BUTTON_BROWN:"buttons/brown",BUTTON_GREEN_RIM:"buttons/green-rim",BUTTON_GREEN_SMALL:"buttons/green-small",BUTTON_GREEN_BIG:"buttons/green-big",BUTTON_BG_WOODEN_ON:"buttons/bg-wood-on",BUTTON_BG_WOODEN_OFF:"buttons/bg-wood-off",BUTTON_PLAY:"buttons/play",BUTTON_RANDOM:"buttons/random",BUTTON_RESTART:"buttons/restart",BUTTON_BACK:"buttons/back",BUTTON_CHALLENGE_DARK:"buttons/challenge_dark",BUTTON_CHALLENGE_LIGHT:"buttons/challenge_light",BUTTON_SHARE_DARK:"buttons/share",BUTTON_HOME:"buttons/button-home",NO_THANK_TEXT:"texts/no-thank",TEXT_VS:"texts/vs",TEXT_LOSE:"texts/lose",TEXT_WIN:"texts/win",TEXT_DRAW:"texts/draw",TEXT_PLAY_WITH_FRIEND:"texts/play-with-friend",TEXT_PLAY_WITH:"texts/play-with",TEXT_SOLO:"texts/solo",TEXT_LET_PLAY:"texts/let-play",TEXT_GAME_OVER:"texts/game-over",TEXT_SCORE:"texts/text-score",TEXT_BEST:"texts/text-best",TEXT_PLAY:"texts/play",TEXT_SHARE:"texts/share",TEXT_BEST_SCORE:"texts/best-score",TEXT_PLAY_WITH_FRIENDS:"texts/play-with-friends",TEXT_CONTINUE:"texts/continue",TEXT_LEADER_BOARD:"texts/leader-board",TEXT_WORLD:"texts/world",TEXT_FRIENDS:"texts/friends",TEXT_INVITE:"texts/invite",TEXT_NEW_GAME:"texts/new-game"}},EFFECTS:{KEY:"effects-resources",PATH:"./assets/textures/"+i+"x{langcode}/effects-resources.png",JSON:"./assets/textures/"+i+"x{langcode}/effects-resources.json",FRAME:{BLANK:"blank",FX_STAR:"star",FX_COMET:"comet",FX_SPARK:"spark",FX_CIRCLE:"circle",FX_CIRCLE_LIGHT:"circle-light",FX_GLOW_LIGHT:"glow-light",FX_GLOW_SMALL:"glow-small",FX_STAR_WHITE:"star-white",FX_STAR_YELLOW:"star-yellow",FX_GLOW:"glow",FX_SPARKLE:"sparkle",FX_GLOW_RESCUE:"glow-rescue",FX_GLOW_HALF:"glow-half",FX_CONFETTI_SMALL_1:"confetti/small-1",FX_CONFETTI_SMALL_2:"confetti/small-2",FX_CONFETTI_SMALL_3:"confetti/small-3",FX_CONFETTI_SMALL_4:"confetti/small-4",FX_CONFETTI_HEXAGON:"confetti/hexagon-",FX_CONFETTI_STAR_X:"confetti/star-x/star-",FX_CONFETTI_STAR_Y:"confetti/star-y/star-",FX_CONFETTI_RIBBON:"ribbon",TEXT_COOL:"text/text_cool",TEXT_EXCELLENT:"text/text_excellent",TEXT_GOOD:"text/text_good",PREFIX_ANIMATION_RIBBON_CONFETTI_A:"ribbon/falling-confetti/confetti-a/confetti-a-",PREFIX_ANIMATION_RIBBON_CONFETTI_B:"ribbon/falling-confetti/confetti-b/confetti-b-",PREFIX_ANIMATION_RIBBON_CONFETTI_C:"ribbon/falling-confetti/confetti-c/confetti-c-",PREFIX_ANIMATION_RIBBON_CONFETTI_D:"ribbon/falling-confetti/confetti-d/confetti-d-",ANIMATION_STAR_X:"star-x/star-",ANIMATION_STAR_Y:"star-y/star-"}},GAMEPLAY_JPG:{KEY:"gameplay_jpg",TEXTURE:"./assets/textures/"+i+"x/gameplay_jpg.jpg",JSON:"./assets/textures/"+i+"x/gameplay_jpg.json",FRAME:{BOARD_TOP_BG:"top.png",BOARD_CENTER_BG:"middle.png",BOARD_BOTTOM_BG:"bottom.png",PANEL_BOTTOM_2:"panel_bottom_2.png",PANEL_TOP_1:"panel_top_1.png"}},ANIMATION_SCENE:{KEY:"effects-resources",PATH:"./assets/textures/"+i+"x/",JSON:"./assets/textures/"+i+"x/animation-scene-resources.json",FRAME:{BLANK:"blank",COIN:"coins/coin",COIN_SMALL:"coins/coin-small",COIN_SMALL_GREY:"coins/coin-small-grey",ANIMATION_STAR_X:"star-x/star-",ANIMATION_STAR_Y:"star-y/star-",FX_SPARK_YELLOW:"yellow-spark",FX_CONFETTI_RIBBON:"ribbon/ribbon",PREFIX_ANIMATION_RIBBON_CONFETTI_A:"ribbon/falling-confetti/confetti-a/confetti-a-",PREFIX_ANIMATION_RIBBON_CONFETTI_B:"ribbon/falling-confetti/confetti-b/confetti-b-",PREFIX_ANIMATION_RIBBON_CONFETTI_C:"ribbon/falling-confetti/confetti-c/confetti-c-",PREFIX_ANIMATION_RIBBON_CONFETTI_D:"ribbon/falling-confetti/confetti-d/confetti-d-"}},GAMEPLAY:{KEY:"gameplay-resources",TEXTURE:"./assets/textures/"+i+"x{langcode}/gameplay-resources.png",JSON:"./assets/textures/"+i+"x{langcode}/gameplay-resources.json",FRAME:{BLANK:"blank",PANEL_BOTTOM_1:"panel_bottom_1",PANEL_TOP_2:"panel_top_2",BG_SCORE:"bg-score",AVATAR_BORDER:"avatars/border",AVATAR_BACKGROUND:"avatars/background",ICON_PAUSE:"icons/pause",ICON_CUP:"icons/cup",ICON_BATTLE:"icons/battle",TEXT_SCORE:"text/text-score",TEXT_BEST:"text/text-best",GEM:"gem/gem",GEM_SILVER:"gem/gem_silver",GEM_TRANSPARENT:"gem/gem_transparent"}},DEMO_SPINE:{KEY:"demo-spine",jsonPATH:"./assets/spines/demo/demo.json",atlasPATH:"./assets/spines/demo/demo.atlas"}};GameCore.Utils.Valid.isDebugger()&&(r.EFFECTS.FRAME=(0,a.Z)({},r.ANIMATION_SCENE.FRAME,r.EFFECTS.FRAME)),t.Z=r},184:function(e,t,n){"use strict";n.d(t,{Co:function(){return r},K5:function(){return s}});var a=n(197),i=n.n(a),r={BOOT_SCENE:"BOOT_SCENE",LOAD_SCENE:"LOAD_SCENE",GAME_SCENE:"GAME_SCENE",GLOBAL_SCENE:"GLOBAL_SCENE",DASHBOARD_SCENE:"DASHBOARD_SCENE",GAME_OVER_SCENE:"GAME_OVER_SCENE",LEADERBOARD_SCENE:"LEADERBOARD_SCENE",TEST_SCENE:"TEST_SCENE",ANIMATIONS_SCENE:"ANIMATIONS_SCENE"},s={SWITCH:i()("SWITCH"),LAUNCH:i()("LAUNCH")};!function(e){e[e.SCENE=0]="SCENE",e[e.POPUP=1]="POPUP"}({})},419:function(e,t,n){"use strict";n.d(t,{Ks:function(){return i},o4:function(){return a}});var a={DASH_BOARD_SCREEN:"DASH_BOARD_SCREEN",NOTIFY_SCREEN:"NOTIFY_SCREEN",REWARD_SCREEN:"REWARD_SCREEN",RESCUE_SCREEN:"RESCUE_SCREEN",SETTINGS_SCREEN:"SETTINGS_SCREEN",BEST_SCORE_SCREEN:"BEST_SCORE_SCREEN",RESULT_SCREEN:"RESULT_SCREEN",DAILY_REWARD_SCREEN:"DAILY_REWARD_SCREEN",DAILY_MISSIONS_SCREEN:"DAILY_MISSIONS_SCREEN",GAME_OVER_SCREEN:"GAME_OVER_SCREEN"},i={SCREEN:200,POPUP:300,PRIORITY:999}},428:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(31),i=n(118),r=n.n(i),s=n(116),o=function(e){function t(t,n,a){var i;return(i=e.call(this,t,0,0,n,a)||this).setOrigin(0,0),i}return(0,a.Z)(t,e),t}(Phaser.GameObjects.Zone),c=n(429),l=n(184),u=n(416),h={LAYOUT_UPDATE:"layout-update"},d=GameCore.Configs.Game,p=function(e){function t(){var t;return(t=e.call(this,{visible:!1})||this).unsubscribeList=void 0,t.gameZone=void 0,t.background=void 0,t.handleOpenScene=function(){t.logPageviewOnOpen(),t.logEventOpen()},t.handleResize=function(){if(t.background&&t.gameZone){var e=t.world.getResizeEventData(),n=e.width,a=e.height;t.gameZone.setSize(n,a),t.background.setPosition(n/2,a/2),t.background.setDisplaySize(n,a),t.events.emit(h.LAYOUT_UPDATE)}},t.removeStateChange=function(){t.unsubscribeList.forEach((function(e){return e()}))},t}(0,a.Z)(t,e);var n=t.prototype;return n.create=function(){var e=this;this.events.on("wake",this.handleOpenScene),this.events.on("resume",this.handleOpenScene),this.events.on("create",this.handleOpenScene),this.world.events.on(u.Z.RESIZE,this.handleResize),this.scaleGame(),this.createGameZone(),this.events.on(Phaser.Scenes.Events.UPDATE,(function(){d.AutoDropFps&&e.autoUpdateFPS()}))},n.scaleGame=function(){var e=this.getCamera("main"),t=this.world.getZoomRatio(),n=this.world.getWorldSize(),a=n.width,i=n.height;e.setZoom(t),e.centerOn(a/2,i/2)},n.createGameZone=function(){var e=this.world.getWorldSize(),t=e.width,n=e.height;this.gameZone=new o(this,t,n)},n.autoUpdateFPS=function(){this.scene.key!==l.Co.GLOBAL_SCENE&&(this.tweenPlaying()||this.particlePlaying()?this.game.updateFps(c.Z.max):this.game.updateFps(c.Z.min))},n.tweenPlaying=function(){for(var e=this.tweens.getAllTweens(),t=0;t<e.length;t++)if(e[t].isPlaying())return!0;return!1},n.particlePlaying=function(){var e=this.getAllParticles();if(!e)return!0;var t=!1;return e.forEach((function(e){e.emitters.list.forEach((function(e){e.alive&&e.alive.length>0&&(t=!0)}))})),t},n.getAllParticles=function(){if(this.input.enabled&&this.scene.isActive()&&!this.scene.isPaused()){var e=this.children.list;return!e||e.length<=0?[]:r()(e).call(e,(function(e){return"ParticleEmitterManager"===e.type}))}},n.getCamera=function(e){return"main"===e?this.cameras.main:this.cameras.getCamera(e)},n.createMask=function(e){void 0===e&&(e=1),this.getCamera("main").setBackgroundColor("rgba(0, 0, 0, "+e+")")},n.fontSize=function(e){return e/2.4},n.createBackground=function(e,t,n,a){try{this.background?(this.background.setTexture(e),t&&this.background.setFrame(t)):this.background=this.make.image({key:e,frame:t}),this.background.setName(e);var i=this.gameZone,r=i.displayWidth,s=i.displayHeight;this.background.setDisplaySize(r,s),GameCore.Utils.Valid.isNumber(n)&&this.background.setAlpha(n),GameCore.Utils.Valid.isNumber(a)&&this.background.setTint(a),Phaser.Display.Align.In.Center(this.background,this.gameZone)}catch(o){}},n.handleStateChange=function(e){var t=this;this.unsubscribeList=[],e.forEach((function(e){var n=e.selector,a=e.callback,i=t.storage.watch(n,a);t.unsubscribeList.push(i)})),this.events.once("sleep",this.removeStateChange),this.events.once("destroy",this.removeStateChange),this.events.once("shutdown",this.removeStateChange)},n.logPageviewOnOpen=function(){this.analytics.pageview(this.scene.key)},n.logEventOpen=function(){this.analytics.event(s._.SCREEN_OPEN,{screen_name:this.getSceneName()})},n.getSceneName=function(){return GameCore.Utils.String.toUpperCamelCase(this.scene.key.toLowerCase())},t}(Phaser.Scene)},421:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var a=n(415),i=n(31),r=n(77),s=n.n(r),o=n(90),c={targets:[],duration:600,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,from:0,to:1}}},l=function(e){function t(t){return e.call(this,c,t)||this}return(0,i.Z)(t,e),t}(o.Z),u=n(427),h=n(185),d=n(184),p=n(419),E=n(418),f=(0,n(414).P1)([function(e){return e.scene.currentSceneKey}],(function(e){return e})),S=n(406),A=n(428),m=n(186),g=n(420),T=n(426),v=h.Z.DEFAULT,y=v.KEY,I=v.FRAME,O=function(e){function t(t){var n;return(n=e.call(this,t,0,0)||this).fps=0,n.fpsString="FPS: %1",n.fpsText=void 0,n.background=void 0,n.lastUpdate=void 0,n.update=function(e){if(!(e-n.lastUpdate<800)){n.lastUpdate=e;var t=Math.floor(n.scene.game.loop.actualFps);n.setFps(t)}},n.createFps(),n.setDepth(T.Z.DEBUG),n.scene.add.existing((0,m.Z)(n)),n.scene.events.on(Phaser.Scenes.Events.UPDATE,n.update),n}(0,i.Z)(t,e);var n=t.prototype;return n.setFps=function(e){this.fps=e;var t=Phaser.Utils.String.Format(this.fpsString,[e]);this.fpsText.setText(t)},n.createFps=function(){this.background=this.scene.make.image({key:y,frame:I.BLANK}),this.background.setName("BG"),this.background.setTint(13801480),this.background.setWorldSize(45,25),this.fpsText=this.scene.make.bitmapText({size:this.scene.fontSize(14),text:this.fpsString,font:g.Z.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.fpsText.setName("FPS Meter"),Phaser.Display.Align.In.Center(this.fpsText,this.background),this.add([this.background,this.fpsText]),this.setFps(0)},t}(Phaser.GameObjects.Container),R=O,C=function(e){function t(t){var n;if((n=e.call(this,t,0,0)||this).performance=void 0,n.memory=0,n.maxMemoryLimit=void 0,n.maxPercentThreshold=void 0,n.normalColor=3459162,n.warningColor=16768343,n.alarmColor=15812200,n.memoryString="Memory: %1MB / %2MB",n.memoryText=void 0,n.lastUpdate=void 0,n.update=function(e){if(!(e-n.lastUpdate<1e3)){n.lastUpdate=e;var t=n.performance.memory.usedJSHeapSize,a=1048576*n.maxMemoryLimit,i=Math.round(t/1048576);n.setMemory(i),n.memoryText.setTint(n.normalColor),t>n.maxPercentThreshold/100*a&&n.memoryText.setTint(n.warningColor),t>a&&n.memoryText.setTint(n.alarmColor)}},n.performance=window.performance,n.createMemory(),n.setDepth(T.Z.DEBUG),n.scene.add.existing((0,m.Z)(n)),!n.isSupport())return n.memoryText.setText("Memory: not supported!"),(0,m.Z)(n);var a=n.performance.memory.jsHeapSizeLimit;return n.maxPercentThreshold=90,n.setMaxMemory(a/1048576),n.scene.events.on(Phaser.Scenes.Events.UPDATE,n.update),n}(0,i.Z)(t,e);var n=t.prototype;return n.isSupport=function(){var e;return this.performance&&!(null==(e=this.performance)||!e.memory)},n.setMaxMemory=function(e){this.maxMemoryLimit=Math.round(e)},n.setMemory=function(e){this.memory=e;var t=Phaser.Utils.String.Format(this.memoryString,[e,this.maxMemoryLimit]);this.memoryText.setText(t)},n.createMemory=function(){this.memoryText=this.scene.make.bitmapText({size:this.scene.fontSize(14),text:this.memoryString,font:g.Z.PRIMARY.KEY,depth:2e3}),this.memoryText.setName("Memory Meter"),this.add(this.memoryText),this.setMemory(0)},t}(Phaser.GameObjects.Container),_=C,b=n(424),N=n(422),D=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).loadingIcon=void 0,r.messageText=void 0,r.openAnimation=void 0,r.closeTimerEvent=void 0,r.addLoadingIcon(),r.addMessageText(),r.setDepth(p.Ks.PRIORITY),r.background.setAlpha(.8),r}(0,i.Z)(t,e);var n=t.prototype;return n.open=function(t){var n,a=this;e.prototype.open.call(this,t);var i=this.getData(["message","duration","loading"]),r=i[0],s=void 0===r?"":r,o=i[1],c=void 0===o?0:o,l=i[2],u=void 0!==l&&l;this.setMessage(s),this.showLoading(u),null==(n=this.closeTimerEvent)||n.remove(),c>0&&(this.closeTimerEvent=this.scene.time.addEvent({delay:c,callback:function(){a.visible&&a.scene.screen.close(a.name)}})),this.runOpenAnimation()},n.addLoadingIcon=function(){this.loadingIcon=new N.Z(this.scene),this.add(this.loadingIcon),Phaser.Display.Align.In.Center(this.loadingIcon,this.zone)},n.addMessageText=function(){this.messageText=this.scene.make.bitmapText({size:this.scene.fontSize(50),font:g.Z.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.messageText.setCenterAlign(),"ar"==this.scene.facebook.getLocale()&&(this.messageText=this.scene.make.text({style:{fontFamily:g.Z.FONT_FAMILY,fontSize:this.scene.fontSize(50)+"px"},origin:{x:.5,y:.5}}),this.messageText.setAlign("center")),this.add(this.messageText)},n.setMessage=function(e){this.messageText.setText(e)},n.showLoading=function(e){this.loadingIcon.setVisible(e);var t=!1===e?20:80;Phaser.Display.Align.In.Center(this.messageText,this.zone,0,t)},n.runOpenAnimation=function(){var e,t;null==(e=this.openAnimation)||e.stop(),null==(t=this.openAnimation)||t.remove(),this.openAnimation=new b.Z({targets:[this.messageText,this.loadingIcon],props:{scale:{getStart:function(e){return e.scale-.3},getEnd:function(e){return e.scale}}}}),this.openAnimation.play()},n.logPageviewOnOpen=function(){},n.logPageviewOnClose=function(){},t}(GameCore.Screen),w=D,P=h.Z.DEFAULT,L=P.KEY,x=P.FRAME,M=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,s()(t=[this]).call(t,i))||this).mask=void 0,n.fadeInAnim=void 0,n.fadeOutAnim=void 0,n.fpsMeter=void 0,n.memoryMeter=void 0,n.switchScene=function(e){n.currentScene.switch(e)},n.emitGameEventStartScene=function(e){var t=e.scene.key;n.updateSceneState(),n.runMaskFadeOutAnimation(),n.updateActiveSceneKey(t),n.game.events.emit(Phaser.Scenes.Events.START,t),(0,S.sw)("scene","Start scene: "+t)},n.emitGameEventSleepScene=function(e){var t=e.scene.scene.key;t!==d.Co.LOAD_SCENE&&(n.runMaskFadeInAnimation(),n.game.events.emit(Phaser.Scenes.Events.SLEEP,t))},n.emitGameEventWakeScene=function(e){var t=e.scene.scene.key;t!==d.Co.LOAD_SCENE&&(n.updateSceneState(),n.runMaskFadeOutAnimation(),n.updateActiveSceneKey(t),n.game.events.emit(Phaser.Scenes.Events.WAKE,t))},n.emitGameEventPauseScene=function(e){var t=e.scene.scene.key;n.game.events.emit(Phaser.Scenes.Events.PAUSE,t)},n.emitGameEventResumeScene=function(e){var t=e.scene.key;n.game.events.emit(Phaser.Scenes.Events.RESUME,t)},n.emitGameEventShutdownScene=function(e){var t=e.scene.scene.key;n.game.events.emit(Phaser.Scenes.Events.SHUTDOWN,t)},n}(0,i.Z)(t,e);var n=t.prototype;return n.init=function(){this.listenScenesEvents(),this.game.globalScene=this},n.setup=function(){this.scaleGame(),this.addMask(),this.addNotifyScreen(),this.addFPS(),this.addMemory()},n.addNotifyScreen=function(){var e=this.screen.add(p.o4.NOTIFY_SCREEN,w);Phaser.Display.Align.In.Center(e,this.gameZone)},n.addMask=function(){this.mask=this.make.image({key:L,frame:x.BLANK});var e=this.gameZone,t=e.width,n=e.height;this.mask.setAlpha(0),this.mask.setOrigin(0,0),this.mask.setTint(0),this.mask.setWorldSize(t,n)},n.addFPS=function(){GameCore.Configs.Statistics.ShowFPSInGame&&(this.fpsMeter=new R(this),Phaser.Display.Align.In.TopLeft(this.fpsMeter,this.gameZone,-20,-10))},n.addMemory=function(){GameCore.Configs.Statistics.ShowMemoryInGame&&(this.memoryMeter=new _(this),Phaser.Display.Align.In.TopLeft(this.memoryMeter,this.gameZone,-45,-3))},n.updateSceneState=function(){this.setGlobalSceneOnTop()},n.setGlobalSceneOnTop=function(){this.scene.bringToTop(this)},n.runMaskFadeInAnimation=function(){var e,t;this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(null==(e=this.fadeInAnim)||e.remove(),null==(t=this.fadeOutAnim)||t.remove(),this.fadeInAnim=new l({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.In,props:{alpha:{start:0,from:0,to:.6}}}),this.mask.setAlpha(0),this.fadeInAnim.play())},n.runMaskFadeOutAnimation=function(){var e,t;this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(null==(e=this.fadeInAnim)||e.remove(),null==(t=this.fadeOutAnim)||t.remove(),this.fadeOutAnim=new u.Z({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:.6,from:.6,to:0}}}),this.mask.setAlpha(1),this.fadeOutAnim.play())},n.listenScenesEvents=function(){var e=this;this.scene.manager.getScenes(!1).forEach((function(t){t.events.on(Phaser.Scenes.Events.CREATE,e.emitGameEventStartScene),t.events.on(Phaser.Scenes.Events.SLEEP,e.emitGameEventSleepScene),t.events.on(Phaser.Scenes.Events.WAKE,e.emitGameEventWakeScene),t.events.on(Phaser.Scenes.Events.PAUSE,e.emitGameEventPauseScene),t.events.on(Phaser.Scenes.Events.RESUME,e.emitGameEventResumeScene),t.events.on(Phaser.Scenes.Events.SHUTDOWN,e.emitGameEventShutdownScene)})),this.events.on(d.K5.SWITCH,this.switchScene)},n.getActiveScene=function(){return this.scene.manager.getScenes(!0)[0]},n.getCurrentScene=function(){return this.currentScene},n.updateActiveSceneKey=function(e){e!==d.Co.GLOBAL_SCENE&&this.storage.dispatch((0,E.I)(e))},n.logEventOpen=function(){},n.logPageviewOnOpen=function(){},(0,a.Z)(t,[{key:"currentScene",get:function(){var e=this.storage.getState(),t=f(e);return(t?this.scene.manager.getScene(t):this.getActiveScene()).scene}}]),t}(A.Z),k=M},547:function(e,t,n){"use strict";var a=n(406),i=n(407),r=n(76),s=n(59),o=n(31),c=n(78),l=n.n(c),u=n(40),h=n.n(u),d=n(582),p=0,E=0,f=function(){function e(e){this.game=void 0,this.progressFbTimeEvent=void 0,this.game=e}var t=e.prototype;return t.loadingProgressFbBootScene=function(){var e=this,t=100;E=30;!function n(){t<=0?clearTimeout(e.progressFbTimeEvent):e.progressFbTimeEvent=setTimeout((function(){e.game.facebook.setLoadingProgress(Math.round(E)),E+=30/t,t--,n()}),50)}()},t.finishLoadingProgressFbBootScene=function(){clearTimeout(this.progressFbTimeEvent)},t.loadingProgressFbLoadScene=function(){var e=this;(!E||E<30)&&(E=60),p=E;!function t(){e.progressFbTimeEvent=setTimeout((function(){e.game.facebook.setLoadingProgress(Math.round(E)),E+=.1,t()}),50)}()},t.onProgress=function(e){var t=100-E,n=Math.round(e*t+E);n>p&&clearTimeout(this.progressFbTimeEvent),this.game.facebook.setLoadingProgress(n)},e}(),S=f,A=function(){function e(e){this.game=void 0,this.game=e}var t=e.prototype;return t.addKillRevive=function(){var e=this;[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Particles.ParticleEmitter,Phaser.GameObjects.Particles.ParticleEmitterManager].forEach((function(t){t.prototype.kill=e.kill,t.prototype.revive=e.revive}))},t.addKillReviveGroup=function(){Phaser.GameObjects.Group.prototype.killGroup=this.killGroup,Phaser.GameObjects.Group.prototype.reviveGroup=this.reviveGroup},t.addSetWorldSize=function(){var e=this;[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite].forEach((function(t){t.prototype.setWorldSize=e.setWorldSize}))},t.addSetWorldSizeForContainer=function(){var e=this;[Phaser.GameObjects.Container].forEach((function(t){t.prototype.setWorldSize=e.setWorldSizeForContainer}))},t.addGetWorldPosition=function(){var e=this;[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText].forEach((function(t){t.prototype.getWorldPosition=e.getWorldPosition}))},t.addDrawDebugBox=function(){var e=this;[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Zone].forEach((function(t){t.prototype.drawDebugBox=e.drawDebugBox}))},t.addHighQuality=function(){var e=this;[Phaser.GameObjects.Text].forEach((function(t){t.prototype.setHighQuality=e.setHighQuality}))},t.addSetLineHeightForBitmapText=function(){Phaser.GameObjects.BitmapText.prototype.setLineHeight=function(e){this.lineHeight=e,this.updateDisplayOrigin()}},t.kill=function(){this.setActive(!1),this.setVisible(!1)},t.revive=function(){this.setActive(!0),this.setVisible(!0)},t.killGroup=function(){this.getChildren().forEach((function(e){e.setActive(!1),e.setVisible(!1)}))},t.reviveGroup=function(){this.getChildren().forEach((function(e){e.setActive(!0),e.setVisible(!0)}))},t.setWorldSize=function(e,t){this.setSize(e,t),this.setDisplaySize(e,t)},t.setWorldSizeForContainer=function(e,t,n){void 0===n&&(n=2),this.setSize(e*n,t*n),this.setDisplaySize(e,t)},t.getWorldPosition=function(){var e=this.getWorldTransformMatrix().decomposeMatrix();return{x:e.translateX,y:e.translateY}},t.drawDebugBox=function(e,t){var n=this.x,a=this.y,i=this.width,r=this.height,s=this.depth,o=this.originX,c=this.originY,l=this.scene.add.rectangle(n,a,i,r,e,t);l.setName("Debug Box"),l.setDepth(s);var u=GameCore.Utils.Valid.isNumber;return u(o)&&u(c)&&l.setOrigin(o,c),l},t.setHighQuality=function(){return this.renderer instanceof Phaser.Renderer.WebGL.WebGLRenderer?this.setResolution(2*this.scene.game.world.getZoomRatio()):this},e}(),m=A,g=n(77),T=n.n(g),v=n(79),y=n.n(v),I=[{url:"./assets/images/others/mock1.jpg",title:"Buy lottery tickets on behalf",description:"\ud83d\udca5\ud83d\udca5\ud83d\udca5 Place an order for lottery tickets from 3 regions!!! \u2705 Fast - Convenient - Safe \u2705 Diverse products \u2705 Payment...",buttonName:"Discover more"},{url:"./assets/images/others/mock2.jpg",title:"SYSTEM-WIDE SALE UP TO 50%",description:'\ud83d\udd25 \ud835\uddec\ud835\uddd8\ud835\uddd4\ud835\udde5 \ud835\uddd8\ud835\udde1\ud835\uddd7 \ud835\udde6\ud835\uddd4\ud835\udddf\ud835\uddd8 | \ud835\udde8\ud835\udde3 \ud835\udde7\ud835\udde2 \ud835\udff1\ud835\udfec% "BIG PARTY" AUTHENTIC SPORTSWEAR SHOCKINGLY REDUCED PRICES! \ud83c\udf81 From...',buttonName:"Discover more"},{url:"./assets/images/others/mock3.jpg",title:"Register now",description:"Play safe, play fun, play 9club!",buttonName:"Register"}],O=function(){function e(){}return e.loadBannerAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s,o,c,u,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentIdx=(this.currentIdx+1)%I.length,this.hideBannerAdAsync(),e.next=4,new(l())((function(e){setTimeout((function(){e()}),2e3)}));case 4:if(!document.getElementById("mock-banner-ads")){e.next=16;break}return t=I[this.currentIdx],n=t.url,a=t.buttonName,i=t.title,r=t.description,(s=document.getElementById("banner-content-text1"))&&(s.innerHTML=i),(o=document.getElementById("banner-content-text2"))&&(o.innerHTML=r),(c=document.getElementById("mock-banner-ads-avatar"))&&(c.style.background="url("+n+") center center/contain no-repeat"),(u=document.getElementById("banner-content-button"))&&(u.innerHTML=a),e.abrupt("return");case 16:d=GameCore.Utils.Device.isDesktop(),50,d?this.createDesktopBannerAd(50):this.createMobileBannerAd(50);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.createDesktopBannerAd=function(e){var t=this,n=I[this.currentIdx],a=n.url,i=n.buttonName,r=n.title,s=n.description,o=document.createElement("div");o.id="mock-banner-ads",o.style.width="100%",o.style.height=e+"px",o.style.bottom="var(--sab)",o.style.display="flex",o.style.position="absolute",o.style.opacity=this.currentOpacity;var c=document.createElement("div");c.id="mock-banner-ads-display-area",c.style.width="100%",c.style.height="100%",c.style.background="#323436 center center/auto no-repeat",c.style.borderRadius="10px",c.style.marginLeft="4px",c.style.marginRight="4px",c.style.display="block",c.style.alignContent="center";var l=document.createElement("div");l.id="mock-banner-ads-content",l.style.boxSizing="border-box",l.style.flexDirection="row",l.style.display="flex",l.style.position="relative",l.style.alignItems="stretch",l.style.paddingLeft="4px",l.style.paddingRight="4px",l.style.justifyContent="space-between";var u=document.createElement("div");u.id="mock-banner-ads-avatar",u.style.marginLeft="10px",u.style.width=e+"px",u.style.minWidth=e+"px",u.style.height=e+"px",u.style.display="flex",u.style.flexDirection="column",u.style.position="relative",u.style.background="url("+a+") center center/contain no-repeat",u.style.borderRadius="50%";var h=document.createElement("div");h.id="mock-banner-ads-right-content",h.style.width="100%",h.style.paddingLeft="10px",h.style.display="flex",h.style.flexDirection="row",h.style.position="relative",h.style.color="#E4E6EB",h.style.wordWrap="break-word",h.style.textAlign="left",h.style.alignContent="center",h.style.alignItems="center",h.style.fontSize="12px",h.style.fontFamily="Helvetica, Arial, sans-serif, Roboto, Helvetica, Arial, sans-serif",u.style.boxSizing="border-box";var d=document.createElement("div");d.style.flexDirection="column",d.style.display="flex",d.style.justifyContent="center",d.style.flexShrink="1",d.style.flexGrow="1",d.style.flexBasis="0",d.style.boxSizing="border-box",d.style.minWidth="0",d.innerHTML="\n            <div id='banner-content-text1' style=\"font-weight:600;line-height: 1.3333;font-size: .9375rem;text-overflow: ellipsis;-webkit-line-clamp: 1;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+r+"</div>\n            <div id='banner-content-text2' style=\"font-weight:400;line-height: 1.2308;font-size: .8125rem;text-overflow: ellipsis;-webkit-line-clamp: 2;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+s+"</div>";var p=document.createElement("button");p.id="banner-content-button",p.type="button",p.style.width="120px",p.style.height=e-20+"px",p.style.fontWeight="600",p.style.backgroundColor="#3963fc",p.style.border="none",p.style.color="white",p.style.borderRadius="5px",p.style.textAlign="center",p.style.display="inline-block",p.style.cursor="pointer",p.style.marginRight="10px",p.style.marginLeft="10px",p.style.flexShrink="1",p.style.boxSizing="border-box",p.style.paddingRight="2px",p.style.paddingLeft="2px",p.innerHTML=i,p.onclick=function(){"0.2"===t.currentOpacity?o.style.opacity="1":o.style.opacity="0.2",t.currentOpacity=o.style.opacity};var E=document.createElement("button");E.type="button",E.style.width=e-20+"px",E.style.height=e-20+"px",E.style.fontWeight="1000",E.style.backgroundColor="#5a5c5c",E.style.border="none",E.style.color="white",E.style.borderRadius="50%",E.style.textAlign="center",E.style.display="inline-block",E.style.cursor="pointer",E.style.marginRight="10px",E.style.marginLeft="10px",E.style.flexShrink="0",E.style.boxSizing="border-box",E.style.paddingRight="2px",E.style.paddingLeft="2px",E.innerHTML="...",document.body.appendChild(o),o.appendChild(c),c.appendChild(l),l.appendChild(u),l.appendChild(h),h.appendChild(d),h.appendChild(p),h.appendChild(E)},e.createMobileBannerAd=function(e){var t=this,n=I[this.currentIdx],a=n.url,i=n.buttonName,r=n.title,s=n.description,o=document.createElement("div");o.id="mock-banner-ads",o.style.width="100%",o.style.height=e+"px",o.style.bottom="var(--sab)",o.style.display="block",o.style.position="absolute",o.style.opacity=this.currentOpacity;var c=document.createElement("div");c.id="mock-banner-ads-display-area",c.style.background="#ffffff center center/auto no-repeat",c.style.display="block",c.style.alignContent="center";var l=document.createElement("div");l.id="mock-banner-ads-content",l.style.boxSizing="border-box",l.style.flexDirection="row",l.style.display="flex",l.style.position="relative",l.style.alignItems="stretch",l.style.justifyContent="space-between";var u=document.createElement("div");u.id="mock-banner-ads-avatar",u.style.width=e+"px",u.style.minWidth=e+"px",u.style.height=e+"px",u.style.display="flex",u.style.flexDirection="column",u.style.position="relative",u.style.background="url("+a+") center center/contain no-repeat";var h=document.createElement("div");h.id="mock-banner-ads-right-content",h.style.width="100%",h.style.paddingLeft="10px",h.style.display="flex",h.style.flexDirection="row",h.style.position="relative",h.style.color="#000",h.style.wordWrap="break-word",h.style.textAlign="left",h.style.alignContent="center",h.style.alignItems="center",h.style.fontSize="12px",h.style.fontFamily="Helvetica, Arial, sans-serif, Roboto, Helvetica, Arial, sans-serif",u.style.boxSizing="border-box";var d=document.createElement("div");d.style.flexDirection="column",d.style.display="flex",d.style.justifyContent="center",d.style.flexShrink="1",d.style.flexGrow="1",d.style.flexBasis="0",d.style.boxSizing="border-box",d.style.minWidth="0",d.innerHTML="\n            <div id='banner-content-text1' style=\"font-weight:600;line-height: 1.3333;font-size: .9375rem;text-overflow: ellipsis;-webkit-line-clamp: 1;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+r+"</div>\n            <div id='banner-content-text2' style=\"font-weight:400;line-height: 1.2308;font-size: .8125rem;text-overflow: ellipsis;-webkit-line-clamp: 1;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+s+"</div>";var p=document.createElement("button");p.id="banner-content-button",p.type="button",p.style.height="100%",p.style.fontWeight="600",p.style.backgroundColor="#3963fc",p.style.border="none",p.style.color="white",p.style.textAlign="center",p.style.display="inline-block",p.style.cursor="pointer",p.style.marginLeft="10px",p.style.flexShrink="1",p.style.boxSizing="border-box",p.style.paddingRight="7px",p.style.paddingLeft="7px",p.innerHTML=i,p.onclick=function(){"0.2"===t.currentOpacity?o.style.opacity="1":o.style.opacity="0.2",t.currentOpacity=o.style.opacity},document.body.appendChild(o),o.appendChild(c),c.appendChild(l),l.appendChild(u),l.appendChild(h),h.appendChild(d),h.appendChild(p)},e.hideBannerAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("mock-banner-ads")){e.next=3;break}return e.abrupt("return");case 3:t.remove();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}();O.currentIdx=-1,O.currentOpacity="1";var R={LOADED:"loaded",DISPLAYED:"displayed"},C=function(e){return e.IDLE="idle",e.LOADING="loading",e.FILLED="filled",e.SHOWING="showing",e}(C||{}),_=C,b=function(e){return e.REWARDED="rewarded",e.PRE_ROLL="pre-roll",e.INTERSTITIAL="interstitial",e}(b||{}),N=b,D=n(183),w=function(e){function t(t,n){var a;return(a=e.call(this,n)||this).code=void 0,a.code=t,a.message=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),P=function(e){this.type=void 0,this.status=void 0,this.type=e,this.status=_.IDLE};GameCore.Ads={Types:N,Status:_,Events:R,AdError:w,AdInstance:P};var L=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).events=void 0,n.enabled=void 0,n.config=void 0,n.lastInterAdShownTime=void 0,n.lastInterAdLoadedTime=void 0,n.lastRewardAdShownTime=void 0,n.interstitial=void 0,n.rewardedVideo=void 0,n.preRoll=void 0,n.safeAreaBottom=void 0,n.showingBannerAd=void 0,n.reloadBannerAdIntervals=void 0,n.bannerAdConfig=void 0,n.isHaveBannerAdOptions=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.events=new Phaser.Events.EventEmitter,this.safeAreaBottom=0,this.lastInterAdShownTime=0,this.lastInterAdLoadedTime=0,this.lastRewardAdShownTime=0,this.showingBannerAd={},this.reloadBannerAdIntervals={},this.isHaveBannerAdOptions=!0},n.calculateSafeAreaBottom=function(){try{if(!this.config.calculateSafeAreaBottom)return;this.safeAreaBottom=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),isNaN(this.safeAreaBottom)&&(this.safeAreaBottom=0)}catch(e){this.safeAreaBottom=0}},n.configure=function(e,t){this.enabled=t.enabled,this.config=t,0===this.config.bannerAdOptions.length&&(this.isHaveBannerAdOptions=!1),this.setAdInstance(e),this.calculateSafeAreaBottom()},n.setAdInstance=function(e){var t=this.config,n=t.rewardAdOptions,a=t.interstitialAdOptions;this.interstitial=new e(N.INTERSTITIAL,a.pID),this.rewardedVideo=new e(N.REWARDED,n.pID),this.preRoll=new e(N.PRE_ROLL,a.pID)},n.preloadInterstitialAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadAdAsync(N.INTERSTITIAL);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showInterstitialAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canbeShowInterstitialAdByTime()){e.next=2;break}throw new w("INTERSTITIAL_AD_CAN_NOT_SHOW","Can't show interstitial ad");case 2:return e.next=4,this.showAdAsync(N.INTERSTITIAL);case 4:this.lastInterAdShownTime=window.performance.now()/1e3;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.preloadPreRollAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadAdAsync(N.PRE_ROLL);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showPreRollAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showAdAsync(N.PRE_ROLL);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.preloadRewardedVideoAsync=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadAdAsync(N.REWARDED);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showRewardedVideoAsync=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canbeShowRewardAd()){e.next=2;break}throw new w("REWARDED_VIDEO_CAN_NOT_SHOW","Can't show rewarded video");case 2:return e.next=4,this.showAdAsync(N.REWARDED);case 4:this.lastRewardAdShownTime=window.performance.now()/1e3;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getRemainingRewardTime=function(){var e=window.performance.now()/1e3,t=this.config.rewardAdOptions.secondsBetweenAds,n=e-this.lastRewardAdShownTime;return n<t?t-n:0},n.preloadAdAsync=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new w("ADS_NOT_ENABLED","Ads is't enabled");case 2:if(null!==(n=this.getAdInstanceByType(t))){e.next=5;break}throw new w("AD_INSTANCE_NOT_INITIATED","The instance ads not yet initiated");case 5:return t!==N.INTERSTITIAL&&t!==N.PRE_ROLL||(this.lastInterAdLoadedTime=window.performance.now()/1e3),e.next=8,n.loadAsync();case 8:this.events.emit(R.LOADED,t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.showAdAsync=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new w("ADS_NOT_ENABLED","Ads is't enabled");case 2:if(null!==(n=this.getAdInstanceByType(t))){e.next=5;break}throw new w("AD_INSTANCE_NOT_INITIATED","The instance ads not yet initiated");case 5:return t!==N.INTERSTITIAL&&t!==N.PRE_ROLL||(this.lastInterAdShownTime=window.performance.now()/1e3),t===N.REWARDED&&(this.lastRewardAdShownTime=window.performance.now()/1e3,this.config.enableRewardVideoResetInterstitial&&(this.lastInterAdShownTime=this.lastRewardAdShownTime)),e.next=9,n.showAsync();case 9:this.events.emit(R.DISPLAYED,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getAdStatus=function(e){var t=this.getAdInstanceByType(e);return t?t.getStatus():null},n.getAdInstanceByType=function(e){switch(e){case N.INTERSTITIAL:return this.interstitial;case N.REWARDED:return this.rewardedVideo;case N.PRE_ROLL:return this.preRoll;default:return null}},n.canbeShowInterstitialAd=function(){var e=this.canbeLoadInterstitialAdByTime();return e&&(e=this.canbeShowInterstitialAdByTime()),e},n.canbeLoadInterstitialAdByTime=function(){var e=window.performance.now()/1e3,t=this.config.interstitialAdOptions,n=t.secondsFirstTime,a=t.secondsBetweenAds,i=Math.floor(e-this.lastInterAdLoadedTime);return this.lastInterAdLoadedTime>0?i>=a:i>=n},n.canbeShowInterstitialAdByTime=function(){var e=window.performance.now()/1e3,t=this.config.interstitialAdOptions,n=t.secondsFirstTime,a=t.secondsBetweenAds,i=Math.floor(e-this.lastInterAdShownTime);return this.lastInterAdShownTime>0?i>=a:i>=n},n.canbeShowRewardAd=function(){var e=window.performance.now()/1e3,t=this.config.rewardAdOptions,n=t.secondsFirstTime,a=t.secondsBetweenAds,i=Math.floor(e-this.lastRewardAdShownTime);return this.lastRewardAdShownTime>0?i>=a:i>=n},n.canShowBannerAd=function(){if(!this.isHaveBannerAdOptions)return!1;for(var e=this.config.bannerAdOptions,t=GameCore.Utils.Device.isDesktop(),n=0;n<e.length;n++){var a=e[n],i=a.platform;if("ALL"==i||"DESKTOP"==i&&t||"MOBILE"==i&&!t)return this.bannerAdConfig=a,!0}return!1},n.disableBannerAds=function(){this.config.bannerAdOptions=[]},n.showBannerAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(this.canShowBannerAd()){e.next=4;break}return e.abrupt("return");case 4:if(this.reloadBannerAdIntervals=this.reloadBannerAdIntervals||{},t=this.bannerAdConfig,n=t.placementId,a=t.secondsReload,n&&""!=n){e.next=8;break}return e.abrupt("return");case 8:if(!(a>0)){e.next=14;break}if(!this.reloadBannerAdIntervals[n]){e.next=11;break}return e.abrupt("return");case 11:return this.loadBannerAdAsync(n,this.bannerAdConfig),this.reloadBannerAdIntervals[n]=setInterval((function(){i.loadBannerAdAsync(n,i.bannerAdConfig)}),1e3*a),e.abrupt("return");case 14:return this.loadBannerAdAsync(n,this.bannerAdConfig),e.abrupt("return");case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.loadBannerAdAsync=function(){var e=(0,s.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!GameCore.Configs.Ads.Mockup.Enable){e.next=9;break}return e.next=7,O.loadBannerAdAsync();case 7:e.next=11;break;case 9:return e.next=11,GameSDK.loadBannerAdAsync(t,n);case 11:this.showingBannerAd[t]=!0,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),n.hideBannerAdAsync=function(){var e=(0,s.Z)(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(this.isHaveBannerAdOptions){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,!GameCore.Configs.Ads.Mockup.Enable){e.next=11;break}return e.next=9,O.hideBannerAdAsync();case 9:e.next=15;break;case 11:return this.config.bannerAdOptions.forEach((function(e){var n=e.placementId,a=t.reloadBannerAdIntervals[n];a&&(clearInterval(a),t.reloadBannerAdIntervals[n]=null),t.showingBannerAd[n]=!1})),e.next=15,GameSDK.hideBannerAdAsync();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4);case 20:case"end":return e.stop()}}),e,this,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),n.getBannerHeight=function(){return 0},t}(Phaser.Plugins.BasePlugin),x=L,M=function(){function e(e,t,n){this.name=void 0,this.color=void 0,this.selfLog=void 0,this.options=void 0,this.name=e,this.color=n||"#FFF",this.options=t,this.selfLog=!0}var t=e.prototype;return t.event=function(e,t,n){this.processEvent(e,t,n),this.selfLog},t.pageview=function(e){var t=this.getPageByKey(e);this.processPageView(t),this.selfLog},t.levelStart=function(e,t,n){this.processLevelStart(e,t,n),this.selfLog},t.levelFail=function(e,t,n){this.processLevelFail(e,t,n),this.selfLog},t.levelRescue=function(e,t,n){this.processLevelRescue(e,t,n),this.selfLog},t.levelComplete=function(e,t,n){this.processLevelComplete(e,t,n),this.selfLog},t.loadPreRollAd=function(e){this.processLoadPreRollAd(e),this.selfLog},t.showPreRollAd=function(e){this.processShowPreRollAd(e),this.selfLog},t.loadInterstitialAd=function(e){this.processLoadInterstitialAd(e),this.selfLog},t.showInterstitialAd=function(e){this.processShowInterstitialAd(e),this.selfLog},t.loadRewardedVideoAd=function(e){this.processLoadRewardedVideoAd(e),this.selfLog},t.showRewardedVideoAd=function(e){this.processShowRewardedVideoAd(e),this.selfLog},t.receiveReward=function(e){this.processReceiveReward(e),this.selfLog},t.loadAdFail=function(e,t,n){this.processLoadAdFail(e,t,n),this.selfLog},t.showAdFail=function(e,t,n){this.processShowAdFail(e,t,n),this.selfLog},t.getPageByKey=function(e){var t=e.replace(/_/g,"-");return t=t.toLowerCase()},t.processLevelStart=function(e,t,n){},t.processLevelFail=function(e,t,n){},t.processLevelRescue=function(e,t,n){},t.processLevelComplete=function(e,t,n){},t.processLoadInterstitialAd=function(e){},t.processShowInterstitialAd=function(e){},t.processLoadPreRollAd=function(e){},t.processShowPreRollAd=function(e){},t.processLoadRewardedVideoAd=function(e){},t.processShowRewardedVideoAd=function(e){},t.processReceiveReward=function(e){},t.processLoadAdFail=function(e,t,n){},t.processShowAdFail=function(e,t,n){},e}();GameCore.Analytics={BaseAnalytics:M};var k=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).analytics=void 0,n.pageview=function(e){n.isActive()&&n.analytics.forEach((function(t){t.pageview(e)}))},n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.analytics=[]},n.add=function(e){this.analytics.push(e)},n.event=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.event(e,t,n)}))},n.levelStart=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.levelStart(e,t,n)}))},n.levelRescue=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.levelRescue(e,t,n)}))},n.levelFail=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.levelFail(e,t,n)}))},n.levelComplete=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.levelComplete(e,t,n)}))},n.loadPreRollAd=function(e){this.isActive()&&this.analytics.forEach((function(t){t.loadPreRollAd(e)}))},n.showPreRollAd=function(e){this.isActive()&&this.analytics.forEach((function(t){t.showPreRollAd(e)}))},n.loadInterstitialAd=function(e){this.isActive()&&this.analytics.forEach((function(t){t.loadInterstitialAd(e)}))},n.showInterstitialAd=function(e){this.isActive()&&this.analytics.forEach((function(t){t.showInterstitialAd(e)}))},n.loadRewardedVideoAd=function(e){this.isActive()&&this.analytics.forEach((function(t){t.loadRewardedVideoAd(e)}))},n.showRewardedVideoAd=function(e){this.isActive()&&this.analytics.forEach((function(t){t.showRewardedVideoAd(e)}))},n.receiveReward=function(e){this.isActive()&&this.analytics.forEach((function(t){t.receiveReward(e)}))},n.loadAdFail=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.loadAdFail(e,t,n)}))},n.showAdFail=function(e,t,n){this.isActive()&&this.analytics.forEach((function(a){a.showAdFail(e,t,n)}))},n.isActive=function(){return this.analytics.length>=1},t}(Phaser.Plugins.BasePlugin),G=k,B=n(430),U=n.n(B),F=n(92),H=n.n(F),Y=function(){function e(e){var t=this;this.game=void 0,this.audios=void 0,this.volume=void 0,this.soundKeys=void 0,this.isMusicEnabled=function(){return!!t.game.player.getPlayerSetting("music")},this.isSoundEnabled=function(){return!!t.game.player.getPlayerSetting("sound")},this.game=e,this.audios=new(U()),this.soundKeys=new(U())}var t=e.prototype;return t.addSoundKeys=function(e){var t=this;H()(e).forEach((function(n){var a=e[n];"string"===typeof a&&t.soundKeys.set(n,a)}))},t.clearSoundKeys=function(){this.soundKeys.clear()},t.play=function(e,t){var n=this,a=(0,r.Z)({volume:this.volume},t||{});a.volume!==this.volume&&(a.volume*=this.volume);var i=this.audios.get(e);if(!i&&this.game.cache.audio.exists(e)){var s=this.game.sound.add(e);this.audios.set(e,s),i=s}if(i)i.play(void 0,a);else{var o=this.soundKeys.get(e);if(o)try{this.game.globalScene.load.audio(e,o),this.game.globalScene.load.on(Phaser.Loader.Events.FILE_KEY_COMPLETE+"audio-"+e,(function(){var t=n.game.sound.add(e);n.audios.set(e,t),t.play(void 0,a)})),this.game.globalScene.load.start()}catch(c){}}},t.pauseAll=function(){this.audios.forEach((function(e){e.pause()}))},t.resumeAll=function(){this.audios.forEach((function(e){e.resume()}))},t.stopAll=function(){this.audios.forEach((function(e){e.stop()}))},t.pause=function(e){var t=this.audios.get(e);t&&t.pause()},t.stop=function(e){var t=this.audios.get(e);t&&t.stop()},t.setVolume=function(e){this.volume=e},e}(),W=Y,V=function(){function e(e,t){var n=this;this.name=void 0,this.game=void 0,this.isSprite=void 0,this.audio=void 0,this.markers=void 0,this.volume=void 0,this.isMusicEnabled=function(){return!!n.game.player.getPlayerSetting("music")},this.isSoundEnabled=function(){return!!n.game.player.getPlayerSetting("sound")},this.name=t,this.game=e,this.markers={},this.isSprite=!1,this.isSprite||(this.audio=this.game.sound.add(this.name))}var t=e.prototype;return t.play=function(e,t){var n,a,i,s=(0,r.Z)({volume:this.volume},t||{});if(s.volume!==this.volume&&(s.volume*=this.volume),!this.isSprite)return(null==(a=this.audio)?void 0:a.seek)>0?void this.audio.resume():void(null==(i=this.audio)||i.play(e,s));this.createMaker(e),null==(n=this.markers[e])||n.play(e,s)},t.pause=function(e){var t,n;this.isSprite?null==(t=this.markers[e])||t.pause():null==(n=this.audio)||n.pause()},t.stop=function(e){var t,n;this.isSprite?null==(t=this.markers[e])||t.stop():null==(n=this.audio)||n.stop()},t.setVolume=function(e){this.volume=e},t.createMaker=function(e){if(!this.markers[e])try{this.markers[e]=this.game.sound.addAudioSprite(this.name)}catch(t){}},e}(),Z=V,K=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).soundManager=void 0,n.musicManager=void 0,n.isMuteAll=void 0,n.initMusic=function(e){n.musicManager=new Z(n.game,e),n.setMusicVolume(1)},n.initSound=function(){n.soundManager=new W(n.game),n.setSoundVolume(1)},n}(0,o.Z)(t,e);var n=t.prototype;return n.importSoundEffectKeys=function(e){this.soundManager.addSoundKeys(e)},n.playSound=function(e,t){try{if(!this.soundManager||this.isMuteAll||!this.game.visibility.isGameVisible())return;if(!this.soundManager.isSoundEnabled())return;this.soundManager.play(e,t)}catch(n){}},n.stopSound=function(e){try{this.soundManager.stop(e)}catch(t){}},n.playMusic=function(e){void 0===e&&(e={});try{if(!this.musicManager||this.isMuteAll||!this.game.visibility.isGameVisible())return;if(!this.musicManager.isMusicEnabled())return;this.musicManager.play("",(0,r.Z)({loop:!0,volume:.2},e))}catch(t){}},n.pauseMusic=function(){try{if(!this.musicManager)return;this.musicManager.pause("")}catch(e){}},n.stopMusic=function(){try{if(!this.musicManager)return;this.musicManager.stop("")}catch(e){}},n.pauseAllSounds=function(){try{if(!this.soundManager)return;this.soundManager.pauseAll()}catch(e){}},n.resumeAllSounds=function(){try{if(!this.soundManager)return;this.soundManager.resumeAll()}catch(e){}},n.setSoundVolume=function(e){try{if(!this.soundManager)return;this.soundManager.setVolume(e)}catch(t){}},n.setMusicVolume=function(e){try{if(!this.musicManager)return;this.musicManager.setVolume(e)}catch(t){}},n.muteAll=function(){this.isMuteAll=!0,this.game.sound.mute=!0},n.unmuteAll=function(){this.isMuteAll=!1,this.game.sound.mute=!1},t}(Phaser.Plugins.BasePlugin),X=K,z=n(415),j="AUTH_TOKEN_REQUEST",q="AUTH_TOKEN_RECEIVED",J=function(e){function t(t,n){var a;return(a=e.call(this,t)||this).payload=void 0,a.name="RequestTokenFail",a.message=t||"Request token fail",a.payload=n||{},a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),Q=n(414),$="auth",ee=(0,Q.P1)([function(e){return e[$].token}],(function(e){return e})),te=(0,Q.P1)([function(e){return e[$].isRequesting}],(function(e){return e})),ne=function(e){return{type:q,payload:{token:e}}},ae=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.requestToken=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=window.game.facebook,r=n(),s=ee(r),!te(r)&&""===s){e.next=7;break}return e.abrupt("return");case 7:return t({type:j,payload:{}}),e.next=10,i.getPlayerToken();case 10:o=e.sent,t(ne(o)),e.next=25;break;case 14:if(e.prev=14,e.t0=e.catch(0),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=19;break}if("PENDING_REQUEST"!==e.t0.code){e.next=19;break}return e.abrupt("return");case 19:if(t(ne("")),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"message"))){e.next=24;break}if("string"!==typeof e.t0.message){e.next=24;break}return(0,a.tO)(new Error(e.t0.message)),e.abrupt("return");case 24:(0,a.tO)(new J);case 25:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getToken=function(){return ee(this.state)},(0,z.Z)(t,[{key:"state",get:function(){return this.game.storage.getState()}}]),t}(Phaser.Plugins.BasePlugin),ie=ae,re=function(e,t){void 0===t&&(t=1);var n=new Image;n.onload=function(){var e,n;e=this.width*t,n=this.height*t,Math.floor(n/2),Math.floor(e/2)},n.src=e},se=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).width=void 0,n.height=void 0,n.renderOptions=void 0,n.canvas=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(e){var t=this,n=H()(e);n.length<1||(n.forEach((function(n){t.scene.load.image(n,e[n])})),this.scene.load.start())},n.capture=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,a=t.height,i=t.renderOptions,this.width=n,this.height=a,this.renderOptions=i,this.createCanvas(),e.next=7,this.loadImages();case 7:return this.drawObjects(),e.abrupt("return",this.snapshotFrame());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.createCanvas=function(){this.canvas||(this.canvas=this.game.textures.createCanvas("FrameCaptureCanvas")),this.canvas.clear(),this.canvas.setSize(this.width,this.height)},n.loadImages=function(){var e=this;return new(l())((function(t,n){for(var a in e.renderOptions){var i=e.renderOptions[a],r=i.name,s=i.image;if(s)e.scene.textures.get(r).key!==r&&e.scene.load.image(r,s)}e.scene.load.on(Phaser.Loader.Events.COMPLETE,t),e.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,(function(){var e=new Error("Load image failed");n(e)})),e.scene.load.start()}))},n.drawObjects=function(){for(var e in this.renderOptions){var t=this.renderOptions[e];switch(t.type){case"text":this.drawText(t);break;case"image":this.drawImage(t)}}},n.drawText=function(e){var t=this.canvas.context,n=e.x,a=e.y,i=e.font,r=e.text,s=e.fillStyle,o=e.lineWidth,c=e.textAlign;t.font=i+' nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',t.fillStyle=s||"#ffffff",o&&(t.lineWidth=o),c&&(t.textAlign=c),t.fillText(r,n,a)},n.drawImage=function(e){var t=this.canvas.context,n=e.x,a=e.y,i=e.name,r=e.frame,s=e.width,o=e.height,c=e.fallbackWithImage,l=this.scene.textures.get(i),u=l.getSourceImage(r);"__MISSING"===l.key&&c&&(u=(l=this.scene.textures.get(c)).getSourceImage()),t.drawImage(u,n,a,s,o)},n.snapshotFrame=function(){var e=this.canvas.getCanvas().toDataURL("image/jpeg",.85);return GameCore.Utils.Valid.isDebugger()&&re(e),e},t}(Phaser.Plugins.ScenePlugin),oe=se,ce=function(e){function t(t,n,a){var i;return(i=e.call(this)||this).game=void 0,i.options=void 0,i.performance=void 0,i.isRunning=!1,i.checkTimer=void 0,i.fpsHistory=void 0,i.start=function(){if(!i.isRunning){i.isRunning=!0;var e=i.options.checkInterval;i.checkTimer=e,i.fpsHistory=[],i.game.events.on(Phaser.Core.Events.POST_STEP,i.onPostStep)}},i.stop=function(){i.isRunning&&(i.isRunning=!1,i.game.events.off(Phaser.Core.Events.POST_STEP,i.onPostStep),i.options.onlyUpdateWhenSwitchScene&&i.checkFps())},i.onPostStep=function(e,t){if(i.checkTimer-=t,!(i.checkTimer>0)){var n=i.options,a=n.checkInterval,r=n.onlyUpdateWhenSwitchScene;i.checkTimer+=a,i.fpsHistory.push(i.game.loop.actualFps),!1===r&&i.fpsHistory.length>=5&&i.checkFps()}},i.game=t,i.options=a,i.performance=n,i}(0,o.Z)(t,e);var n=t.prototype;return n.checkFps=function(){if(0!==this.fpsHistory.length){var e=this.options.autoUpgradeQuality,t=!1;this.isLowFps()?t=this.performance.downgradeGraphicsQuality():e&&this.isHighFps()&&(t=this.performance.upgradeGraphicsQuality()),t&&(this.fpsHistory=[])}},n.getFpsMedian=function(){return Phaser.Math.Median(this.fpsHistory)},n.isLowFps=function(){return this.getFpsMedian()<this.options.fpsThreshold},n.isHighFps=function(){return this.getFpsMedian()>1.2*this.options.fpsThreshold},t}(Phaser.Events.EventEmitter),le=ce,ue=["pixelRatio","minQuality","maxQuality","qualityAdjustStep","trackingSceneKeys"],he=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).fpsTracker=void 0,n.pixelRatio=void 0,n.minQuality=void 0,n.maxQuality=void 0,n.qualityAdjustStep=void 0,n.trackingSceneKeys=[],n.trackingScene=function(e){var t;if(y()(t=n.trackingSceneKeys).call(t,e)){var a=n.game.scene.getScene(e);a.events.once(Phaser.Scenes.Events.UPDATE,n.fpsTracker.start),a.events.once(Phaser.Scenes.Events.SLEEP,n.fpsTracker.stop)}},n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(e){var t=e.pixelRatio,n=e.minQuality,a=e.maxQuality,r=e.qualityAdjustStep,s=e.trackingSceneKeys,o=(0,i.Z)(e,ue);this.pixelRatio=t,this.minQuality=n,this.maxQuality=a,this.qualityAdjustStep=r,this.trackingSceneKeys=s,this.fpsTracker=new le(this.game,this,o)},n.active=function(){this.game.events.on(Phaser.Scenes.Events.WAKE,this.trackingScene),this.game.events.on(Phaser.Scenes.Events.START,this.trackingScene)},n.downgradeGraphicsQuality=function(){var e=this.pixelRatio;if(e<=this.minQuality)return!1;var t=+(e-this.qualityAdjustStep).toFixed(2);return!(t<this.minQuality)&&(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),!0)},n.upgradeGraphicsQuality=function(){var e=this.pixelRatio;if(e>=this.maxQuality)return!1;var t=+(e+this.qualityAdjustStep).toFixed(2);return!(t>this.maxQuality)&&(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),!0)},t}(Phaser.Plugins.BasePlugin),de=he,pe={sound:!0,music:!0,vibrate:!0,language:"en",theme:GameCore.Configs.DefaultTheme},Ee=n(118),fe=n.n(Ee),Se=n(117),Ae=n.n(Se),me=pe.sound,ge=pe.music,Te=pe.vibrate,ve=pe.language,ye=pe.theme,Ie=function(){function e(e){this.sound=void 0,this.music=void 0,this.vibrate=void 0,this.language=void 0,this.theme=void 0;var t=e||{},n=t.sound,a=t.music,i=t.vibrate,r=t.language,s=t.theme;this.sound=GameCore.Utils.Valid.isBoolean(n)?n:me,this.music=GameCore.Utils.Valid.isBoolean(a)?a:ge,this.vibrate=GameCore.Utils.Valid.isBoolean(i)?i:Te,this.language=GameCore.Utils.Valid.isString(r)?r:ve,this.theme=GameCore.Utils.Valid.isString(s)?s:ye}return e.prototype.toObject=function(){return{sound:this.sound,music:this.music,vibrate:this.vibrate,language:this.language,theme:this.theme}},e}(),Oe=Ie,Re=GameCore.Utils,Ce=Re.Valid,_e=Re.Object,be=function(){function e(e){this.score=void 0,this.settings=void 0,this.gameData=void 0,this.userGuideDisplays=void 0,this.setupDefaultData(),this.updateScore(e),this.updateSettings(e),this.updateGameData(e),this.updateUserGuideDisplays(e)}var t=e.prototype;return t.setupDefaultData=function(){this.score=0,this.settings=(0,r.Z)({},pe),this.gameData={coins:0,diamond:0,lastReceiveGift:0,dailyRewarded:{lastRewarded:0,logDays:[]},dailyTasks:{startedTime:0,logTasks:{}}},this.userGuideDisplays=0},t.updateScore=function(e){var t=e.score;!1!==Ce.isNumber(t)&&(this.score=t)},t.updateSettings=function(e){var t=e.settings;if(!1!==Ce.isObject(t)){var n=new Oe(t).toObject();this.settings=n}},t.updateGameData=function(e){var t=e.gameData;if(!1!==Ce.isObject(t)){if(_e.hasOwn(t,"coins")&&Ce.isNumber(t.coins)&&(this.gameData.coins=t.coins),_e.hasOwn(t,"diamond")&&Ce.isNumber(t.diamond)&&(this.gameData.diamond=t.diamond),_e.hasOwn(t,"lastReceiveGift")&&Ce.isNumber(t.lastReceiveGift)&&(this.gameData.lastReceiveGift=t.lastReceiveGift),_e.hasOwn(t,"dailyRewarded")&&Ce.isObject(t.dailyRewarded)){var n=t.dailyRewarded;_e.hasOwn(n,"lastRewarded")&&Ce.isNumber(n.lastRewarded)&&(this.gameData.dailyRewarded.lastRewarded=n.lastRewarded),_e.hasOwn(n,"logDays")&&Array.isArray(n.logDays)&&(this.gameData.dailyRewarded.logDays=n.logDays)}if(_e.hasOwn(t,"dailyTasks")&&Ce.isObject(t.dailyTasks)){var a=t.dailyTasks;_e.hasOwn(a,"startedTime")&&Ce.isNumber(a.startedTime)&&(this.gameData.dailyTasks.startedTime=a.startedTime),_e.hasOwn(a,"logTasks")&&Ce.isObject(a.logTasks)&&(this.gameData.dailyTasks.logTasks=a.logTasks)}}},t.updateUserGuideDisplays=function(e){var t=e.userGuideDisplays;!1!==Ce.isNumber(t)&&(this.userGuideDisplays=t)},t.toObject=function(){return{score:this.score,settings:this.settings,gameData:this.gameData,userGuideDisplays:this.userGuideDisplays}},t.convertToPlayerData=function(){var e=this.gameData,t=e.coins,n=e.diamond,a=e.dailyTasks,i=e.dailyRewarded,r=e.lastReceiveGift;return{score:this.score,settings:this.settings,customFields:{coins:t,diamond:n,dailyTasks:a,dailyRewarded:i,lastReceiveGift:r},userGuideDisplays:this.userGuideDisplays}},t.convertToFacebookData=function(e){var t=e.score,n=e.settings,a=e.customFields,i=e.userGuideDisplays;return this.updateScore({score:t}),this.updateSettings({settings:n}),this.updateGameData({gameData:a}),this.updateUserGuideDisplays({userGuideDisplays:i}),this.toObject()},e}(),Ne=n(182),De=function(e){try{var t=localStorage.getItem(e);return null===t?null:GameCore.Utils.Json.decode(t)}catch(n){return null}},we=function(e,t){try{var n=De(e),a={};GameCore.Utils.Valid.isObject(n)&&(a=n);var i=GameCore.Utils.Json.clone(t);if(!GameCore.Utils.Valid.isObject(i))return!1;var r=GameCore.Utils.Object.clear(i),s=(0,Ne.TS)(a,r),o=GameCore.Utils.Json.encode(s);return localStorage.setItem(e,o),!0}catch(c){return!1}},Pe=n(417),Le=GameCore.Configs.ApiHost,xe=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Pe.v)("players?platform=ms-games",t,{},Le,10);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Pe.v)("players/"+t+"/user-guide-displays/inc",{},{},Le);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke="PLAYER_RECEIVED",Ge="PLAYER_DATA_UPDATE",Be="PLAYER_SCORE_UPDATE",Ue="PLAYER_PROFILE_UPDATE",Fe="PLAYER_SETTING_UPDATE",He="PLAYER_CONNECTED_PLAYERS_UPDATE",Ye=n(408),We=function(e){function t(t,n){var a;return(a=e.call(this,t)||this).payload=void 0,a.name="PlayerDataNameNotSupport",a.message=t||"The name of player data is not supported",a.payload=n||{},a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),Ve=n(60),Ze=n.n(Ve),Ke="player",Xe=(0,Q.P1)([function(e){return e[Ke]}],(function(e){return e})),ze=(0,Q.P1)([Xe],(function(e){return e.playerId})),je=(0,Q.P1)([Xe],(function(e){return e.ASID})),qe=(0,Q.P1)([function(e){return e[Ke].data}],(function(e){return e})),Je=((0,Q.P1)([qe],(function(e){return e.settings})),(0,Q.P1)([function(e){return e[Ke].connectedPlayers}],(function(e){return e}))),Qe=(0,Q.P1)([Je,function(e,t){return t.limit},function(e,t){return t.offset}],(function(e,t,n){if("number"!==typeof t)return[];if("number"!==typeof n)return[];var a=H()(e);return Ze()(a).call(a,n,t+n)||[]})),$e=(0,Q.P1)([qe],(function(e){return e.score})),et=(0,Q.P1)([qe],(function(e){return e.customFields})),tt=GameCore.Configs,nt=tt.AppId,at=tt.Tutorial,it=tt.PlayerDataStore,rt=function(e){return{type:"PLAYER_AS_NEW",payload:{isUserNew:e}}},st=function(e,t){return function(n){var a=e.playerId,i=e.name,r=e.photo,s=e.locale;n({type:ke,payload:{playerId:a,name:i,photo:r,locale:s,data:t||{}}})}},ot=function(e){return{type:He,payload:{connectedPlayers:e}}},ct=function(e,t){return function(){var n=(0,s.Z)(h().mark((function n(i,r){var s,o,c;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({type:Fe,payload:{name:e,value:t}});case 3:s=r(),o=qe(s),c=new be({}).convertToFacebookData(o),FBInstant.player.setDataAsync(c),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),(0,a.tO)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},lt=function(e,t){return function(){var n=(0,s.Z)(h().mark((function n(i,r){var s,o,c,l,u;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={customFields:(s={},s[e]=t,s)},n.next=4,i(ht(o));case 4:c=r(),l=qe(c),u=new be({}).convertToFacebookData(l),FBInstant.player.setDataAsync(u),n.next=15;break;case 10:if(n.prev=10,n.t0=n.catch(0),!(n.t0 instanceof We)){n.next=14;break}return n.abrupt("return");case 14:(0,a.tO)(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()},ut=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n,i){var r,s,o,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={customFields:e},t.next=4,n(ht(r));case 4:s=i(),o=qe(s),c=new be({}).convertToFacebookData(o),FBInstant.player.setDataAsync(c),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof We)){t.next=15;break}return t.abrupt("return");case 15:(0,a.tO)(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},ht=function(e){return{type:Ge,payload:{data:e}}},dt=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n,i){var r,s,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({type:Be,payload:{score:e}});case 3:xe({score:e}),r=i(),s=qe(r),o=new be({}).convertToFacebookData(s),FBInstant.player.setDataAsync(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),(0,a.tO)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},pt=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.checkLoggedIn=function(){this.game.storage.dispatch((function(e,t){try{var n=t(),i=qe(n).userGuideDisplays;if((void 0===i?0:i)>0)return;e(rt(!0))}catch(r){(0,a.tO)(r)}}))},n.setLogged=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=window.game.facebook,we(it,{userGuideDisplays:1}),r=n(),s=ze(r),e.next=7,Me(s);case 7:i.data.set("userGuideDisplays",1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,a.tO)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setAsNewUser=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(rt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.incUserGuideDisplays=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!at.ForceUseTutorial){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t(ht({userGuideDisplays:1}));case 5:i=n(),r=ze(i),s=qe(i),o=new be({}).convertToFacebookData(s),FBInstant.player.setDataAsync(o),Me(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),(0,a.tO)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.receiveData=function(){var e=(0,s.Z)(h().mark((function e(t,n){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.game.storage,e.next=3,a.dispatch(st(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.updateData=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o,c,l,u,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=n(),r=Xe(i),s=r.playerId,o=r.name,c=r.photo,l=r.locale,e.next=6,FBInstant.player.getASIDAsync();case 6:return u=e.sent,d={appId:nt,playerId:s,name:o,photo:c,locale:l,ASID:u},e.next=10,t({type:Ue,payload:{profile:d}});case 10:return e.next=12,xe(d);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,a.tO)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setBestScore=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(dt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setSetting=function(){var e=(0,s.Z)(h().mark((function e(t,n){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.game.storage,e.next=3,a.dispatch(ct(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.setCustomData=function(){var e=(0,s.Z)(h().mark((function e(t,n){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.game.storage,e.next=3,a.dispatch(lt(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.setMultiCustomData=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(ut(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.requestConnectedPlayers=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t){var n,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FBInstant.player.getConnectedPlayersAsync();case 3:if(i=e.sent,r=function(e){return!!e},s=fe()(n=Ae()(i).call(i,(function(e){var t=e.getID(),n=e.getName(),a=e.getPhoto();return t&&n&&a?new Ye.Z(t,n,a).toObject():null}))).call(n,r),!(s.length<1)){e.next=8;break}return e.abrupt("return");case 8:t(ot(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,a.tO)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateConnectedPlayers=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(ot(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPlayer=function(){return Xe(this.state)},n.getPlayerId=function(){return this.getPlayer().playerId},n.getPlayerASID=function(){return je(this.state)},n.getPlayerData=function(){return this.getPlayer().data},n.getPlayerSetting=function(e){var t=this.getPlayerSettings();return"string"!==typeof e?null:GameCore.Utils.Object.hasOwn(t,e)?t[e]:GameCore.Utils.Object.hasOwn(pe,e)?pe[e]:null},n.getPlayerSettings=function(){return this.getPlayerData().settings},n.getPlayerIsNew=function(){return this.getPlayer().isUserNew},n.getDiamond=function(){var e=this.getCustomData("diamond");return GameCore.Utils.Valid.isNumber(e)?e:0},n.getBestScore=function(){return $e(this.state)},n.getCustomData=function(e){var t=et(this.state);return GameCore.Utils.Valid.isObject(t)&&GameCore.Utils.Object.hasOwn(t,e)?t[e]:null},n.getConnectedPlayers=function(){return Je(this.state)},n.getConnectedPlayerIds=function(e,t){return Qe(this.state,{limit:e,offset:t})},(0,z.Z)(t,[{key:"state",get:function(){return this.game.storage.getState()}}]),t}(Phaser.Plugins.BasePlugin),Et=pt,ft=GameCore.Configs.ApiHost,St=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GameCore.Utils.String.params(t),e.next=3,(0,Pe.U)("players?"+n,{},ft);case 3:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At="PROFILES_DATA_UPDATE",mt="profile",gt=(0,Q.P1)([function(e){return e[mt].data}],(function(e){return e})),Tt=(0,Q.P1)([function(e){return e[mt].profileIds}],(function(e){return e})),vt=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n,i){var r,s,o,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=i(),s=Tt(r),!((o=GameCore.Utils.Array.difference(e,s)).length<1)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,St({playerIds:o});case 8:c=t.sent,n({type:At,payload:{data:c}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),(0,a.tO)(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},yt=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.requestProfiles=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(vt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getProfiles=function(){return gt(this.state)},(0,z.Z)(t,[{key:"state",get:function(){return this.game.storage.getState()}}]),t}(Phaser.Plugins.BasePlugin),It=yt,Ot=n(61),Rt=n.n(Ot),Ct=n(91),_t=n.n(Ct),bt=n(196),Nt=n.n(bt),Dt=["player","match"],wt="null",Pt=GameCore.Utils,Lt=Pt.Valid,xt=Pt.Object,Mt=GameCore.Configs.Rollbar,kt=Mt.UseMockup,Gt=Mt.FilterError,Bt=function(e){function t(){for(var t,n,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=e.call.apply(e,T()(t=[this]).call(t,r))||this).enable=void 0,n.rollbar=void 0,n.events=[],n.beforeSend=function(e,t,a){kt&&n.showPopupError(a)},n.checkIgnore=function(e,t,a){try{return!!n.isErrorIgnore(t)}catch(i){return!1}},n.showPopupError=function(e){var t,a,i,r=null==e||null==(t=e.body)||null==(t=t.trace)?void 0:t.exception;r&&n.events.push(r);var s=(null==e||null==(a=e.body)||null==(a=a.trace)?void 0:a.frames)||[];(i=n.events).push.apply(i,s);var o=document.getElementById("popup-error");o||((o=document.createElement("div")).id="popup-error",document.body.appendChild(o)),o.innerHTML='<div style="color: #fff; display: flex; flex-flow: column; align-items: center; ">\n      <pre id="json" style="overflow: auto; background-color: rgb(195 112 97 / 80%); padding: 10px; max-height: 80vh; max-width: 90vw; border: 5px solid #545454;">'+Rt()(n.events,null,2)+'</pre>\n      <button id="close" style="cursor: pointer; padding: 10px 20px; border-radius: 100px;">Close</button>\n      </div>',o.style="top: 0px; z-index: 10000; width: 100vw; max-height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center;";var c=document.getElementById("close");c&&(c.onclick=n.closePopup)},n.closePopup=function(){n.events=[{}];var e=document.getElementById("popup-error");null==e||e.remove()},n.isNoneErrorEvent=function(e){if(!e||0===e.length)return!1;if(!e[0].message)return!1;return"Non-Error promise rejection captured with keys: code, message"===e[0].message},n.isErrorIgnore=function(e){if(!e||0===e.length)return!1;var t=!1,a=e[0];return a instanceof Object&&(t=n.isIgnoreByCode(a)||n.isIgnoreByMessage(a)),t},n.isIgnoreByCode=function(e){if(xt.hasOwn(e,"code")){var t=e.code,n=Gt.Codes,a=n.accepted,i=n.ignored;if("string"===typeof t){if(_t()(a).call(a,t)>=0)return!1;if(_t()(i).call(i,t)>=0)return!0}}if(xt.hasOwn(e,"name")){var r=e.name,s=Gt.Codes,o=s.accepted,c=s.ignored;if("string"===typeof r){if(_t()(o).call(o,r)>=0)return!1;if(_t()(c).call(c,r)>=0)return!0}}return!1},n.isIgnoreByMessage=function(e){if(xt.hasOwn(e,"message")){var t=e.message,n=Gt.Messages,a=n.accepted,i=n.ignored;if("string"===typeof t){if(_t()(a).call(a,t)>=0)return!1;if(_t()(i).call(i,t)>=0)return!0}}return!1},n.addExtraState=function(){try{if(!xt.hasOwn(window,"game"))return;if(!xt.hasOwn(window.game,"storage"))return;if(!xt.hasOwn(window.game.storage,"getState"))return;var e=(0,window.game.storage.getState)()||{},t=e.player,a=e.match,r=(0,i.Z)(e,Dt);n.rollbar.configure({payload:{player:t,match:a,other:r}})}catch(s){}},n}(0,o.Z)(t,e);var n=t.prototype;return n.setup=function(){this.rollbar=new(Nt())({accessToken:wt,checkIgnore:this.checkIgnore,onSendCallback:this.beforeSend,captureUncaught:!0,scrubTelemetryInputs:!0,captureUnhandledRejections:!0,autoInstrument:{dom:!1,navigation:!1},payload:{environment:"production",client:{javascript:{code_version:"0"}},server:{root:"webpack:///./",branch:"master"}}}),this.enable=!0,this.sendTestException()},n.configure=function(e){this.rollbar&&this.rollbar.configure(e)},n.sendTestException=function(){if(!Lt.isDebugger()){var e=FBInstant.player.getID();e&&this.rollbar.debug(new Error("Test rollbar"),{playerID:e})}},n.sendException=function(e,t){e&&this.enable&&this.rollbar&&(this.addExtraState(),this.rollbar.error(e,t))},t}(Phaser.Plugins.BasePlugin),Ut=Bt,Ft=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.emit=function(t,n){return e.prototype.emit.call(this,t,n)},t}(Phaser.Events.EventEmitter),Ht=Ft,Yt=n(116),Wt=n(416),Vt=function(e){function t(t,n,a,i){var r;(r=e.call(this,t)||this).zone=void 0,r.background=void 0,r.setName(n),r.setVisible(!1);var s=r.scene.world.getWorldSize(),o=s.width,c=s.height;return r.setSize(a||o,i||c),r.addZone(),r.addBackground(),r.registerEvents(),r}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(e){GameCore.Utils.Valid.isObject(e)&&(this.setDataEnabled(),this.setData(e)),this.setBlockInputOutsideEnabled(!0),this.scene.screen.bringToTop(this.name),this.visible||(this.setVisible(!0),this.logPageviewOnOpen(),this.logEventOpen(),this.handleResize())},n.close=function(){this.setBlockInputOutsideEnabled(!1),this.visible&&(this.setVisible(!1),this.logPageviewOnClose())},n.incY=function(e){this.y+=e,this.background.y-=e},n.incX=function(e){this.x+=e,this.background.x-=e},n.incScale=function(e){this.scale+=e,this.background.scale-=e^e*(100/e)},n.setBlockInputOutsideEnabled=function(e){this.scene.input.setTopOnly(e)},n.addZone=function(){this.zone=this.scene.add.zone(0,0,this.width,this.height),this.zone.setInteractive({}),this.add(this.zone)},n.addBackground=function(){var e="screen-background";if(!this.scene.textures.exists(e)){var t=this.width+2,n=this.height+2,a=this.scene.add.graphics();a.fillStyle(0,1),a.fillRect(0,0,t,n),a.generateTexture(e,t,n),a.destroy()}this.background=this.scene.add.image(0,0,e),this.add(this.background)},n.registerEvents=function(){this.scene.world.events.on(Wt.Z.RESIZE,this.handleResize,this)},n.handleResize=function(){var e=this.scene.world.getWorldSize(),t=e.width,n=e.height;this.setSize(t,n).setPosition(t/2,n/2),this.zone.setSize(this.width,this.height),this.background.setDisplaySize(this.width,this.height)},n.logPageviewOnOpen=function(){this.scene.analytics.pageview(this.name)},n.logPageviewOnClose=function(){this.scene.analytics.pageview(this.scene.scene.key)},n.logEventOpen=function(){this.scene.analytics.event(Yt._.SCREEN_OPEN,{screen_name:this.getScreenName()})},n.getScreenName=function(){return GameCore.Utils.String.toUpperCamelCase(this.name.toLowerCase())},t}(Phaser.GameObjects.Container),Zt=Vt,Kt={OPEN:"open",CLOSE:"close",CREATED:"created"};GameCore.Screen=Zt,GameCore.Screens={Events:Kt};var Xt=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).events=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.boot=function(){this.events=new Ht,this.registryScreenFactory()},n.get=function(e){var t=this.scene.children.getByName(e);return null===t?null:t},n.add=function(e,t,n,a){var i=this.get(e);return i||(i=this.scene.add.screen(e,t,n,a),this.events.emit(GameCore.Screens.Events.CREATED,i),i)},n.open=function(e,t){var n=this.get(e);return!!n&&(n.open(t),n.emit(GameCore.Screens.Events.OPEN,n),this.events.emit(GameCore.Screens.Events.OPEN,n),!0)},n.close=function(e){var t=this.get(e);return!!t&&(t.close(),t.emit(GameCore.Screens.Events.CLOSE,t),this.events.emit(GameCore.Screens.Events.CLOSE,t),!0)},n.bringToTop=function(e){var t=this.scene.children.getByName(e);t&&this.scene.children.bringToTop(t)},n.registryScreenFactory=function(){Phaser.GameObjects.GameObjectFactory.register("screen",this.createScreen)},n.createScreen=function(e,t,n,a){var i=new t(this.scene,e,n,a);return Phaser.Display.Align.In.Center(i,this.scene.gameZone),this.existing(i),i},t}(Phaser.Plugins.ScenePlugin),zt=Xt,jt=n(382),qt=n.n(jt),Jt=n(411),Qt=n(413),$t=n(412),en={currentSceneKey:"",prevSceneKey:""};(0,$t.pV)();var tn,nn,an,rn,sn,on,cn,ln,un,hn={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},currentGameMode:""},dn=hn,pn={data:{}},En={token:"",isRequesting:!1},fn=(tn={},tn[$]=function(e,t){return void 0===e&&(e=En),(0,$t.ZP)(e,(function(e){var n=t.payload;if(n){var a=n.token;switch(t.type){case j:e.isRequesting=!0;break;case q:e.token=a,e.isRequesting=!1}}}))},tn),Sn={ASID:"",playerId:"",name:"",photo:"",locale:"",connectedPlayers:{},data:{score:0,settings:pe,userGuideDisplays:0,customFields:{}},isUserNew:!0},An=(nn={},nn[Ke]=function(e,t){return void 0===e&&(e=Sn),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.name,r=a.value,s=a.data,o=void 0===s?{}:s,c=a.score,l=a.connectedPlayers,u=void 0===l?[]:l,h=a.profile;switch(t.type){case ke:var d=a.playerId,p=a.name,E=a.photo,f=a.locale,S=a.data;if(n.playerId=d,n.name=p,n.photo=E,n.locale=f,GameCore.Utils.Valid.isObject(S)){var A=S;n.data=(0,Ne.TS)(e.data,A)}S.userGuideDisplays>0&&(n.isUserNew=!1);break;case Ue:var m=h.playerId,g=h.name,T=h.photo,v=h.locale,y=h.ASID;n.ASID=y,n.playerId=m,n.name=g,n.photo=T,n.locale=v;break;case Be:n.data.score=c;break;case Fe:if(!GameCore.Utils.Object.hasOwn(n.data.settings,i))break;n.data.settings[i]=r;break;case Ge:n.data=(0,Ne.TS)(e.data,o),o.userGuideDisplays>0&&(n.isUserNew=!1);break;case He:if(u.length<=0)break;var I=GameCore.Utils.Object.keyBy(u,"playerId");n.connectedPlayers=(0,Ne.TS)(e.connectedPlayers,I)}}}))},nn),mn=n(572),gn=n.n(mn),Tn={data:{},profileIds:[]},vn=(an={},an[mt]=function(e,t){return void 0===e&&(e=Tn),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.data,s=void 0===i?[]:i;if(t.type===At){var o,c,l=GameCore.Utils.Object.keyBy(s,"playerId"),u=H()(l);n.data=(0,Ne.TS)((0,r.Z)({},e.data),l),n.profileIds=T()(o=[]).call(o,new(gn())(T()(c=[]).call(c,e.profileIds,u)))}}}))},an),yn="match",In="MATCH_GAMEPLAY_INITIALIZE",On="MATCH_GAMEPLAY_START",Rn="MATCH_GAMEPLAY_FINISH",Cn="MATCH_GAMEPLAY_UPDATE",_n="MATCH_GAMEPLAY_RESCUE",bn="MATCH_STATS_DATA_CLEAR",Nn="MATCH_STATS_DATA_UPDATE",Dn="MATCH_STATS_CURRENT_UPDATE",wn="MATCH_SINGLE_CREATE_REQUEST",Pn="MATCH_SINGLE_DETAIL_REQUEST",Ln="MATCH_SINGLE_MOVE_UPDATED",xn="MATCH_SINGLE_DATA_RECEIVED",Mn="MATCH_SINGLE_DATA_CLEAR",kn="MATCH_CHALLENGE_JOIN_REQUEST",Gn="MATCH_CHALLENGE_CREATE_REQUEST",Bn="MATCH_CHALLENGE_FINISH_REQUEST",Un="MATCH_CHALLENGE_CONTINUE_REQUEST",Fn="MATCH_CHALLENGE_DATA_RECEIVED",Hn="MATCH_CHALLENGE_DATA_CLEAR",Yn="MATCH_GROUP_CREATE_REQUEST",Wn="MATCH_GROUP_FINISH_REQUEST",Vn="MATCH_ONLINE_CREATE_REQUEST",Zn="MATCH_ONLINE_DATA_RECEIVED",Kn="open",Xn="active",zn="finished",jn={mode:"",status:Kn,rescued:0,startAt:0,finishAt:0},qn={single:{_id:"",data:{fen:""},playerId:"",status:Kn},group:{status:Kn,opponentInfo:{playerId:"",name:"",photo:""}},challenge:{_id:"",status:Kn,whitePlayerId:"",blackPlayerId:"",opponentInfo:{playerId:"",name:"",photo:""}},online:{_id:"",status:Kn,players:{}},updateAt:0,isRequesting:!1},Jn={current:{updateAt:0},data:{updateAt:0},isRequesting:!1},Qn=((rn={})[yn]=(0,Jt.UY)({gameplay:function(e,t){return void 0===e&&(e=jn),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.mode,r=a.status;switch(t.type){case In:n.status=Kn,n.mode=jn.mode,n.rescued=jn.rescued,n.startAt=jn.startAt,n.finishAt=jn.finishAt,n.opponentInfo=jn.opponentInfo;break;case On:n.mode=i,n.status=Xn,n.rescued=jn.rescued,n.startAt=Date.now();break;case Cn:n.mode="string"===typeof i?i:e.mode,n.status=r||e.status;break;case Rn:n.status=zn,n.finishAt=Date.now();break;case _n:n.rescued+=1}}}))},match:function(e,t){return void 0===e&&(e=qn),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.match,s=a.opponentInfo,o=a.players;switch(t.type){case wn:case Pn:case kn:case Bn:case Vn:n.isRequesting=!0;break;case Ln:n.single=(0,r.Z)({},e.single,i),n.updateAt=Date.now();break;case xn:n.isRequesting=!1,n.single=i||qn.single;break;case Mn:n.isRequesting=!1,n.single=qn.single;break;case Gn:case Un:n.isRequesting=!0,n.challenge.opponentInfo=s;break;case Fn:n.isRequesting=!1,n.challenge=(0,r.Z)({},i||qn.challenge),n.challenge.opponentInfo=e.challenge.opponentInfo;break;case Hn:n.isRequesting=!1,n.challenge=qn.challenge;break;case Yn:n.group.status=Xn,s&&(n.group.opponentInfo=s);break;case Wn:n.group.status=zn;break;case"MATCH_ONLINE_DATA_CLEAR":n.online.status=qn.online.status,n.online.players=qn.online.players;break;case Zn:n.online.status=Xn,n.online.players=o;break;case"MATCH_ONLINE_FINISH_REQUEST":n.online.status=zn}}}))},stats:function(e,t){return void 0===e&&(e=Jn),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.playerId,s=a.stats,o=a.match,c=a.current,l=a.players,u=a.leaders;switch(t.type){case bn:delete n.data[i],n.current=Jn.current;break;case"MATCH_STATS_CONTEXT_REQUEST":n.data=Jn.data,n.isRequesting=!0;break;case"MATCH_STATS_CONTEXT_RECEIVED":n.data=s,n.isRequesting=!1;break;case Nn:n.data[i]=s;break;case Dn:n.current=(0,Ne.TS)((0,r.Z)({},e.current),s);break;case Zn:H()(l).forEach((function(e){n.data[e]={score:0}}));break;case"MATCH_ONLINE_STATS_UPDATE":u.forEach((function(e){var t=e.playerId,a=e.score,i=e.rank;n.data[t]={score:a,rank:i}}));break;case Fn:var h=o||{},d=h.blackPlayerId,p=h.blackPlayerScore,E=h.whitePlayerId,f=h.whitePlayerScore,S=h.whitePlayerLevel,A=h.blackPlayerLevel;if(!d||!E)break;c&&(n.current=c),n.data[d]={score:p,level:A},n.data[E]={score:f,level:S}}}}))}}),rn),$n="TOURNAMENT_ACTIVE",ea="TOURNAMENT_REQUEST",ta="TOURNAMENT_RECEIVED",na={active:!1,tournamentId:null,bestSessionScore:0,isRequesting:!1},aa=((sn={}).tournament=function(e,t){return void 0===e&&(e=na),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.score,r=void 0===i?0:i,s=a.tournamentId;switch(t.type){case $n:n.active=!0,n.tournamentId=s;break;case ea:n.isRequesting=!0;break;case ta:n.isRequesting=!1,r>e.bestSessionScore&&(n.bestSessionScore=r)}}}))},sn),ia="leaderboards",ra=n(432),sa=n.n(ra),oa=n(194),ca=n.n(oa),la="LEADERBOARD_DATA_REQUEST",ua="LEADERBOARD_DATA_UPDATE",ha="LEADERBOARD_DATA_CLEAR",da={leaderboardId:"",type:"",limit:0,offset:0,leaders:{},isRequesting:!1},pa=((on={})[ia]=function(e,t){return void 0===e&&(e=da),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.leaderboardId,s=a.type,o=a.limit,c=a.offset,l=a.leaders;switch(t.type){case la:e.type!==s&&0===c&&(n.leaders=da.leaders),n.isRequesting=!0,n.leaderboardId=i,n.type=s,n.limit=o,n.offset=c;break;case ua:if(n.isRequesting=!1,e.type!==s)break;var u=GameCore.Utils.Json.clone((0,r.Z)({},e.leaders,l)),h=sa()(u),d=Ae()(h).call(h,(function(e){return e.name&&e.photo||(e.name="Unknown",e.photo=""),e}));ca()(d).call(d,(function(e,t){return+t.score-+e.score})),d.forEach((function(t,a){t.rank=a+1,e.leaders[t.playerId]||(n.leaders[t.playerId]=t)}));break;case ha:n.isRequesting=!1,n.type=da.type,n.limit=da.limit,n.offset=da.offset,n.leaders=da.leaders,n.leaderboardId=da.leaderboardId}}}))},on),Ea="missions",fa="MISSIONS_DATA_REQUEST",Sa="MISSIONS_DATA_RECEIVE",Aa="MISSION_UPDATE",ma="MISSION_COMPLETED",ga={mission:null,missions:null,isRequesting:!1},Ta=((cn={})[Ea]=function(e,t){return void 0===e&&(e=ga),(0,$t.ZP)(e,(function(n){var a,i,r=t.payload;if(r){var s=r.name,o=r.type,c=r.value,l=r.missions;switch(t.type){case fa:n.isRequesting=!0;break;case Sa:if(n.isRequesting=!1,l.length<1)return;n.missions={},l.forEach((function(e){n.missions[e.name]=e}));break;case"MISSION_START":if(null===e.missions)break;var u=e.missions[s];n.mission={name:s,process:{},require:u.require,reward:u.reward},H()(u.require).forEach((function(e){n.mission.process[e]=0}));break;case Aa:if((null==(a=e.mission)?void 0:a.name)!==s)break;n.mission.process[o]+=c;break;case ma:if((null==(i=e.mission)?void 0:i.name)!==s)break;n.mission=null}}}))},cn),va="dailyTasks",ya="DAILY_TASKS_DATA_REQUEST",Ia="DAILY_TASKS_DATA_RECEIVE",Oa="DAILY_TASKS_PROCESS_UPDATE",Ra="DAILY_TASK_VALUE_ADD",Ca="DAILY_TASK_FINISHED",_a={tasks:[],process:[],isRequesting:!1,isNotice:!1},ba=((ln={})[va]=function(e,t){return void 0===e&&(e=_a),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.id,r=a.type,s=a.value,o=a.tasks,c=a.process;switch(t.type){case ya:n.isRequesting=!0;break;case Ia:n.isRequesting=!1,n.tasks=o;break;case Oa:n.process=c;break;case Ra:if(!e.process[i])break;n.process[i][r]+=s;break;case"DAILY_TASK_REWARDED":if(!e.process[i])break;n.process[i].rewarded=!0;break;case"DAILY_TASKS_SEEN":n.isNotice=!1;break;case Ca:n.isNotice=!0}}}))},ln),Na={rewards:[],isRequesting:!1},Da=((un={}).dailyRewards=function(e,t){return void 0===e&&(e=Na),(0,$t.ZP)(e,(function(e){var n=t.payload;if(n){var a=n.rewards;switch(t.type){case"DAILY_REWARDS_REQUEST":e.isRequesting=!0;break;case"DAILY_REWARDS_RECEIVE":e.isRequesting=!1,e.rewards=a}}}))},un),wa=(0,Jt.UY)((0,r.Z)({scene:function(e,t){return void 0===e&&(e=en),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.sceneKey;if(t.type===Qt.DW)n.currentSceneKey=i,n.prevSceneKey=e.currentSceneKey}}))},context:function(e,t){return void 0===e&&(e=hn),(0,$t.ZP)(e,(function(e){var n=t.payload;if(n){var a=n.gameMode,i=n.contextId,r=n.contextType,s=n.entryPointData;switch(t.type){case Qt.kL:e.contextId=i,e.contextType=r,e.entryPointData=s;break;case Qt.fJ:e.contextId=i,e.contextType=r,e.processed=!0;break;case Qt.EH:e.currentGameMode=a}}}))},messages:function(e,t){return void 0===e&&(e=pn),(0,$t.ZP)(e,(function(n){var a=t.payload;if(a){var i=a.opponentId;if("string"===typeof i)switch(t.type){case Qt.qj:e.data[i]?n.data[i].sent=!0:n.data[i]={sent:!0};break;case Qt.rh:e.data[i]?n.data[i].sent=!1:n.data[i]={sent:!1}}}}))}},fn,An,vn,Qn,aa,pa,Ta,ba,Da)),Pa=n(583),La=function(e){return(0,Pa.xC)({reducer:wa,preloadedState:e,devTools:!0})},xa=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).store=void 0,n.initiator=void 0,n.dispatch=function(e){return n.store.dispatch(e)},n.getState=function(){return n.store.getState()},n.subscribe=function(e){return n.store.subscribe(e)},n.watch=function(e,t){var a=qt()((function(){var t=n.getState();return e(t)}));return n.subscribe(a((function(e){t(e)})))},n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.store=La({})},n.setInitiator=function(e){this.initiator=e},n.syncStore=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initiator.initContext(),e.next=3,this.initiator.initPlayer();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(Phaser.Plugins.BasePlugin),Ma=xa,ka=n(577),Ga=n.n(ka),Ba=function(e){function t(t,n){var a;return(a=e.call(this,t,{type:"webfont",key:n.type})||this).payload=void 0,a.payload=n,a}(0,o.Z)(t,e);var n=t.prototype;return n.load=function(){var e;switch(this.payload.type){case"google":e=this.getGoogleFontConfig(this.payload);break;case"local":e=this.getLocalFontConfig(this.payload)}Ga().load(e)},n.getGoogleFontConfig=function(e){var t=this,n=e.character,a=e.fontName,i=e.fontWeight;return{google:{families:[a+":"+(void 0===i?400:i)],text:n},active:function(){t.loader.nextFile(t,!0)},timeout:15e3}},n.getLocalFontConfig=function(e){var t=this,n=e.fontName,a=e.fontType,i=document.createElement("style");document.head.appendChild(i);var r=i.sheet;if(r){var s='@font-face { font-family: "'+n+'"; src: url("assets/fonts/'+n+("opentype"===a?".otf":".ttf")+'") format("'+a+'"); }';r.insertRule(s,0)}return{custom:{families:[n]},active:function(){t.loader.nextFile(t,!0)},timeout:15e3}},t}(Phaser.Loader.File),Ua=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.addFont=function(e){var t=new Ba(this.scene.load,e);this.scene.load.addFile(t)},t}(Phaser.Plugins.ScenePlugin),Fa=Ua,Ha=n(404),Ya=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.emit=function(t){return e.prototype.emit.call(this,t)},t}(Phaser.Events.EventEmitter),Wa=Ya,Va=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).events=void 0,n.previousLayout=void 0,n.resizeEventData=void 0,n.portraitRatio=void 0,n.portraitWidth=void 0,n.portraitHeight=void 0,n.landscapeRatio=void 0,n.landscapeWidth=void 0,n.landscapeHeight=void 0,n.worldWidth=void 0,n.worldHeight=void 0,n.worldRatio=void 0,n.autoResize=void 0,n.disableLandscape=void 0,n.fullSizeOnLandscape=void 0,n.currentLayout=void 0,n.forcePixelRatio=void 0,n.handleResize=(0,Ha.D)((function(){n.previousLayout=""+n.currentLayout,n.initWorldSize(),n.resize()}),300),n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(e){this.events=new Wa;var t=e.autoResize,n=e.portraitRatio,a=e.portraitWidth,i=e.portraitHeight,r=e.landscapeWidth,s=e.landscapeHeight,o=e.landscapeRatio,c=e.disableLandscape,l=e.fullSizeOnLandscape;this.autoResize=t,this.disableLandscape=c,this.fullSizeOnLandscape=l,this.portraitRatio=n,this.portraitWidth=a,this.portraitHeight=i,this.landscapeRatio=o,this.landscapeWidth=r,this.landscapeHeight=s,this.initWorldSize(),this.addEventResize()},n.resize=function(e){var t=this;e&&e>0&&(this.forcePixelRatio=e);var n=this.getCanvasSizeFixedRatio(this.worldRatio),a=n.width,i=n.height;this.resizeCanvas(a,i),this.game.scene.scenes.forEach((function(e){var n=e.cameras.main;if(n){var a=t.getZoomRatio(),i=t.getWorldSize(),r=i.width,s=i.height;n.setZoom(a),n.centerOn(r/2,s/2)}}));var r={width:this.worldWidth,height:this.worldHeight,isLayoutChanged:!1,newLayout:this.currentLayout};this.previousLayout!==this.currentLayout&&(r.isLayoutChanged=!0,r.newLayout=this.currentLayout),this.resizeEventData=r,this.events.emit(Wt.Z.RESIZE,r)},n.getResizeEventData=function(){return this.resizeEventData},n.resizeCanvas=function(e,t){this.game.canvas.width=e,this.game.canvas.height=t,this.game.scale.resize(e,t)},n.getWorldSize=function(){return{width:this.worldWidth,height:this.worldHeight}},n.initWorldSize=function(){if(this.worldWidth=this.portraitWidth,this.worldHeight=this.portraitHeight,this.isScreenSmallerRatio(this.portraitRatio))this.worldHeight=this.worldWidth/this.getScreenRatio(),this.currentLayout="portrait";else if(!this.disableLandscape&&(this.worldWidth=this.landscapeWidth,this.worldHeight=this.landscapeHeight,this.currentLayout="landscape",this.fullSizeOnLandscape)){this.worldRatio=this.worldWidth/this.worldHeight,this.landscapeRatio=this.getScreenRatio();var e=this.getCanvasSizeFixedRatio(this.landscapeRatio),t=e.width,n=e.height,a=this.getZoomRatio();this.worldWidth=t/a,this.worldHeight=n/a}this.worldRatio=this.worldWidth/this.worldHeight},n.getZoomRatio=function(){var e=this.getWorldSize().width;return this.getCanvasSizeFixedRatio(this.worldRatio).width/e},n.getPixelRatio=function(){if(this.forcePixelRatio>0)return this.forcePixelRatio;if(GameCore.Utils.Device.isDesktop())return 2;var e=GameCore.Utils.Device.pixelRatio();return e>2&&(e=2),e},n.getPhysicPixels=function(e,t){return e*t},n.getCanvasSizeFixedRatio=function(e){var t=this.getPixelRatio(),n=this.getScreenWidth()*t,a=this.getScreenHeight()*t;return this.isScreenSmallerRatio(e)?a=n/e:n=a*e,{width:n,height:a}},n.getScreenRatio=function(){return this.getScreenWidth()/this.getScreenHeight()},n.getScreenHeight=function(){var e=document,t=e.body,n=e.documentElement,a=t.clientHeight,i=n.clientHeight;return Math.max(i,a)||0},n.getScreenWidth=function(){var e=document,t=e.body,n=e.documentElement,a=t.clientWidth,i=n.clientWidth;return Math.max(i,a)||0},n.isScreenSmallerRatio=function(e){return this.getScreenRatio()<e},n.addEventResize=function(){this.autoResize&&window.addEventListener("resize",this.handleResize)},n.isLandscape=function(){return!this.disableLandscape&&this.worldRatio>this.portraitRatio},t}(Phaser.Plugins.BasePlugin),Za=Va,Ka=function(){function e(e,t,n){this.contextId=void 0,this.contextType=void 0,this.entryPointData=void 0,this.contextId=e||dn.contextId,this.contextType=t||dn.contextType,this.entryPointData=n||dn.entryPointData}return e.prototype.toObject=function(){return{contextId:this.contextId,contextType:this.contextType,entryPointData:this.entryPointData}},e}(),Xa=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidPlayerId",a.message=t||"The playerId is not valid",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),za="share_invite",ja="challenge_friend_match",qa=n(409),Ja=new Ye.Z("10","Your Friend",qa.Z.AVATAR.FILE).toObject(),Qa="single",$a="challenge-friends",ei="matching-group",ti="tournaments",ni=(0,Q.P1)([function(e){return e.context}],(function(e){return e})),ai=(0,Q.P1)([function(e){return e.context.currentGameMode}],(function(e){return e})),ii=function(e,t){return{type:Qt.fJ,payload:{contextId:e,contextType:t}}},ri=function(e){return function(t){t({type:Qt.EH,payload:{gameMode:e}}),(0,a.sw)("game-mode",e)}},si={score:"score",settings:"settings",gameData:"gameData",userGuideDisplays:"userGuideDisplays"},oi=GameCore.Configs.SyncProfileFromAPI,ci=function(e){var t=this;this.game=void 0,this.initContext=function(){var e=window.GameSDK.context.getID(),n=window.GameSDK.context.getType(),a=window.GameSDK.getEntryPointData(),i=new Ka(e,n,a).toObject(),r=i.contextId,s=i.contextType,o=i.entryPointData;t.game.storage.dispatch(function(e,t,n){return{type:Qt.kL,payload:{contextId:e,contextType:t,entryPointData:n}}}(r,s,o))},this.initPlayer=(0,s.Z)(h().mark((function e(){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.game.player,a=t.getPlayerInfo(),i=sa()(si),e.next=5,FBInstant.player.getDataAsync(i);case 5:return r=e.sent,s=new be(r),e.next=11,t.maintainDataStructure(s);case 11:return s=e.sent,!0===s.toObject().settings.music&&window.game.audio.playMusic(),e.next=16,n.receiveData(a,s.convertToPlayerData());case 16:case"end":return e.stop()}}),e)}))),this.maintainDataStructure=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,oi){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,FBInstant.player.getDataAsync(["isSynced","customFields"]);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(n=e.t0,!0!==(n.isSynced||!1)){e.next=12;break}return e.abrupt("return",t);case 12:if(a=n.customFields||!1){e.next=15;break}return e.abrupt("return",t);case 15:return(i=t.convertToPlayerData()).customFields=a,s=new be({}).convertToFacebookData(i),e.next=20,FBInstant.player.setDataAsync((0,r.Z)({},s,{isSynced:!0}));case 20:return e.abrupt("return",new be(s));case 23:return e.prev=23,e.t1=e.catch(0),e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),this.getPlayerInfo=function(){try{var e=window.GameSDK.player.getID(),t=window.GameSDK.player.getName(),n=window.GameSDK.player.getPhoto(),a=window.GameSDK.getLocale();if(!GameCore.Utils.Valid.isString(e))throw new Xa(null,{playerId:e});return GameCore.Utils.Valid.isString(t)||(t="You"),new Ye.Z(e,t,n,a).toObject()}catch(i){return new Ye.Z("123","You").toObject()}},this.game=e},li=n(184),ui=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).Text=void 0,n.Texture=void 0,n.currentLocale=void 0,n.supportedLanguages=void 0,n.data=void 0,n.options=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(e){this.applyOptions(e)},n.getCurrentLanguage=function(){return this.currentLocale},n.switchLanguage=function(e){void 0===e&&(e="en");var t=this.getCorrectLocale(e);this.currentLocale=t,this.Text=this.data[t].Text,this.Texture=this.data[t].Texture},n.getText=function(e){if("object"==typeof e){var t=e.key,n=e.variables,a=void 0===n?[]:n,i=e.locale,r=void 0===i?this.currentLocale:i,s=this.getCorrectLocale(r),o=this.data[s].Text[t];return this.replaceVariables(o,a)}return this.Text[e]},n.getTexture=function(e){if("object"==typeof e){var t=e.key,n=e.variables,a=void 0===n?[]:n,i=e.locale,r=void 0===i?this.currentLocale:i,s=this.getCorrectLocale(r),o=this.data[s].Texture[t];return this.replaceVariables(o,a)}return this.Texture[e]},n.isSupportLanguage=function(e){var t;return _t()(t=this.supportedLanguages).call(t,e)>=0},n.applyOptions=function(e){this.options=(0,r.Z)({},e);var t=e.data,n=e.locale,a=void 0===n?"en":n,i=e.upperCaseText,s=void 0!==i&&i;this.data=t,this.supportedLanguages=H()(t);var o=this.getCorrectLocale(a);if(this.currentLocale=o,this.Text=t[o].Text,this.Texture=t[o].Texture,s)for(var c in this.Text)this.Text[c]=this.Text[c].toUpperCase()},n.makeText=function(e,t){var n,a=t.maxWidth,i=void 0===a?Phaser.Math.MAX_SAFE_INTEGER:a,r=t.maxHeight,s=void 0===r?Phaser.Math.MAX_SAFE_INTEGER:r,o=t.align,c=void 0===o?"center":o,l=t.drawMaxBoxDebug,u=void 0!==l&&l,h=e.make.bitmapText(t);for("center"===c?h.setCenterAlign():"left"===c?h.setLeftAlign():"right"===c&&h.setRightAlign(),_t()(n=t.text||"").call(n," ")>=0&&h.setMaxWidth(i);h.width>i||h.height>=s;)h.setFontSize(.95*h.fontSize);if(u&&GameCore.Utils.Valid.isDebugger()){var d=e.game.globalScene.add.graphics({lineStyle:{width:2,color:16711680}});d.setDepth(Phaser.Math.MAX_SAFE_INTEGER),e.game.globalScene.events.on(Phaser.Scenes.Events.UPDATE,(function(){if(d.clear(),h&&h.visible&&h.active){var e=h.getWorldPosition(),t=e.x,n=e.y;d.strokeRect(t-.5*i+(.5-h.originX)*h.width,n-.5*s+(.5-h.originY)*h.height,i,s)}}))}return h},n.setFontSize=function(e,t,n){var a,i=t||Phaser.Math.MAX_SAFE_INTEGER,r=n||Phaser.Math.MAX_SAFE_INTEGER;for(_t()(a=e.text||"").call(a," ")>=0&&e.setMaxWidth(i);e.width>i||e.height>=r;)e.setFontSize(.95*e.fontSize)},n.replaceVariables=function(e,t){var n=t.length;if(0==n)return e;var a=0;return e.replace(/{.*}/,(function(){return String(t[Math.min(a++,n-1)])}))},n.getCorrectLocale=function(e){var t=e;return this.isSupportLanguage(e)||(t="en"),t},t}(Phaser.Plugins.BasePlugin),hi={en:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"LEVEL","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"NO ADS TO DISPLAY!","NO_REWARDS":"SORRY, NO REWARDS!","CANCELLED_AD":"YOU HAVE CANCELLED THE AD!","LOADING":"LOADING...","LOADING_AD":"LOADING AD ...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"Leaderboard is empty!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"Great! I have a best score!","TARGET_SCORE":"Target score","NO_SPACE_LEFT":"NO SPACE LEFT!","FULL":"Full","LOADING_LEVEL":"Loading level","SCORE_REACHED":"SCORE REACHED!","WELL_DONE":"WELL DONE!","Level":"Level","Completed":"Completed","COMPLETED":"COMPLETED","Next_life":"Next life","MESS_TUTORIAL_1":"Place the block in the horizontal line\\nand see what happens!","MESS_TUTORIAL_2":"Now see what happens\\nwhen you make a vertical line.","MESS_TUTORIAL_3":"You can also make a 3x3 square.\\nGive it a try!","MESS_TUTORIAL_4":"Arrange lines and squares\\nto get combo points!","COMBO":"COMBO","STREAK":"STREAK","MESS_SKIP_TUTORIAL":"Are you sure you want\\nto skip the tutorial?","MESS_START_OVER":"Are you sure to start over?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","CONFIRM_START_OVER":"CONFIRM START OVER","OK":"OK","CANCEL":"CANCEL","SECOND_CHANCE":"SECOND\\nCHANCE?","SCORE":"SCORE"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),ru:JSON.parse('{"Text":{"POP JEWELS":"\u0412\u0417\u0420\u042b\u0412\u041d\u042b\u0415 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422\u042b","DAILY_REWARDS":"\u0415\u0416\u0415\u0414\u041d\u0415\u0412\u041d\u042b\u0415 \u041d\u0410\u0413\u0420\u0410\u0414\u042b","CLAIM":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c","CLAIM_X2":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c X2","DAY_{X}":"\u0414\u0415\u041d\u042c {X}","PLAY_NOW":"\u0418\u0413\u0420\u0410\u0422\u042c \u0421\u0415\u0419\u0427\u0410\u0421","PLAY_WITH_FRIENDS":"\u0418\u0413\u0420\u0410\u0422\u042c \u0421 \u0414\u0420\u0423\u0417\u042c\u042f\u041c\u0418","RANK":"\u041c\u0415\u0421\u0422\u041e","DAILY":"\u0415\u0416\u0415\u0414\u041d\u0415\u0412\u041d\u041e","GIFT":"\u041f\u041e\u0414\u0410\u0420\u041e\u041a","SETTINGS":"\u041d\u0410\u0421\u0422\u0420\u041e\u0419\u041a\u0418","LEADERBOARDS":"\u0422\u0410\u0411\u041b\u0418\u0426\u0410 \u041b\u0418\u0414\u0415\u0420\u041e\u0412","PLAY":"\u0418\u0413\u0420\u0410\u0422\u042c","WITH_FRIENDS":"\u0421 \u0414\u0420\u0423\u0417\u042c\u042f\u041c\u0418","FRIENDS":"\u0414\u0420\u0423\u0417\u042c\u042f","WORLD":"\u0412\u0415\u0421\u042c \u041c\u0418\u0420","DAILY_MISSION":"\u0415\u0416\u0415\u0414\u041d\u0415\u0412\u041d\u042b\u0415 \u041c\u0418\u0421\u0421\u0418\u0418","PASS_10_LEVELS":"\u041f\u0420\u041e\u0419\u0414\u0418 10 \u0423\u0420\u041e\u0412\u041d\u0415\u0419","COLLECT_300_DIAMONDS":"\u0421\u041e\u0411\u0415\u0420\u0418 300 \u0410\u041b\u041c\u0410\u0417\u041e\u0412","INVITE_2_FRIENDS":"\u041f\u0420\u0418\u0413\u041b\u0410\u0421\u0418 2 \u0414\u0420\u0423\u0417\u0415\u0419","REACH_TOTAL_SCORES":"\u041d\u0410\u0411\u0415\u0420\u0418 \u041e\u0411\u0429\u0415\u0415 \u0427\u0418\u0421\u041b\u041e \u041e\u0427\u041a\u041e\u0412","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"\u041f\u041e\u0421\u041c\u041e\u0422\u0420\u0418 \u0412\u0418\u0414\u0415\u041e, \u0427\u0422\u041e\u0411\u042b \u041f\u041e\u041b\u0423\u0427\u0418\u0422\u042c\\n{X} \u0410\u041b\u041c\u0410\u0417\u041e\u0412!","GET_NOW":"\u041f\u041e\u041b\u0423\u0427\u0418 \u041f\u0420\u042f\u041c\u041e \u0421\u0415\u0419\u0427\u0410\u0421!","TARGET":"\u0426\u0415\u041b\u042c","MISSION":"\u041c\u0418\u0421\u0421\u0418\u042f","YOUR_SCORE":"\u0422\u0412\u041e\u0419 \u0420\u0415\u0417\u0423\u041b\u042c\u0422\u0410\u0422","LEVEL":"\u0423\u0420\u041e\u0412\u0415\u041d\u042c","REQUESTING":"\u0417\u0410\u041f\u0420\u041e\u0421...","LOADING_INTERSTITIAL_AD":"\u0417\u0410\u0413\u0420\u0423\u0417\u041a\u0410 \u041f\u0420\u041e\u041c\u0415\u0416\u0423\u0422\u041e\u0427\u041d\u041e\u0419 \u0420\u0415\u041a\u041b\u0410\u041c\u042b...","HAMMER":"\u041c\u041e\u041b\u041e\u0422\u041e\u041a","HAMMER_DESCRIPTION":"\u0418\u0421\u041f\u041e\u041b\u042c\u0417\u0423\u0419 \u041c\u041e\u041b\u041e\u0422\u041e\u041a, \u0427\u0422\u041e\u0411\u042b \u0420\u0410\u0417\u0411\u0418\u0422\u042c \u041b\u042e\u0411\u041e\u0419 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422","MAGIC_BOTTLE":"\u0412\u041e\u041b\u0428\u0415\u0411\u041d\u0410\u042f \u0411\u0423\u0422\u042b\u041b\u041a\u0410","MAGIC_BOTTLE_DESCRIPTION":"\u0418\u0421\u041f\u041e\u041b\u042c\u0417\u0423\u0419 \u0412\u041e\u041b\u0428\u0415\u0411\u041d\u0423\u042e \u0411\u0423\u0422\u042b\u041b\u041a\u0423, \u0427\u0422\u041e\u0411\u042b \u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c \u0426\u0412\u0415\u0422 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422\u0410","LEVEL_FAILED":"\u0423\u0420\u041e\u0412\u0415\u041d\u042c \u041d\u0415 \u041f\u0420\u041e\u0419\u0414\u0415\u041d","FAILED_TEXT":"\u0422\u042b \u041d\u0415 \u041d\u0410\u0411\u0420\u0410\u041b \u041d\u0423\u0416\u041d\u041e\u0415 \u0427\u0418\u0421\u041b\u041e \u041e\u0427\u041a\u041e\u0412","CONTINUE":"\u041f\u0420\u041e\u0414\u041e\u041b\u0416\u0418\u0422\u042c","BEST_SCORE":"\u041b\u0423\u0427\u0428\u0418\u0419 \u0420\u0415\u0417\u0423\u041b\u042c\u0422\u0410\u0422","GLOBAL":"\u0412\u0415\u0421\u042c \u041c\u0418\u0420","JOIN":"\u041f\u0420\u0418\u0421\u041e\u0415\u0414\u0418\u041d\u0418\u0422\u042c\u0421\u042f","REPLAY":"\u0418\u0413\u0420\u0410\u0422\u042c \u0417\u0410\u041d\u041e\u0412\u041e","HOME":"\u0414\u041e\u041c\u041e\u0419","TODAY_RECORD":"\u0421\u0415\u0413\u041e\u0414\u041d\u042f\u0428\u041d\u0418\u0419 \u0420\u0415\u0417\u0423\u041b\u042c\u0422\u0410\u0422","SHARE":"\u041f\u041e\u0414\u0415\u041b\u0418\u0422\u042c\u0421\u042f","WAITING":"\u041e\u0416\u0418\u0414\u0410\u041d\u0418\u0415","WAITING_FOR_OPPONENT":"\u041e\u0416\u0418\u0414\u0410\u041d\u0418\u0415 \u041e\u041f\u041f\u041e\u041d\u0415\u041d\u0422\u0410","RESTART":"\u041d\u0410\u0427\u0410\u0422\u042c \u0417\u0410\u041d\u041e\u0412\u041e","DRAW":"\u0416\u0415\u0420\u0415\u0411\u042c\u0415\u0412\u041a\u0410","YOU_LOSE":"\u0422\u042b \u041f\u0420\u041e\u0418\u0413\u0420\u0410\u0415\u0428\u042c","YOU_WIN":"\u0422\u042b \u0412\u042b\u0418\u0413\u0420\u0410\u0415\u0428\u042c","VS":"\u041f\u0420\u041e\u0422\u0418\u0412","GUIDE_TEXT_GEM":"\u041d\u0410\u0416\u041c\u0418 \u041d\u0410 \u0414\u0412\u0410 \u0418\u041b\u0418 \u0411\u041e\u041b\u042c\u0428\u0415 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422\u0410 \u041e\u0414\u041d\u041e\u0413\u041e \u0426\u0412\u0415\u0422\u0410, \u0427\u0422\u041e\u0411\u042b \u0423\u041d\u0418\u0427\u0422\u041e\u0416\u0418\u0422\u042c \u0418\u0425","GUIDE_TEXT_CURRENT_SCORE":"\u042d\u0422\u041e \u0422\u0412\u041e\u0419 \u0422\u0415\u041a\u0423\u0429\u0418\u0419 \u0420\u0415\u0417\u0423\u041b\u042c\u0422\u0410\u0422","GUIDE_TEXT_TARGET_SCORE":"\u042d\u0422\u041e \u041d\u0415\u041e\u0411\u0425\u041e\u0414\u0418\u041c\u042b\u0419 \u0420\u0415\u0417\u0423\u041b\u042c\u0422\u0410\u0422 \u0414\u041b\u042f \u041a\u0410\u0416\u0414\u041e\u0413\u041e \u0423\u0420\u041e\u0412\u041d\u042f, \u041a\u041e\u0422\u041e\u0420\u042b\u0419 \u0422\u0415\u0411\u0415 \u041d\u0423\u0416\u041d\u041e \u041f\u0420\u041e\u0419\u0422\u0418","GUIDE_TEXT_RAINBOW_GEM":"\u0420\u0410\u0414\u0423\u0416\u041d\u042b\u0419 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422 \u041c\u041e\u0416\u0415\u0422 \u0423\u0411\u0420\u0410\u0422\u042c \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422\u042b, \u041a\u041e\u0422\u041e\u0420\u042b\u0415 \u0415\u0413\u041e \u041e\u041a\u0420\u0423\u0416\u0410\u042e\u0422","GUIDE_TEXT_HAMMER":"\u042d\u0422\u041e \u041c\u041e\u041b\u041e\u0422\u041e\u041a. \u0418\u0421\u041f\u041e\u041b\u042c\u0417\u0423\u0419 \u0415\u0413\u041e, \u0427\u0422\u041e\u0411\u042b \u0420\u0410\u0417\u0411\u0418\u0422\u042c \u041b\u042e\u0411\u041e\u0419 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422!","GUIDE_TEXT_SHUFFLE":"\u042d\u0422\u041e \u041f\u041b\u0418\u0422\u041a\u0410 \u041f\u0415\u0420\u0415\u041c\u0415\u0428\u0418\u0412\u0410\u041d\u0418\u042f. \u0418\u0421\u041f\u041e\u041b\u042c\u0417\u0423\u0419 \u0415\u0415, \u0427\u0422\u041e\u0411\u042b \u041f\u0415\u0420\u0415\u041c\u0415\u0428\u0410\u0422\u042c \u0412\u0421\u0415 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422\u042b","GUIDE_TEXT_MAGIC_BOTTLE":"\u042d\u0422\u041e \u0412\u041e\u041b\u0428\u0415\u0411\u041d\u0410\u042f \u0411\u0423\u0422\u042b\u041b\u041a\u0410. \u0418\u0421\u041f\u041e\u041b\u042c\u0417\u0423\u0419 \u0415\u0415, \u0427\u0422\u041e\u0411\u042b \u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c \u0426\u0412\u0415\u0422 \u0421\u0410\u041c\u041e\u0426\u0412\u0415\u0422\u0410","NO_ADS_TO_DISPLAY":"\u041d\u0415\u0422 \u0420\u0415\u041a\u041b\u0410\u041c\u042b \u0414\u041b\u042f \u041e\u0422\u041e\u0411\u0420\u0410\u0416\u0415\u041d\u0418\u042f!","NO_REWARDS":"\u0418\u0417\u0412\u0418\u041d\u0418, \u041d\u0410\u0413\u0420\u0410\u0414 \u041d\u0415\u0422!","CANCELLED_AD":"\u0422\u042b \u041e\u0422\u041a\u0410\u0417\u0410\u041b\u0421\u042f \u041e\u0422\\n\u041f\u0420\u041e\u0421\u041c\u041e\u0422\u0420\u0410 \u0420\u0415\u041a\u041b\u0410\u041c\u042b!","LOADING":"\u0417\u0410\u0413\u0420\u0423\u0417\u041a\u0410...","LOADING_AD":"\u0417\u0410\u0413\u0420\u0423\u0417\u041a\u0410 \u0420\u0415\u041a\u041b\u0410\u041c\u042b...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"\u0422\u042b \u0422\u041e\u041b\u042c\u041a\u041e \u0427\u0422\u041e \u041f\u041e\u041b\u0423\u0427\u0418\u041b\\n{X} \u0410\u041b\u041c\u0410\u0417\u041e\u0412","CLOSE":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","LEADERBOARD_EMPTY":"\u043f\u0443\u0441\u0442\u043e\u0439","MESSAGE_INVITE":"{Playername} \u0431\u0440\u043e\u0441\u0430\u0435\u0442 \u0432\u044b\u0437\u043e\u0432 \u0432\u0430\u043c","MESSAGE_FINISH_MATCH":"{Playername} \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u0445 \u0441\u0435\u0439\u0447\u0430\u0441.","MESSAGE_BEST_SCORE":"{playername} \u043f\u043e\u0431\u0435\u0434\u0438\u043b \u0432\u0430\u0448 \u0432\u044b\u0441\u043e\u043a\u0438\u0439 \u0431\u0430\u043b\u043b. \u0418\u0445 \u043e\u0446\u0435\u043d\u043a\u0430: {\u0438\u0433\u0440\u043e\u043a\u0438}","MESSAGE_FINISH_TURN":"{Playername} \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043e\u0446\u0435\u043d\u043a\u0438. \u0422\u0430\u043a \u043f\u0440\u043e\u0441\u0442\u043e! \u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c?","SHARE_LEADERBOARDS":"\u0425\u0430, \u044f \u043b\u0443\u0447\u0448\u0438\u0439!","SHARE_GAME_RESULTS":"Pheww, \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u043c\u0430\u0442\u0447!","SHARE_BEST_SCORE":"\u0411\u043e\u043b\u044c\u0448\u043e\u0439! \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u043b\u0443\u0447\u0448\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442!","TARGET_SCORE":"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0447\u0435\u0442","NO_SPACE_LEFT":"\u041c\u0415\u0421\u0422\u0410 \u041d\u0415 \u041e\u0421\u0422\u0410\u041b\u041e\u0421\u042c!","FULL":"\u041f\u043e\u043b\u043d\u044b\u0439","LOADING_LEVEL":"\u0417\u0410\u0413\u0420\u0423\u0417\u041a\u0410","SCORE_REACHED":"\u0421\u0427\u0415\u0422 \u0414\u041e\u0421\u0422\u0418\u0413\u041d\u0423\u0422!","WELL_DONE":"\u041e\u0422\u041b\u0418\u0427\u041d\u041e!","Level":"\u0423\u0440\u043e\u0432\u0435\u043d\u044c","Completed":"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d","COMPLETED":"\u0417\u0410\u0412\u0415\u0420\u0428\u0415\u041d","Next_life":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0436\u0438\u0437\u043d\u044c","MESS_TUTORIAL_1":"\u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0431\u043b\u043e\u043a \u0432 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u043b\u0438\u043d\u0438\u044e \\n\u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435, \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f!","MESS_TUTORIAL_2":"\u0410 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435, \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \\n\u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u043b\u0438\u043d\u0438\u044e.","MESS_TUTORIAL_3":"\u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u0432\u0430\u0434\u0440\u0430\u0442 3x3.\\n\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435!","MESS_TUTORIAL_4":"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043b\u0438\u043d\u0438\u0438 \u0438 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u044b \\n\u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043c\u0431\u043e-\u043e\u0447\u043a\u0438!","COMBO":"\u041a\u041e\u041c\u0411\u041e","STREAK":"\u0421\u0422\u0420\u0418\u041a","MESS_SKIP_TUTORIAL":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435\\n\u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0443\u0440\u043e\u043a?","MESS_START_OVER":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u043d\u0430\u0447\u043d\u0435\u0442\u0435 \u0441\u043d\u0430\u0447\u0430\u043b\u0430?","MESS_TAKE_A_BREAK_ADS":"\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0440\u044b\u0432\\n\u041f\u043e\u043a\u0430\u0437 \u0440\u0435\u043a\u043b\u0430\u043c\u044b \u0432 %s...","CONFIRM_START_OVER":"\u041f\u041e\u0414\u0422\u0412\u0415\u0420\u0414\u0418\u0422\u042c, \u041d\u0410\u0427\u0410\u0422\u042c \u0421\u041d\u0410\u0427\u0410\u041b\u0410","OK":"OK","CANCEL":"\u041e\u0422\u041c\u0415\u041d\u0418\u0422\u042c","SECOND_CHANCE":"\u0412\u0422\u041e\u0420\u041e\u0419\\n\u0428\u0410\u041d\u0421?","SCORE":"\u0421\u0427\u0415\u0422"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),ja:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"LEVEL","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"\u8868\u793a\u3067\u304d\u308b\u5e83\u544a\u306f\u3042\u308a\u307e\u305b\u3093\uff01","NO_REWARDS":"\u30ea\u30ef\u30fc\u30c9\u306f\u3042\u308a\u307e\u305b\u3093\uff01","CANCELLED_AD":"\u5e83\u544a\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f\uff01","LOADING":"\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059...","LOADING_AD":"\u5e83\u544a\u3092\u8aad\u307f\u8fbc\u307f\u4e2d...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"\u30ea\u30fc\u30c0\u30fc\u30dc\u30fc\u30c9\u304c\u7a7a\u3063\u307d\uff01","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"\u3059\u3054\u3044\uff01\u30d9\u30b9\u30c8\u30b9\u30b3\u30a2\u3092\u7372\u5f97\u3057\u305f\uff01","TARGET_SCORE":"\u76ee\u6a19\u30b9\u30b3\u30a2","NO_SPACE_LEFT":"\u30b9\u30da\u30fc\u30b9\u304c\u306a\u3044!","FULL":"\u30d5\u30eb","LOADING_LEVEL":"\u30ec\u30d9\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u4e2d...","SCORE_REACHED":"\u5230\u9054\u3057\u305f\u30b9\u30b3\u30a2!","WELL_DONE":"\u304a\u898b\u4e8b!","Level":"\u30ec\u30d9\u30eb","Completed":"\u5b8c\u4e86","COMPLETED":"\u5b8c\u4e86","Next_life":"\u6b21\u306e\u4eba\u751f","MESS_TUTORIAL_1":"\u6a2a\u306e\u30e9\u30a4\u30f3\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u30d6\u30ed\\n\u30c3\u30af\u3092\u914d\u7f6e\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\uff01","MESS_TUTORIAL_2":"\u6b21\u306f\u7e26\u306e\u30e9\u30a4\u30f3\u304c\u3067\u304d\u308b\u3088\u3046\\n\u914d\u7f6e\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u304b\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002","MESS_TUTORIAL_3":"\u307e\u305f\u30013x3 \u306e\u30b9\u30af\u30a8\u30a2\u3092\u4f5c\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\\n\u3084\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\uff01","MESS_TUTORIAL_4":"\u30e9\u30a4\u30f3\u3084\u30b9\u30af\u30a8\u30a2\u3092\u4f5c\u3063\u3066\u30b3\\n\u30f3\u30dc\u30dd\u30a4\u30f3\u30c8\u3092\u7372\u5f97\u3057\u307e\u3057\u3087\u3046\uff01","COMBO":"\u30b3\u30f3\u30dc","STREAK":"\u9023\u7d9a","MESS_SKIP_TUTORIAL":"\u672c\u5f53\u306b\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u30b9\u30ad\u30c3\\n\u30d7\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","MESS_START_OVER":"\u672c\u5f53\u306b\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","CONFIRM_START_OVER":"\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3057\u3092\u78ba\u5b9a","OK":"OK","CANCEL":"\u30ad\u30e3\u30f3\u30bb\u30eb","SECOND_CHANCE":"\u7b2c\u4e8c\u306e\u30c1\u30e3\u30f3\u30b9\uff1f","SCORE":"\u30b9\u30b3\u30a2"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),id:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"LEVEL","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"TIDAK ADA IKLAN \\nUNTUK DITAMPILKAN!","NO_REWARDS":"MAAF, TIDAK ADA HADIAH!","CANCELLED_AD":"KAMU TELAH MEMBATALKAN\\nIKLANNYA!","LOADING":"MEMUAT...","LOADING_AD":"MEMUAT IKLAN...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"Papan peringkat kosong!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"Hebat! Aku dapat skor terbaik!","TARGET_SCORE":"Skor Target","NO_SPACE_LEFT":"TIDAK ADA RUANG TERSISA!","FULL":"Penuh","LOADING_LEVEL":"Memuat level...","SCORE_REACHED":"SKOR TERCAPAI!","WELL_DONE":"KERJA BAGUS!","Level":"Level","Completed":"Selesai","COMPLETED":"SELESAI","Next_life":"Kehidupan selanjutnya","MESS_TUTORIAL_1":"Tempatkan blok dalam baris horizontal\\ndan lihat apa yang terjadi!","MESS_TUTORIAL_2":"Sekarang lihat apa yang\\nterjadi saat kamu membuat baris vertikal.","MESS_TUTORIAL_3":"Kamu juga bisa membuat kotak 3x3.\\nCobalah!","MESS_TUTORIAL_4":"Atur baris dan kotak untuk\\nmendapatkan poin kombo!","COMBO":"KOMBO","STREAK":"RENTETAN","MESS_SKIP_TUTORIAL":"Yakin ingin melewati tutorial?","MESS_START_OVER":"Yakin ingin mulai ulang?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","CONFIRM_START_OVER":"KONFIRMASI MULAI ULANG","CANCEL":"Batalkan","OK":"OK","SECOND_CHANCE":"KESEMPATAN\\nKEDUA?","SCORE":"SKOR"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),de:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"LEVEL","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"KEINE WERBUNG VERF\xdcGBAR!","NO_REWARDS":"TUT UNS LEID,\\nKEINE BELOHNUNGEN!","CANCELLED_AD":"DU HAST DIE WERBUNG\\nABGEBROCHEN!","LOADING":"LADEN\u2026","LOADING_AD":"LADE WERBUNG...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"BESTENLISTEN!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"Toll! Ich habe eine Bestpunktzahl erreicht!","TARGET_SCORE":"Zielpunktzahl","NO_SPACE_LEFT":"KEIN PLATZ MEHR \xdcBRIG!","FULL":"Voll","LOADING_LEVEL":"Level wird geladen\u2026","SCORE_REACHED":"PUNKTZAHL ERREICHT!","WELL_DONE":"GUT GEMACHT!","Level":"Level","Completed":"Abgeschlossen","COMPLETED":"ABGESCHLOSSEN","Next_life":"N\xe4chstes Leben","MESS_TUTORIAL_1":"F\xfcge den Block in die horizontale\\nLinie ein und gib gut acht!","MESS_TUTORIAL_2":"Jetzt bilden wir eine vertikale Linie.\\nPass noch einmal genau auf.","MESS_TUTORIAL_3":"Du kannst auch ein 3x3-Quadrat bilden.\\nVersuch es mal!","MESS_TUTORIAL_4":"Bilde Linien und Quadrate,\\num Kombo-Punkte zu erhalten!","COMBO":"COMBO","STREAK":"STR\xc4HNE","MESS_SKIP_TUTORIAL":"M\xf6chtest du das Tutorial\\nwirklich \xfcberspringen?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"NEUE LEVEL WERDEN AKTUALISIERT\u2026","RESTARTING_MAP":"KARTE WIRD NEU GESTARTET\u2026","CANCEL":"Abbrechen","OK":"OK","CONFIRM_START_OVER":"NEUSTART BEST\xc4TIGEN","MESS_START_OVER":"M\xf6chtest du wirklich von vorn beginnen?","SECOND_CHANCE":"ZWEITE\\nCHANCE?","SCORE":"PUNKTZAHL"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),it:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"LIVELLO","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"NESSUN ANNUNCIO \\nDA VISUALIZZARE!","NO_REWARDS":"SPIACENTE,\\nNESSUNA RICOMPENSA!","CANCELLED_AD":"HAI CANCELLATO L\'ANNUNCIO!","LOADING":"CARICAMENTO...","LOADING_AD":"CARICAMENTO ANNUNCIO...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"La classifica \xe8 vuota!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"Ottimo! Ho un punteggio migliore!","TARGET_SCORE":"Punteggio Obiettivo","NO_SPACE_LEFT":"NESSUNO SPAZIO RIMASTO!","FULL":"Pieno","LOADING_LEVEL":"Caricamento livello...","SCORE_REACHED":"PUNTEGGIO RAGGIUNTO!","WELL_DONE":"BEN FATTO!","Level":"Livello","Completed":"Completato","COMPLETED":"COMPLETATO","Next_life":"Prossima vita","MESS_TUTORIAL_1":"Posiziona il blocco nella linea orizzontale\\ne guarda cosa succede!","MESS_TUTORIAL_2":"Ora guarda cosa succede quando\\ncrei una linea verticale.","MESS_TUTORIAL_3":"Puoi anche creare un quadrato 3x3.\\nProva!","MESS_TUTORIAL_4":"Disponi le linee e i quadrati\\nper ottenere punti combo!","COMBO":"COMBO","STREAK":"SERIE","MESS_SKIP_TUTORIAL":"Saltare il tutorial?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"AGGIORNAMENTO NUOVI LIVELLI...","RESTARTING_MAP":"Riavvio della mappa...","CANCEL":"Annulla","OK":"OK","CONFIRM_START_OVER":"CONFERMA DI VOLER RICOMINCIARE","MESS_START_OVER":"Sei sicuro di ricominciare?","SECOND_CHANCE":"SECONDA\\nPOSSIBILIT\xc0?","SCORE":"PUNTEGGIO"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),fr:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"NIVEAU","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"AUCUNE PUBLICIT\xc9 \xc0 AFFICHER!","NO_REWARDS":"D\xc9SOL\xc9, AUCUNE R\xc9COMPENSE!","CANCELLED_AD":"VOUS AVEZ ANNUL\xc9 LA PUBLICIT\xc9!","LOADING":"CHARGEMENT...","LOADING_AD":"CHARGEMENT DE LA PUBLICIT\xc9...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"Le classement est vide!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"G\xe9nial\xa0! J\u2019ai un meilleur score!","TARGET_SCORE":"Score cible","NO_SPACE_LEFT":"IL NE RESTE PLUS D\'ESPACE!","FULL":"Plein","LOADING_LEVEL":"Chargement du niveau...","SCORE_REACHED":"SCORE ATTEINT!","WELL_DONE":"BIEN JOU\xc9!","Level":"Niveau","Completed":"Termin\xe9","COMPLETED":"TERMIN\xc9","Next_life":"Vie suivante","MESS_TUTORIAL_1":"Placez le bloc dans la ligne horizontale et\\nconstatez le r\xe9sultat!","MESS_TUTORIAL_2":"\xc0 pr\xe9sent, d\xe9couvrez ce qui se passe\\nquand vous faites une ligne verticale.","MESS_TUTORIAL_3":"Vous pouvez aussi faire un carr\xe9 de 3x3.\\nEssayez pour voir!","MESS_TUTORIAL_4":"Assemblez des lignes et des carr\xe9s\\npour obtenir des points de combinaison!","COMBO":"COMBO","STREAK":"S\xc9RIE","MESS_SKIP_TUTORIAL":"Voulez-vous vraiment\\nignorer le tutoriel?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"MISE \xc0 JOUR DE NOUVEAUX NIVEAUX...","RESTARTING_MAP":"RED\xc9MARRAGE DE LA CARTE...","CANCEL":"Annuler","OK":"OK","CONFIRM_START_OVER":"CONFIRMER POUR RECOMMENCER","MESS_START_OVER":"Voulez-vous vraiment\\nrecommencer?","SECOND_CHANCE":"DEUXI\xc8ME\\nCHANCE ?","SCORE":"SCORE"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),es:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"NIVEL","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"\xa1NO HAY ANUNCIOS \\nPARA MOSTRAR!","NO_REWARDS":"LO SENTIMOS,\\nNO HAY RECOMPENSAS","CANCELLED_AD":"\xa1HAS CANCELADO EL ANUNCIO!","LOADING":"CARGANDO...","LOADING_AD":"CARGANDO ANUNCIO...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"\xa1La tabla de clasificaci\xf3n est\xe1 vac\xeda!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"\xa1Muy bien! Tengo la mejor puntuaci\xf3n!","TARGET_SCORE":"Puntuaci\xf3n Objetivo","NO_SPACE_LEFT":"\xa1NO QUEDA ESPACIO!","FULL":"Completo","LOADING_LEVEL":"Cargando nivel...","SCORE_REACHED":"\xa1PUNTUACI\xd3N ALCANZADA!","WELL_DONE":"BIEN HECHO!","Level":"Nivel","Completed":"Completado","COMPLETED":"COMPLETADO","Next_life":"Pr\xf3xima vida","MESS_TUTORIAL_1":"\xa1Coloca el bloque en la l\xednea\\nhorizontal y mira lo que pasa!","MESS_TUTORIAL_2":"Ahora mira lo que sucede cuando haces\\nuna l\xednea vertical.","MESS_TUTORIAL_3":"\xa1Tambi\xe9n puedes hacer un cuadrado de 3x3.\\nPru\xe9balo!","MESS_TUTORIAL_4":"\xa1Organiza l\xedneas y cuadrados para\\nobtener puntos de combo!","COMBO":"COMBO","STREAK":"RACHA","MESS_SKIP_TUTORIAL":"\xbfEst\xe1s seguro de que quieres\\nsaltarte el tutorial?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"ACTUALIZANDO NUEVOS NIVELES...","RESTARTING_MAP":"REINICIANDO EL MAPA...","CANCEL":"Cancelar","OK":"OK","CONFIRM_START_OVER":"CONFIRMAR EMPEZAR DE NUEVO","MESS_START_OVER":"\xbfSeguro que quieres\\nempezar de nuevo?","SECOND_CHANCE":"\xbfSEGUNDA\\nOPORTUNIDAD?","SCORE":"PUNTUACI\xd3N"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),pt:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"JOGAR","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"N\xedvel","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"N\xc3O H\xc1 AN\xdaNCIOS \\nPARA MOSTRAR!","NO_REWARDS":"DESCULPA,\\nN\xc3O H\xc1 RECOMPENSAS!","CANCELLED_AD":"CANCELASTE O AN\xdaNCIO!","LOADING":"A CARREGAR...","LOADING_AD":"A CARREGAR AN\xdaNCIO...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"A tabela de classifica\xe7\xe3o est\xe1 vazia!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"\xd3ptimo! Tenho uma das melhores pontua\xe7\xf5es!","TARGET_SCORE":"Pontua\xe7\xe3o alvo","NO_SPACE_LEFT":"N\xc3O TEM MAIS ESPA\xc7O!","FULL":"Completo","LOADING_LEVEL":"A carregar n\xedvel","SCORE_REACHED":"PONTUA\xc7\xc3O ATINGIDA!","WELL_DONE":"BEM FEITO!","Level":"N\xedvel","Completed":"Conclu\xeddo","COMPLETED":"CONCLU\xcdDO","Next_life":"Pr\xf3xima vida","MESS_TUTORIAL_1":"Coloca o bloco na linha horizontal\\ne olha o que acontece!","MESS_TUTORIAL_2":"Agora olha para o que\\nacontece quando fazes uma linha vertical.","MESS_TUTORIAL_3":"Tamb\xe9m se pode fazer um quadrado 3x3.\\nExperimenta!","MESS_TUTORIAL_4":"Organiza linhas e quadrados para\\nobter pontos de combina\xe7\xe3o!","COMBO":"Combina\xe7\xe3o","STREAK":"MAR\xc9 DE SORTE","MESS_SKIP_TUTORIAL":"Tens a certeza de que\\nqueres saltar o tutorial?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"ACTUALIZA\xc7\xc3O DE NOVOS N\xcdVEIS...","RESTARTING_MAP":"A REINICIAR O MAPA...","CANCEL":"Cancelar","OK":"OK","CONFIRM_START_OVER":"TENS A CERTEZA DE RECOME\xc7AR?","MESS_START_OVER":"Tens a certeza de recome\xe7ar?","SECOND_CHANCE":"SEGUNDA\\nOPORTUNIDADE?","SCORE":"PONTUA\xc7\xc3O"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),tr:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"SEVIYE","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"G\xd6R\xdcNT\xdcLENECEK REKLAM YOK!","NO_REWARDS":"\xdcZG\xdcN\xdcM, \xd6D\xdcL YOK!","CANCELLED_AD":"REKLAMI \u0130PTAL ETT\u0130N!","LOADING":"Y\xdcKLEN\u0130YOR...","LOADING_AD":"REKLAM Y\xdcKLEN\u0130YOR...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"Liderlik tablosu bo\u015f!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"Harika! En iyi puan\u0131 ald\u0131m!","TARGET_SCORE":"Hedef Skoru","NO_SPACE_LEFT":"BO\u015e YER KALMADI!","FULL":"Tam","LOADING_LEVEL":"Seviye y\xfckleniyor...","SCORE_REACHED":"PUAN ULA\u015eILDI!","WELL_DONE":"AFER\u0130N!","Level":"Seviye","Completed":"Tamamland\u0131","COMPLETED":"TAMAMLANDI","Next_life":"Sonraki hayat","MESS_TUTORIAL_1":"Blo\u011fu yatay \xe7izgiye yerle\u015ftir\\nve ne oldu\u011funu g\xf6r!","MESS_TUTORIAL_2":"\u015eimdi dikey bir \xe7izgi olu\u015fturdu\u011fundan\\ne olaca\u011f\u0131n\u0131 g\xf6r.","MESS_TUTORIAL_3":"Ayr\u0131ca 3x3 kare de yapabilirsin.\\nBir dene!","MESS_TUTORIAL_4":"Kombo puanlar almak i\xe7in \xe7izgileri\\nve kareleri d\xfczenle!","COMBO":"KOMBO","STREAK":"SER\u0130","MESS_SKIP_TUTORIAL":"E\u011fitimi atlamak istedi\u011fine\\nemin misin?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"YEN\u0130 SEV\u0130YELER G\xdcNCELLEN\u0130YOR...","RESTARTING_MAP":"HARITA YENIDEN BA\u015eLATILIYOR...","CANCEL":"\u0130PTAL ET","OK":"TAMAM","CONFIRM_START_OVER":"BA\u015eTAN BA\u015eLAMAYI ONAYLA","MESS_START_OVER":"Ba\u015ftan ba\u015flamak istedi\u011fine\\nemin misin?","SECOND_CHANCE":"\u0130K\u0130NC\u0130\\n\u015eANS?","SCORE":"SKOR"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),ar:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"\u0645\u0633\u062a\u0648\u0649","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u0639\u0644\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636!","NO_REWARDS":"\u0639\u0630\u0631\u064b\u0627\u060c \u0644\u0627 \u062a\u0648\u062c\u062f \u062c\u0648\u0627\u0626\u0632!","CANCELLED_AD":"\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0625\u0639\u0644\u0627\u0646!","LOADING":"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...","LOADING_AD":"\u062c\u0627\u0631\u064d \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646 \u0641\u0627\u0631\u063a\u0629!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"\u0631\u0627\u0626\u0639! \u0644\u0642\u062f \u062d\u0642\u0642\u062a \u0623\u0641\u0636\u0644 \u0631\u0642\u0645 \u0642\u064a\u0627\u0633\u064a","TARGET_SCORE":"\u0647\u062f\u0641 \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0642\u064a\u0627\u0633\u064a","NO_SPACE_LEFT":"!\u0644\u0645 \u064a\u062a\u0628\u0642 \u0645\u0633\u0627\u062d\u0629","FULL":"\u0645\u0643\u062a\u0645\u0644","LOADING_LEVEL":"\u062c\u0627\u0631 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u0648\u0649...","SCORE_REACHED":"!\u0648\u0635\u0644\u062a \u0627\u0644\u0646\u062a\u064a\u062c\u0629","WELL_DONE":"!\u0623\u062d\u0633\u0646\u062a","Level":"\u0645\u0633\u062a\u0648\u0649","Completed":"\u0627\u0643\u062a\u0645\u0644","COMPLETED":"\u0627\u0643\u062a\u0645\u0644","Next_life":"\u0627\u0644\u062d\u064a\u0627\u0629 \u0627\u0644\u0642\u0627\u062f\u0645\u0629","MESS_TUTORIAL_1":"\u0636\u0639 \u0627\u0644\u0642\u0641\u0644 \u0641\u064a \u062e\u0637 \u0623\u0641\u0642\u064a \u0648\u0631\u0627\u0642\u0628 \u0645\u0627 \u0633\u064a\u062d\u062f\u062b!","MESS_TUTORIAL_2":"\u0631\u0627\u0642\u0628 \u0627\u0644\u0622\u0646 \u0645\u0627 \u0633\u064a\u062d\u062f\u062b \u0639\u0646\u062f\u0645\u0627 \u062a\u0635\u0646\u0639 \u062e\u0637\u064b\u0627 \u0631\u0623\u0633\u064a\u064b\u0627.","MESS_TUTORIAL_3":"\u064a\u0645\u0643\u0646\u0643 \u0623\u064a\u0636\u064b\u0627 \u0625\u0646\u0634\u0627\u0621 \u0645\u0631\u0628\u0639 3x3. \u062d\u0627\u0648\u0644 \u0641\u0639\u0644 \u0630\u0644\u0643!","MESS_TUTORIAL_4":"!\u0631\u062a\u0628 \u0627\u0644\u062e\u0637\u0648\u0637 \u0648\u0627\u0644\u0645\u0631\u0628\u0639\u0627\u062a \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629 \u0646\u0642\u0627\u0637","COMBO":"\u0643\u0648\u0645\u0628\u0648","STREAK":"\u0627\u0636\u0631\u0628","MESS_SKIP_TUTORIAL":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u062a\u062e\u0637\u064a \u0634\u0631\u062d \u0627\u0644\u0644\u0639\u0628\u0629\u061f","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"...\u062a\u062d\u062f\u064a\u062b \u0645\u0633\u062a\u0648\u064a\u0627\u062a \u062c\u062f\u064a\u062f\u0629","RESTARTING_MAP":"...\u062c\u0627\u0631 \u0625\u0639\u0627\u062f\u0629 \u0628\u062f\u0621 \u0627\u0644\u062e\u0631\u064a\u0637\u0629","CANCEL":"\u0625\u0644\u063a\u0627\u0621","OK":"\u0645\u0648\u0627\u0641\u0642","CONFIRM_START_OVER":"\u0642\u0645 \u0628\u062a\u0623\u0643\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0628\u062f\u0621","MESS_START_OVER":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0628\u062f\u0621\u061f","SECOND_CHANCE":"\u0647\u0644 \u062a\u0631\u064a\u062f\u0641\u0631\u0635\u0629\\n\u0623\u062e\u0631\u0649\u061f","SCORE":"\u0627\u0644\u0646\u062a\u064a\u062c\u0629"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),zh:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"\u5173\u5361","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"\u6ca1\u6709\u53ef\u4ee5\u64ad\u653e\u7684\u5e7f\u544a\uff01","NO_REWARDS":"\u62b1\u6b49\uff0c\u6ca1\u6709\u5956\u52b1\uff01","CANCELLED_AD":"\u4f60\u5df2\u53d6\u6d88\u4e86\u5e7f\u544a\uff01","LOADING":"\u52a0\u8f7d\u4e2d\u2026\u2026","LOADING_AD":"\u52a0\u8f7d\u5e7f\u544a\u4e2d\u2026\u2026","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"\u6392\u884c\u699c\u4e3a\u7a7a\uff01","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"\u592a\u68d2\u4e86\uff01\u6211\u83b7\u5f97\u4e86\u6700\u4f73\u5f97\u5206!","TARGET_SCORE":"\u76ee\u6807\u5206\u6570","NO_SPACE_LEFT":"\u6ca1\u6709\u5269\u4f59\u7684\u7a7a\u95f4!","FULL":"\u5df2\u6ee1","LOADING_LEVEL":"\u6b63\u5728\u52a0\u8f7d\u5173\u5361...","SCORE_REACHED":"\u8fbe\u5230\u7684\u5206\u6570!","WELL_DONE":"\u592a\u68d2\u4e86!","Level":"\u5173\u5361","Completed":"\u5df2\u5b8c\u6210","COMPLETED":"\u5df2\u5b8c\u6210","Next_life":"\u4e0b\u4e00\u4e2a\u751f\u547d","MESS_TUTORIAL_1":"\u5c06\u6728\u5757\u653e\u5728\u6c34\u5e73\u7ebf\u4e0a\\n\u770b\u770b\u4f1a\u53d1\u751f\u4ec0\u4e48!","MESS_TUTORIAL_2":"\u73b0\u5728\u60a8\u77e5\u9053\u5f53\u60a8\u8fde\u6210\u4e00\u6761\\n\u5782\u76f4\u7ebf\u65f6\u4f1a\u53d1\u751f\u7684\u60c5\u51b5.","MESS_TUTORIAL_3":"\u60a8\u8fd8\u53ef\u4ee5\u5792\u6210\u4e00\u4e2a 3x3 \u7684\u65b9\u5f62.\\n\u8bd5\u8bd5\u5427!","MESS_TUTORIAL_4":"\u540c\u65f6\u8fde\u6210\u76f4\u7ebf\u548c\u65b9\u5f62,\\n\u83b7\u5f97\u8fde\u51fb\u5206\u6570!","COMBO":"COMBO","STREAK":"\u8fde\u80dc","MESS_SKIP_TUTORIAL":"\u786e\u5b9a\u8981\u8df3\u8fc7\u6559\u7a0b\u5417\uff1f","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"\u6b63\u5728\u66f4\u65b0\u65b0\u5173\u5361...","RESTARTING_MAP":"\u6b63\u5728\u91cd\u542f\u5730\u56fe...","CANCEL":"\u53d6\u6d88","OK":"\u786e\u5b9a","CONFIRM_START_OVER":"\u786e\u5b9a\u91cd\u65b0\u5f00\u59cb","MESS_START_OVER":"\u786e\u5b9a\u8981\u91cd\u65b0\u5f00\u59cb\u5417\uff1f","SECOND_CHANCE":"\u83b7\u5f97\u7b2c\u4e8c\u6b21\u673a\u4f1a\uff1f","SCORE":"\u5206\u6570"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}'),hi:JSON.parse('{"Text":{"POP JEWELS":"POP JEWELS","DAILY_REWARDS":"DAILY REWARDS","CLAIM":"CLAIM","CLAIM_X2":"CLAIM X2","DAY_{X}":"DAY {X}","PLAY_NOW":"PLAY NOW","PLAY_WITH_FRIENDS":"PLAY WITH FRIENDS","RANK":"RANK","DAILY":"DAILY","GIFT":"GIFT","SETTINGS":"SETTINGS","LEADERBOARDS":"LEADERBOARDS","PLAY":"PLAY","WITH_FRIENDS":"WITH FRIENDS","FRIENDS":"FRIENDS","WORLD":"WORLD","DAILY_MISSION":"DAILY MISSIONS","PASS_10_LEVELS":"PASS 10 LEVELS","COLLECT_300_DIAMONDS":"COLLECT 300 DIAMONDS","INVITE_2_FRIENDS":"INVITE 2 FRIENDS","REACH_TOTAL_SCORES":"REACH TOTAL SCORES","WATCH_A_VIDEO_TO_GET_{X}_DIAMONDS!":"WATCH A VIDEO TO GET\\\\n{X} DIAMONDS!","GET_NOW":"GET NOW!","TARGET":"TARGET","MISSION":"MISSION","YOUR_SCORE":"YOUR SCORE","LEVEL":"\u0932\u0947\u0935\u0932","REQUESTING":"REQUESTING...","LOADING_INTERSTITIAL_AD":"LOADING INTERSTITIAL AD...","HAMMER":"HAMMER","HAMMER_DESCRIPTION":"USE HAMMER TO SMASH ANY GEM","MAGIC_BOTTLE":"MAGIC BOTTLE","MAGIC_BOTTLE_DESCRIPTION":"USE MAGIC BOTTLE TO CHANGE A GEM COLOR","LEVEL_FAILED":"LEVEL FAILED","FAILED_TEXT":"YOU DID NOT REACH THE TARGET SCORE","CONTINUE":"CONTINUE","BEST_SCORE":"BEST SCORE","GLOBAL":"GLOBAL","JOIN":"JOIN","REPLAY":"REPLAY","HOME":"HOME","TODAY_RECORD":"TODAY RECORD","SHARE":"SHARE","WAITING":"WAITING","WAITING_FOR_OPPONENT":"WAITING FOR OPPONENT","RESTART":"RESTART","DRAW":"DRAW","YOU_LOSE":"YOU LOSE","YOU_WIN":"YOU WIN","VS":"VS","GUIDE_TEXT_GEM":"TAP ON TWO OR MORE GEMS OF THE SAME COLOR TO DESTROY THEM","GUIDE_TEXT_CURRENT_SCORE":"THIS IS YOUR CURRENT SCORE","GUIDE_TEXT_TARGET_SCORE":"THIS IS THE TARGET SCORE FOR EACH LEVEL YOU NEED TO PASS","GUIDE_TEXT_RAINBOW_GEM":"RAINBOW GEM CAN CLEAR THE GEMS SURROUNDING IT","GUIDE_TEXT_HAMMER":"THIS IS A HAMMER, USE IT TO SMASH ANY GEM!","GUIDE_TEXT_SHUFFLE":"THIS IS A SHUFFLE TILE, USE IT TO SHUFFLE ALL GEMS","GUIDE_TEXT_MAGIC_BOTTLE":"THIS IS A MAGIC BOTTLE, USE IT TO CHANGE A GEM COLOUR","NO_ADS_TO_DISPLAY":"\u0921\u093f\u0938\u094d\u092a\u094d\u0932\u0947 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0915\u094b\u0908 \u0935\u093f\u091c\u094d\u091e\u093e\u092a\u0928 \u0928\u0939\u0940\u0902 \u0939\u0948\u0902!","NO_REWARDS":"\u092e\u093e\u095e \u0915\u0930\u0947\u0902, \u0915\u094b\u0908 \u0930\u093f\u0935\u0949\u0930\u094d\u0921 \u0928\u0939\u0940\u0902 \u0939\u0948\u0902!","CANCELLED_AD":"\u0906\u092a\u0928\u0947 \u0935\u093f\u091c\u094d\u091e\u093e\u092a\u0928 \u0915\u094b \u0915\u0948\u0902\u0938\u0932 \u0915\u0930 \u0926\u093f\u092f\u093e \u0939\u0948!","LOADING":"\u0932\u094b\u0921 \u0939\u094b \u0930\u0939\u093e \u0939\u0948...","LOADING_AD":"\u0935\u093f\u091c\u094d\u091e\u093e\u092a\u0928 \u0932\u094b\u0921 \u0939\u094b \u0930\u0939\u093e \u0939\u0948...","YOU_HAVE_JUST_RECEIVED_{X}_DIAMONDS":"YOU HAVE JUST RECEIVED\\\\n{X} DIAMONDS","CLOSE":"CLOSE","LEADERBOARD_EMPTY":"\u0932\u0940\u0921\u0930\u092c\u094b\u0930\u094d\u0921 \u0916\u093e\u0932\u0940 \u0939\u0948!","MESSAGE_INVITE":"{playerName} challenges you","MESSAGE_FINISH_MATCH":"{playerName} just finished. Check them now.","MESSAGE_BEST_SCORE":"{playerName} beat your high score. Their score: {playerScore}","MESSAGE_FINISH_TURN":"{playerName} got {score} scores. So easy! Can you?","SHARE_LEADERBOARDS":"A ha, I\'m the best!","SHARE_GAME_RESULTS":"Pheww, a great match!","SHARE_BEST_SCORE":"\u092c\u095d\u093f\u092f\u093e! \u092e\u0948\u0902\u0928\u0947 \u0936\u093e\u0928\u0926\u093e\u0930 \u0938\u094d\u0915\u094b\u0930 \u092c\u0928\u093e\u092f\u093e \u0939\u0948!","TARGET_SCORE":"\u091f\u093e\u0930\u0917\u0947\u091f \u0938\u094d\u0915\u094b\u0930","NO_SPACE_LEFT":"\u091c\u0917\u0939 \u0928\u0939\u0940\u0902 \u092c\u091a\u0940!","FULL":"\u092a\u0942\u0930\u093e","LOADING_LEVEL":"\u0932\u0947\u0935\u0932 \u0932\u094b\u0921 \u0939\u094b \u0930\u0939\u093e \u0939\u0948...","SCORE_REACHED":"\u0938\u094d\u0915\u094b\u0930 \u092a\u0939\u0941\u0902\u091a \u0917\u092f\u093e!","WELL_DONE":"\u092c\u0939\u0941\u0924 \u092c\u095d\u093f\u092f\u093e!","Level":"\u0932\u0947\u0935\u0932","Completed":"\u092a\u0942\u0930\u093e \u0939\u0941\u0906","COMPLETED":"\u092a\u0942\u0930\u093e \u0939\u0941\u0906","Next_life":"\u0905\u0917\u0932\u093e \u091c\u0940\u0935\u0928","MESS_TUTORIAL_1":"\u092c\u094d\u0932\u0949\u0915 \u0915\u094b \u0939\u0949\u0930\u093f\u091c\u0949\u0928\u094d\u091f\u0932 \u0932\u093e\u0907\u0928 \u092e\u0947\u0902 \u0930\u0916\u0947\u0902\\n\u0914\u0930 \u0926\u0947\u0916\u0947\u0902 \u0915\u093f \u0915\u094d\u092f\u093e \u0939\u094b\u0924\u093e \u0939\u0948!","MESS_TUTORIAL_2":"\u0905\u092c \u0926\u0947\u0916\u0924\u0947 \u0939\u0948\u0902 \u0915\u093f \u0915\u094d\u092f\u093e \u0939\u094b\u0924\u093e\\n\u0939\u0948 \u091c\u092c \u0906\u092a \u0935\u0930\u094d\u091f\u093f\u0915\u0932 \u0932\u093e\u0907\u0928 \u092c\u0928\u093e\u0924\u0947 \u0939\u0948\u0902.","MESS_TUTORIAL_3":"\u0938\u093e\u0925 \u0939\u0940 \u0906\u092a 3x3 \u0915\u0947 \u0935\u0930\u094d\u0917 \u092d\u0940 \u092c\u0928\u093e \u0938\u0915\u0924\u0947 \u0939\u0948\u0902.\\n\u0915\u094b\u0936\u093f\u0936 \u0915\u0930\u0947\u0902!","MESS_TUTORIAL_4":"\u0915\u0949\u092e\u094d\u092c\u094b \u092a\u0949\u0907\u0902\u091f\u094d\u0938 \u092a\u093e\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0932\u093e\u0907\u0928\\n\u0914\u0930 \u0935\u0930\u094d\u0917 \u0915\u094b \u0915\u094d\u0930\u092e \u092e\u0947\u0902 \u0930\u0916\u0947\u0902!","COMBO":"\u0915\u0949\u092e\u094d\u092c\u094b","STREAK":"\u0938\u094d\u091f\u094d\u0930\u0940\u0915","MESS_SKIP_TUTORIAL":"\u0915\u094d\u092f\u093e \u0906\u092a \u0935\u093e\u0915\u0908 \u0907\u0938 \u091f\u094d\u092f\u0942\u091f\u094b\u0930\u093f\u092f\u0932\\n\u0915\u094b \u091b\u094b\u095c\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902?","MESS_TAKE_A_BREAK_ADS":"Take a break\\nAd display in %s...","UPDATING_NEW_LEVELS":"\u0928\u090f \u0932\u0947\u0935\u0932 \u0905\u092a\u0921\u0947\u091f \u0939\u094b \u0930\u0939\u0947 \u0939\u0948\u0902...","RESTARTING_MAP":"\u092e\u0948\u092a \u0915\u094b \u0930\u0940\u0938\u094d\u091f\u093e\u0930\u094d\u091f \u0915\u093f\u092f\u093e \u091c\u093e \u0930\u0939\u093e \u0939\u0948...","CANCEL":"\u0915\u0948\u0902\u0938\u0932 \u0915\u0930\u0947\u0902","OK":"\u0920\u0940\u0915 \u0939\u0948","CONFIRM_START_OVER":"\u092b\u093f\u0930 \u0938\u0947 \u0936\u0941\u0930\u0942 \u0915\u0930\u0928\u0947 \u0915\u0940 \u092a\u0941\u0937\u094d\u091f\u093f \u0915\u0930\u0947\u0902","MESS_START_OVER":"\u0915\u094d\u092f\u093e \u0906\u092a \u0935\u093e\u0915\u0908 \u092b\u093f\u0930 \u0938\u0947\\n\u0936\u0941\u0930\u0942 \u0915\u0930\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902?","SECOND_CHANCE":"\u0926\u0942\u0938\u0930\u093e\\n\u092e\u094c\u0915\u093e?","SCORE":"\u0938\u094d\u0915\u094b\u0930"},"Texture":{"NO_THANKS":"texts/no-thank","COOL":"texts/cool","CONGRATULATIONS":"texts/congratulation","EXCELLENT":"texts/excellent","GOOD":"texts/good","GREAT":"texts/great","LOGO":"logo","CONTINUE":"texts/continue"}}')},di=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.configure=function(t){e.prototype.configure.call(this,(0,r.Z)({data:hi,locale:"en",upperCaseText:!1},t))},t}(ui),pi=di,Ei=GameCore.Ads.Types,fi=[Yt._.SCREEN_OPEN],Si=(function(e){function t(t,n){var a;(a=e.call(this,"GoogleAnalytics",(0,r.Z)({},n),"#E35335")||this).game=void 0,a.trackingId=void 0,a.currentPath="/";var i=n.trackingId;a.game=t;var s=(GameCore.Configs.Analytics.GoogleAnalytics||{}).consoleLog;return a.selfLog=!!s,a.trackingId=i,a}(0,o.Z)(t,e);var n=t.prototype;n.processEvent=function(e,t,n){if(!(_t()(fi).call(fi,e)>=0)){var a=this.formatEventName(e),i=t?(0,r.Z)({},t):{};i=n?(0,r.Z)({},i,{value:n}):i,i=(0,r.Z)({},i,{page_path:this.currentPath,send_to:"GA"}),gtag("event",a,i)}},n.processLevelStart=function(e,t,n){this.processEvent(Yt._.LEVEL_START,{level:e,score:t,level_name:n})},n.processLevelRescue=function(e,t,n){this.processEvent(Yt._.LEVEL_RESCUE,{level:e,score:t,level_name:n})},n.processLevelFail=function(e,t,n){this.processEvent(Yt._.LEVEL_END,{level:e,score:t,level_name:n,success:!1})},n.processLevelComplete=function(e,t,n){this.processEvent(Yt._.LEVEL_END,{level:e,score:t,level_name:n,success:!0})},n.processLoadPreRollAd=function(e){var t=this.getEdaType(Ei.PRE_ROLL);this.processEvent(Yt._.AD_LOAD,{ad_type:t,screen_name:""+e})},n.processShowPreRollAd=function(e){var t=this.getEdaType(Ei.PRE_ROLL);this.processEvent(Yt._.AD_SHOW,{ad_type:t,screen_name:""+e}),this.processEvent(Yt._.AD_IMPRESSION,{ad_format:t})},n.processLoadInterstitialAd=function(e){var t=this.getEdaType(Ei.INTERSTITIAL);this.processEvent(Yt._.AD_LOAD,{ad_type:t,screen_name:""+e})},n.processShowInterstitialAd=function(e){var t=this.getEdaType(Ei.INTERSTITIAL);this.processEvent(Yt._.AD_SHOW,{ad_type:t,screen_name:""+e}),this.processEvent(Yt._.AD_IMPRESSION,{ad_format:"Interstitial"})},n.processLoadRewardedVideoAd=function(e){var t=this.getEdaType(Ei.REWARDED);this.processEvent(Yt._.AD_LOAD,{ad_type:t,screen_name:""+e})},n.processShowRewardedVideoAd=function(e){var t=this.getEdaType(Ei.REWARDED);this.processEvent(Yt._.AD_SHOW,{ad_type:t,screen_name:""+e}),this.processEvent(Yt._.AD_IMPRESSION,{ad_format:"Rewarded"})},n.processLoadAdFail=function(e,t){var n=this.getEdaType(e);this.processEvent(Yt._.AD_LOAD_FAILED,{ad_type:n,screen_name:""+t})},n.processShowAdFail=function(e,t,n){var a=(null==n?void 0:n.code)||"unknown",i=this.getEdaType(e);this.processEvent(Yt._.AD_SHOW_FAILED,{ad_type:i,screen_name:""+t,code:a})},n.processPageView=function(e){var t=this.getGameplayMode(),n="/"+t+"/"+e;this.currentPath=n,document.title=this.formatPageTitle(t,e),gtag("event","page_view",{page_path:this.currentPath,send_to:["GA",this.trackingId]})},n.getGameplayMode=function(){var e=this.game.storage.getState();return ai(e)},n.formatEventName=function(e){return e.toLowerCase().replace(/:/g,"_")},n.formatPageTitle=function(e,t){return this.toUpperCamelCaseWithSpace(e)+"::"+this.toUpperCamelCaseWithSpace(t)},n.toUpperCamelCaseWithSpace=function(e){var t=e.replace(/[-_\s.]+(.)?/g,(function(e,t){return t?" "+t.toUpperCase():""}));return t.substr(0,1).toUpperCase()+t.substr(1)},n.getEdaType=function(e){switch(e){case Ei.INTERSTITIAL:return"interstitial";case Ei.PRE_ROLL:return"pre_roll";case Ei.REWARDED:return"rewarded_video";default:return"unknown"}}}(GameCore.Analytics.BaseAnalytics),function(e){function t(){for(var t,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,T()(t=[this]).call(t,r))||this).startGame=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.auth.requestToken();case 3:return e.next=5,n.storage.syncStore();case 5:return n.configureSentry(),n.configureRollbar(),e.next=9,n.detectGameMode();case 9:n.initGoogleAnalytics(),n.analytics.event(Yt._.LOAD_START),n.scene.launch(li.Co.GLOBAL_SCENE),n.scene.start(li.Co.LOAD_SCENE),n.analytics.pageview(li.Co.LOAD_SCENE),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),(0,a.tO)(e.t0);case 19:return e.prev=19,n.facebook.progressLoading.finishLoadingProgressFbBootScene(),n.scene.sleep(li.Co.BOOT_SCENE),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[0,16,19,23]])}))),n}(0,o.Z)(t,e);var n=t.prototype;return n.create=function(){this.facebook.progressLoading.loadingProgressFbBootScene(),this.startGame()},n.configureSentry=function(){var e=this.player.getPlayer();(0,a.Tv)({id:e.playerId,username:e.name})},n.configureRollbar=function(){if(this.rollbar){var e=this.player.getPlayer();this.rollbar.configure({payload:{person:{id:e.playerId,name:e.name}}})}},n.detectGameMode=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var a,i,r,s,o,c,l,u,d,p,E,f,S,A,m,g;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n(),r=ni(i),s=window.game.player,o=s.getPlayerId(),c=r.contextId,l=r.entryPointData,d=(u=l||{}).type,p=u.matchId,E=u.playerId,f=u.opponentId,S=void 0===f?Ja.playerId:f,A=o===E,m=S===Ja.playerId||_t()(a=[S,E]).call(a,o)>=0,g=Qa,e.prev=9,e.next=12,window.game.facebook.getTournamentAsync();case 12:g=ti,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:c&&d===za&&!A&&(g=$a),p&&c&&m&&d===ja&&(g=$a),c&&"matching_group_match"===d&&(g=ei),t(ri(g));case 21:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.initGoogleAnalytics=function(){},t}(Phaser.Scene)),Ai=Si,mi="best_score_screen_close",gi="result_screen_close",Ti="result_replay",vi="switch-leader-board",yi=n(426),Ii=n(429),Oi=n(185),Ri=n(419),Ci={BUTTON_CLICK:"button_click",CONGRATULATION:"congratulation",DAILY_REWARD:"daily_reward",GAME_OVER_SCENE:"game_over_scene",GAME_OVER:"game_over",POPUP_OFF:"popup_off",POPUP_SHOW:"popup_show",SCORE_COUNT:"score_count",PIECE_PICK:"piece_pick",PIECE_DROP:"piece_drop",PIECE_INVALID_MOVE:"piece_invalid_move",BOARD_GAME_OVER:"board_end",BOARD_GAME_START:"board_start",RESCUE:"rescue",EAT_ONE:"eat_1",EAT_TWO:"eat_2",EAT_THREE:"eat_3",EAT_FOUR:"eat_4",EAT_FIVE:"eat_5",EAT_SIX:"eat_6",GOOD:"good",COOL:"cool",EXCELLENT:"excellent",WAIT_OPPONENT:"wait_opponent",WIN:"win",LOSE:"lose",DRAW:"draw"},_i=n(186),bi=Oi.Z.EFFECTS,Ni=bi.KEY,Di=bi.FRAME,wi=function(e){function t(t,n){var a;return(a=e.call(this,t,Ni,Di.BLANK)||this).config=void 0,a.emitter=void 0,a.config=n||{},a.scene.add.existing((0,_i.Z)(a)),a}(0,o.Z)(t,e);var n=t.prototype;return n.createEmitters=function(){var e=Di.FX_CONFETTI_SMALL_1,t=Di.FX_CONFETTI_SMALL_2,n=Di.FX_CONFETTI_SMALL_3,a=Di.FX_CONFETTI_SMALL_4,i=1/GameCore.Utils.Image.getImageScale(),r={on:!1,particleBringToTop:!0,frame:[e,t,n,a],tint:[14892386,2838983,6146101,8667376,13491259],timeScale:1,frequency:300,maxParticles:120,gravityY:-10,speedX:{min:-100,max:100},speedY:{min:80,max:250},alpha:{start:1,end:.8},rotate:{start:0,end:1080},scale:{min:.8*i,max:2*i},angle:{min:20,max:160},lifespan:{min:8e3,max:12e3}},s=(0,Ne.TS)(r,this.config);this.emitter=this.createEmitter(s)},n.run=function(e,t,n){this.stop(),this.emitter.setQuantity(e),this.emitter.setPosition(t,n),this.emitter.start()},n.explode=function(e,t,n){this.emitter||this.createEmitters(),this.emitter.explode(e,t,n)},n.stop=function(){var e,t,n;null==(e=this.emitter)||e.killAll(),null==(t=this.emitter)||t.stop(),null==(n=this.emitter)||n.remove(),this.createEmitters()},t}(Phaser.GameObjects.Particles.ParticleEmitterManager),Pi=wi,Li=n(93),xi=n.n(Li),Mi=n(189),ki=n.n(Mi),Gi=n(197),Bi=n.n(Gi),Ui=n(434),Fi=n.n(Ui),Hi=n(115),Yi="global",Wi="friend",Vi=GameCore.Configs,Zi=Vi.ApiHost,Ki=Vi.OtherHost,Xi=Vi.LeadersBoard,zi=Xi.Prefix,ji=Xi.LeaderboardId,qi=Xi.Name,Ji=zi+"/"+ji+"/leaders",Qi=zi+"/"+ji+"/players",$i=function(e){var t="";return ji?(e===Yi?t=Ji:e===Wi&&(t=Qi),t):t},er=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,s,o,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ae()(t).call(t,(function(e){return e.playerId})),i=GameCore.Utils.Object.keyBy(t,"playerId"),s=GameCore.Utils.String.params({playerIds:a}),e.next=5,(0,Pe.U)("players?"+s,{},Zi);case 5:return o=e.sent,c=Ae()(n=o.data).call(n,(function(e){var t=i[e.playerId];return(0,r.Z)({},e,{score:t.score,rank:t.rank,getScore:function(){return t.score},getFormattedScore:function(){return""},getTimestamp:function(){return(new Date).valueOf()},getRank:function(){return t.rank},getExtraData:function(){return t.extraData},getPlayer:function(){return{getName:function(){return e.name},getPhoto:function(){return e.photo},getID:function(){return e.playerId}}}})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tr=function(){var e=(0,s.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),null==ji){e.next=3;break}return e.abrupt("return",nr(t));case 3:return e.abrupt("return",ar(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nr=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),n=[],a=$i(Yi)){e.next=5;break}return e.abrupt("return",n);case 5:return i=GameCore.Utils.String.params(t),e.next=8,(0,Pe.U)(a+"?"+i,{},Ki);case 8:if(r=e.sent,!((s=(null==r?void 0:r.data)||[]).length<1)){e.next=12;break}return e.abrupt("return",n);case 12:return n=s,e.abrupt("return",er(n));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),a=(n=t).limit,i=n.offset,e.next=4,window.GameSDK.getLeaderboardAsync(qi);case 4:return r=e.sent,e.next=7,r.getEntriesAsync(a,i);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=(0,s.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),null==ji){e.next=3;break}return e.abrupt("return",rr(t));case 3:return e.abrupt("return",sr(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rr=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),n=[],a=$i(Wi)){e.next=5;break}return e.abrupt("return",n);case 5:return i=GameCore.Utils.String.params(t),e.next=8,(0,Pe.U)(a+"?"+i,{},Ki);case 8:if(r=e.sent,!((s=(null==r?void 0:r.data)||[]).length<1)){e.next=12;break}return e.abrupt("return",n);case 12:return n=s,e.abrupt("return",er(n));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),a=(n=t).limit,i=n.offset,e.next=4,window.GameSDK.getLeaderboardAsync(qi);case 4:return r=e.sent,e.next=7,r.getConnectedPlayerEntriesAsync(a,i);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=(function(){var e=(0,s.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==ji){e.next=2;break}return e.abrupt("return",or(t));case 2:return e.abrupt("return",cr());case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,t){e.next=3;break}return e.abrupt("return",n);case 3:if(a=$i(Wi)){e.next=6;break}return e.abrupt("return",n);case 6:return i=GameCore.Utils.String.params({playerIds:t}),e.next=9,(0,Pe.U)(a+"?"+i,{},Ki);case 9:if(r=e.sent,!((s=(null==r?void 0:r.data)||[]).length<1)){e.next=13;break}return e.abrupt("return",n);case 13:return e.next=15,er(s);case 15:return n=e.sent[0],e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),cr=function(){var e=(0,s.Z)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.GameSDK.getLeaderboardAsync(qi);case 2:return t=e.sent,e.next=5,t.getPlayerEntryAsync();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lr=function(){var e=(0,s.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.GameSDK.submitGameResultsAsync(n).catch((function(e){})),null==ji){e.next=5;break}if(""!==window.game.auth.getToken()){e.next=4;break}return e.abrupt("return",l().reject("Not logged in"));case 4:return e.abrupt("return",ur(t,n));case 5:return e.abrupt("return",hr(n));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ur=function(){var e=(0,s.Z)(h().mark((function e(t,n){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Pe.v)("leaderboards/"+ji+"/players/"+t,{score:n},{},Ki);case 2:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hr=function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.GameSDK.getLeaderboardAsync(qi);case 2:return n=e.sent,e.next=5,n.setScoreAsync(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function dr(e,t){var n="undefined"!==typeof Bi()&&Fi()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return pr(e,t);var a=Ze()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return ki()(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Er=GameCore.Configs.LeadersBoard,fr=Er.UseMock,Sr=Er.Limit,Ar=Er.MockOptions,mr=function(e,t){return{type:ua,payload:{leaders:e,type:t}}},gr=function(){return{type:ha,payload:{}}},Tr=function(e){return e[ia]},vr=((0,Q.P1)([function(e){return Tr(e).leaderboardId}],(function(e){return e})),(0,Q.P1)([function(e){return Tr(e).leaders}],(function(e){return e}))),yr=(0,Q.P1)([function(e){return Tr(e).isRequesting}],(function(e){return e})),Ir=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidContextId",a.message=t||"This contextId is not valid",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),Or=Ir,Rr={START_GAME:"start-game",REPLAY:"replay",RESCUE:"rescue",RECEIVE_DIAMONDS:"receive-diamonds",GAME_OVER:"game-over"},Cr=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="NewScoreIsBad",a.message=t||"The new score is bad",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),_r=Cr,br=function(e){return e[yn]},Nr=(0,Q.P1)([function(e){return br(e).gameplay.mode}],(function(e){return e})),Dr=((0,Q.P1)([function(e){return br(e).gameplay.status}],(function(e){return e})),(0,Q.P1)([function(e){return br(e).gameplay.rescued}],(function(e){return e}))),wr=(0,Q.P1)([function(e){return br(e).gameplay.startAt}],(function(e){return e})),Pr=(0,Q.P1)([function(e){return br(e).gameplay.finishAt}],(function(e){return e})),Lr=n(584),xr=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="CurrentTournamentScoreIsNotBest",a.message=t||"The new score is not best",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),Mr=xr,kr=GameCore.Configs.Tournament.UseLeaderboard,Gr=function(e){return{type:$n,payload:{tournamentId:e}}},Br=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n){var i,r,s,o,c,l,u,d,p;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=window.game.facebook,r=e.playerId,s=e.playerName,o=e.score,c=e.autoStartGame,l=s+"'s Tournament",u=GameCore.Utils.String.generateObjectId(),t.next=7,i.tournament.createAsync({initialScore:o,config:{title:l,tournamentTitle:l},data:{playerId:r,playerName:s,leaderboardId:u}});case 7:return d=t.sent,p=d.getID(),c&&(n(Gr(p)),n(Xs())),t.next=12,(0,Lr.Z5)({_id:u,createdBy:r,name:p,description:l,expireTime:6048e5});case 12:if(t.sent._id!==u){t.next=16;break}return t.next=16,(0,Lr.aV)(u,r,o);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),(0,a.tO)(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()},Ur=function(e){return(0,s.Z)(h().mark((function t(){var n,a,i,r,s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.game.facebook,a=e.playerId,i=e.playerName,r=e.leaderboardId,s=e.score,r&&(0,Lr.aV)(r,a,s),t.next=5,n.tournament.shareAsync({score:s,data:{type:"tournament",playerId:a,playerName:i}});case 5:(0,Lr.aV)(r,a,s);case 6:case"end":return t.stop()}}),t)})))},Fr=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.game.facebook,e.next=4,t.getTournamentAsync();case 4:return n=e.sent,a=JSON.parse(n.getPayload()||"{}"),e.abrupt("return",a.leaderboardId);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Hr=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.game.facebook,e.next=4,t.getTournamentAsync();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Yr=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n,a){var i,r,s,o,c,l,u,d,p,E,f,S,A,m;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,r=window.game,s=r.player,o=r.facebook,c=r.analytics,t.prev=2,u=a(),d=Nr(u),y()(l=[Qa,ti]).call(l,d)){t.next=7;break}return t.abrupt("return");case 7:return n({type:ea,payload:{}}),p=s.getPlayer(),E=p.playerId,f=p.name,t.next=11,Hr();case 11:if(!t.sent){t.next=23;break}if(i=Yt._.TOURNAMENT_SHARE,!kr){t.next=21;break}return t.next=17,Fr();case 17:return S=t.sent,A={playerId:E,playerName:f,score:e,leaderboardId:S},t.next=21,n(Ur(A));case 21:t.next=28;break;case 23:if(i=Yt._.TOURNAMENT_CREATE,!kr){t.next=28;break}return m={playerId:E,playerName:f,score:e,autoStartGame:!1},t.next=28,n(Br(m));case 28:if(c.event(i,{success:!0}),!1!==kr){t.next=32;break}return t.next=32,o.requestTournamentAsync(e);case 32:n(Wr(e)),t.next=40;break;case 35:if(t.prev=35,t.t0=t.catch(2),!(t.t0 instanceof Mr)){t.next=39;break}return t.abrupt("return");case 39:i&&c.event(i,{success:!1});case 40:case"end":return t.stop()}}),t,null,[[2,35]])})));return function(e,n){return t.apply(this,arguments)}}()},Wr=function(e){return{type:ta,payload:{score:e}}},Vr=n(390),Zr=n.n(Vr),Kr=new(Zr()),Xr=Kr,zr=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidMatchId",a.message=t||"Invalid match id",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),jr=zr,qr=function(e,t){return t.playerId},Jr=((0,Q.P1)([function(e){return br(e).match.isRequesting}],(function(e){return e})),(0,Q.P1)([function(e){return br(e).match.single}],(function(e){return e}))),Qr=(0,Q.P1)([function(e){return br(e).match.single._id}],(function(e){return e})),$r=(0,Q.P1)([function(e){return br(e).match.single.score}],(function(e){return e||0})),es=((0,Q.P1)([function(e){return br(e).match.single.level}],(function(e){return e||0})),(0,Q.P1)([function(e){var t;return null==(t=br(e).match.single.data)?void 0:t.diamond}],(function(e){return e||0})),(0,Q.P1)([function(e){var t;return null==(t=br(e).match.single.data)?void 0:t.fen}],(function(e){return e||null})),(0,Q.P1)([function(e){return br(e).match.single.status}],(function(e){return e})),(0,Q.P1)([function(e){return br(e).match.single.playerId}],(function(e){return e})),(0,Q.P1)([function(e){return br(e).match.challenge}],(function(e){return e}))),ts=(0,Q.P1)([function(e){return br(e).match.challenge._id}],(function(e){return e})),ns=(0,Q.P1)([function(e){return br(e).match.challenge.status}],(function(e){return e})),as=(0,Q.P1)([function(e){return br(e).match.challenge.opponentInfo}],(function(e){return e})),is=((0,Q.P1)([function(e){return br(e).match.challenge.whitePlayerId}],(function(e){return e})),(0,Q.P1)([function(e){return br(e).match.challenge.blackPlayerId}],(function(e){return e})),(0,Q.P1)([es,qr],(function(e,t){var n=e.whitePlayerId,a=e.blackPlayerId;return n!==t&&a===t?n:a!==t&&n===t?a:""})),(0,Q.P1)([es,qr],(function(e,t){var n=e.whitePlayerId,a=e.blackPlayerId;return n===t?n:a===t?a:Ja.playerId}))),rs=(0,Q.P1)([es,qr],(function(e,t){var n=e.whitePlayerId,a=e.blackPlayerId,i=e.whitePlayerFinish,r=e.blackPlayerFinish;return t&&n===t?i:!(!t||a!==t)&&r})),ss=(0,Q.P1)([es,function(e,t){return t.opponentId}],(function(e,t){var n=e.whitePlayerId,a=e.blackPlayerId,i=e.whitePlayerFinish,r=e.blackPlayerFinish;return t&&n===t?i:!(!t||a!==t)&&r})),os=(0,Q.P1)([function(e){return br(e).match.group.opponentInfo}],(function(e){return e})),cs=((0,Q.P1)([function(e){return br(e).match.online.players}],(function(e){return e})),(0,Q.P1)([function(e){return br(e).stats.data}],(function(e){return e}))),ls=(0,Q.P1)([function(e){return br(e).stats.current}],(function(e){return e})),us=((0,Q.P1)([function(e){return br(e).stats.isRequesting}],(function(e){return e})),GameCore.Configs.ApiHost),hs=(function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"single-matches",e.next=3,(0,Pe.v)("single-matches",t,{},us);case 3:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"single-matches/active",e.next=3,(0,Pe.U)("single-matches/active",{},us);case 3:return t=e.sent,e.abrupt("return",(null==t?void 0:t.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(h().mark((function e(t,n){var a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="single-matches/"+t+"/move",e.next=3,(0,Pe.v)(a,n,{},us);case 3:return i=e.sent,e.abrupt("return",(null==i?void 0:i.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(h().mark((function e(t){var n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="single-matches/"+t+"/finish",e.next=3,(0,Pe.v)(n,{},{},us);case 3:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"matches",e.next=3,(0,Pe.v)("matches",{opponentPlayerId:t},{},us);case 3:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ds=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="matches/"+t+"/join",e.next=3,(0,Pe.v)(n,{},{},us);case 3:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ps=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="matches/"+t,e.next=3,(0,Pe.U)(n,{},us);case 3:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Es=function(){var e=(0,s.Z)(h().mark((function e(t,n,a,i){var r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="matches/"+t+"/finish",e.next=3,(0,Pe.v)(r,{matchId:t,score:n,level:a,extraData:i},{},us);case 3:return s=e.sent,e.abrupt("return",(null==s?void 0:s.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),fs=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidMatchStatus",a.message=t||"The match status is not valid",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),Ss=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidOpponentId",a.message=t||"Invalid opponent id",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),As=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidBlackPlayerId",a.message=t||"Invalid black player id",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),ms=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidRequestedMatchId",a.message=t||"The matchId in match data not matched with requested matchId",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),gs=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidScore",a.message=t||"The score is not valid",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),Ts=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="InvalidWhitePlayerId",a.message=t||"Invalid white player id",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),vs=function(e){var t=e.matchId,n=e.currentMatchId;if(""===t||"string"!==typeof t)throw new jr(null,{matchId:t});if(""===n||"string"!==typeof n)throw new jr(null,{currentMatchId:n});if(t!==n)throw new ms(null,{matchId:t,currentMatchId:n})},ys=function(e){var t=e.playerId,n=e.match,a=n._id,i=n.playerId,r=n.status;if(""===a||"string"!==typeof a)throw new jr(null,{matchId:a});if("finished"===r||"string"!==typeof r)throw new fs("This match is finished",{status:r});if(i!==t)throw new Xa(null,{playerId:i,currentPlayerId:t})},Is=function(e){var t=e.opponentId;if(""===t||"string"!==typeof t)throw new Ss(null,{opponentId:t})},Os=function(e){var t=e.matchId;if(""===t||"string"!==typeof t)throw new jr(null,{matchId:t})},Rs=function(e){var t=e.match,n=t._id,a=t.whitePlayerId,i=t.blackPlayerId;if(""===n||"string"!==typeof n)throw new jr(null,{matchId:n});if(""===a||"string"!==typeof a)throw new Ts(null,{whitePlayerId:a});if(""===i||"string"!==typeof i)throw new As(null,{blackPlayerId:i})},Cs=GameCore.Configs.Match,_s=function(e){try{return GameCore.Utils.Hash.stringToHash(Rt()(e))}catch(t){return""}},bs=function(e){try{return JSON.parse(GameCore.Utils.Hash.hashToString(e))}catch(t){return""}},Ns=function(){return function(){var e=(0,s.Z)(h().mark((function e(t){var n,i,s,o,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=window.game,i=n.player,s=n.globalScene,o=n.lang,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:o.Text.LOADING,loading:!0}),t({type:wn,payload:{}}),c=i.getPlayerId(),l=(0,r.Z)({},Cs.LocalSingleMatchDefault,{status:"active",playerId:c,startedAt:Date.now()}),ys({playerId:c,match:l}),t(Ps(l)),we(Cs.SingleMatchStore,l),e.next=19;break;case 11:if(e.prev=11,e.t0=e.catch(0),t(Ps(null)),!(e.t0 instanceof jr)){e.next=16;break}return e.abrupt("return");case 16:if(!(e.t0 instanceof fs)){e.next=18;break}return e.abrupt("return");case 18:(0,a.tO)(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Ds=function(e,t){return function(n,i){try{!function(e){var t=e.matchId,n=e.score;if(""===t||"string"!==typeof t)throw new jr(null,{matchId:t});if("number"!==typeof n)throw new gs(null,{score:n})}((0,r.Z)({matchId:e},t));var s=i(),o=Qr(s);!function(e){var t=e.matchId,n=e.currentMatchId;if(""===t||"string"!==typeof t)throw new jr(null,{matchId:t});if(""===n||"string"!==typeof n)throw new jr(null,{currentMatchId:n});if(t!==n)throw new ms(null,{matchId:t,currentMatchId:n})}({matchId:e,currentMatchId:o}),n({type:Ln,payload:{match:t}});var c=t.data;t.data=_s(c),we(Cs.SingleMatchStore,t)}catch(l){if(l instanceof jr)return;(0,a.tO)(l)}}},ws=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n,i){var s,o,c,l,u,d,p,E;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=window.game.player,Os({matchId:e}),o=i(),c=Qr(o),l=s.getPlayerId(),vs({matchId:e,currentMatchId:c}),n({type:"MATCH_SINGLE_FINISH_REQUEST",payload:{matchId:e}}),u=Jr(o),ys({playerId:l,match:u}),d=(0,r.Z)({},Cs.LocalSingleMatchDefault,u,{_id:e,status:"finished",playerId:l,finishAt:Date.now()}),n(Ps(d)),p=d.data,(E=(0,r.Z)({},d)).data=_s(p),we(Cs.SingleMatchStore,E),t.next=26;break;case 18:if(t.prev=18,t.t0=t.catch(0),n(Ps(null)),!(t.t0 instanceof jr)){t.next=23;break}return t.abrupt("return");case 23:if(!(t.t0 instanceof fs)){t.next=25;break}return t.abrupt("return");case 25:(0,a.tO)(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,n){return t.apply(this,arguments)}}()},Ps=function(e){return{type:xn,payload:{match:e}}},Ls=function(){return{type:Mn,payload:{}}},xs=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n){var i,r,s,o,c,l;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=window.game,r=i.profile,s=i.globalScene,o=i.lang,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:o.Text.LOADING,loading:!0}),c=e.playerId,Is({opponentId:c}),n({type:Gn,payload:{opponentInfo:e}}),t.next=8,hs(c);case 8:return l=t.sent,Rs({match:l}),t.next=12,r.requestProfiles([c]);case 12:n(Bs(l)),t.next=23;break;case 15:if(t.prev=15,t.t0=t.catch(0),n(Bs(null)),!(t.t0 instanceof jr)){t.next=20;break}return t.abrupt("return");case 20:if(!(t.t0 instanceof Ss)){t.next=22;break}return t.abrupt("return");case 22:(0,a.tO)(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},Ms=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n){var i,r,s,o,c,l,u,d,p,E,f;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=window.game,r=i.player,s=i.profile,o=i.globalScene,c=i.lang,o.screen.open(Ri.o4.NOTIFY_SCREEN,{message:c.Text.LOADING,loading:!0}),Os({matchId:e}),n({type:kn,payload:{matchId:e}}),t.next=7,ds(e);case 7:if(l=t.sent,Rs({match:l}),u=l.status,d=l.whitePlayerId,p=l.blackPlayerId,u!==Xn){t.next=16;break}return E=r.getPlayerId(),f=E===d?p:d,t.next=16,s.requestProfiles([f]);case 16:n(Bs(l)),t.next=25;break;case 19:if(t.prev=19,t.t0=t.catch(0),n(Bs(null)),!(t.t0 instanceof jr)){t.next=24;break}return t.abrupt("return");case 24:(0,a.tO)(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()},ks=function(e,t){return function(){var n=(0,s.Z)(h().mark((function n(i){var r,s,o,c,l,u,d,p,E,f,S;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=window.game,s=r.player,o=r.globalScene,c=r.lang,o.screen.open(Ri.o4.NOTIFY_SCREEN,{message:c.Text.LOADING,loading:!0}),Os({matchId:e}),i({type:Un,payload:{matchId:e,opponentInfo:t}}),n.next=7,ps(e);case 7:l=n.sent,Rs({match:l}),u=l.whitePlayerId,d=l.whitePlayerScore,p=l.blackPlayerScore,E=s.getPlayerId(),f=s.getPlayerData(),S=f.score,i(Bs(l,{score:E===u?d:p,bestScore:S})),n.next=23;break;case 17:if(n.prev=17,n.t0=n.catch(0),i(Bs(null)),!(n.t0 instanceof jr)){n.next=22;break}return n.abrupt("return");case 22:(0,a.tO)(n.t0);case 23:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}()},Gs=function(e,t,n){return function(){var i=(0,s.Z)(h().mark((function i(r){var s,o,c,l,u;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=window.game,o=s.globalScene,c=s.lang,o.screen.open(Ri.o4.NOTIFY_SCREEN,{message:c.Text.LOADING,loading:!0}),Os({matchId:e}),r({type:Bn,payload:{matchId:e,score:t,extraData:n}}),l=n.level,i.next=8,Es(e,t,l,n);case 8:return u=i.sent,Rs({match:u}),i.next=12,r(Bs(u));case 12:i.next=20;break;case 14:if(i.prev=14,i.t0=i.catch(0),r(Bs(null)),!(i.t0 instanceof jr)){i.next=19;break}return i.abrupt("return");case 19:(0,a.tO)(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,14]])})));return function(e){return i.apply(this,arguments)}}()},Bs=function(e,t,n){return void 0===n&&(n=null),{type:Fn,payload:{match:e,opponentInfo:t,current:n}}},Us=function(e){return{type:Yn,payload:{opponentInfo:e}}},Fs=function(e,t){return{type:Zn,payload:{matchId:e,players:t}}},Hs=function(e){return{type:bn,payload:{playerId:e}}},Ys=function(e,t){return{type:Nn,payload:{playerId:e,stats:t}}},Ws=function(e){return{type:Dn,payload:{stats:e}}},Vs=function(e){var t=e.contextId;if(""===t||"string"!==typeof t)throw new Or(null,{contextId:t})},Zs=null,Ks=function(e){clearTimeout(Zs),Zs=setTimeout((function(){window.game.globalScene.screen.close(Ri.o4.NOTIFY_SCREEN)}),e)},Xs=function(){return function(e){try{e(Ls()),e(to(ti))}catch(t){(0,a.tO)(t)}}},zs=function(){return function(e){try{e(Ls()),e(to(Qa))}catch(t){(0,a.tO)(t)}}},js=function(){return function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o,c,l,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=window.game,s=r.globalScene,o=r.lang,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:o.Text.LOADING,loading:!0}),c=n(),l=Nr(c),_t()(i=[Qa,ti]).call(i,l)>=0&&(t(Ls()),t(Ns())),u=null,l===$a&&(u=as(c),t({type:Hn,payload:{}})),t(Hs()),e.next=11,t(to(l,u));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),(0,a.tO)(e.t0);case 16:return e.prev=16,Ks(300),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()},qs=function(e,t){return void 0===e&&(e="10"),void 0===t&&(t=!1),function(n){try{n(Js("reset",e,t))}catch(i){(0,a.tO)(i)}}},Js=function(e,t,n){return void 0===t&&(t="10"),void 0===n&&(n=!1),function(){var i=(0,s.Z)(h().mark((function i(r){var s,o,c,l,u,d,p,E,f,S,A,m,g,T,v,y,I,O;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,s=window.game,o=s.player,c=s.facebook,l=s.globalScene,u=s.lang,l.screen.open(Ri.o4.NOTIFY_SCREEN,{message:u.Text.LOADING,loading:!0}),d=e,p=c.contextType,t||(E=GameCore.Configs.PlayerIdMock,f=GameCore.Configs.PlayerIdMock2,t=o.getPlayerId()===E?f:E),e){i.next=15;break}return i.next=9,c.chooseAsync();case 9:if(!1!==(d=i.sent)){i.next=13;break}return n&&l.events.emit(li.K5.SWITCH,li.Co.DASHBOARD_SCENE),i.abrupt("return");case 13:i.next=25;break;case 15:if(!t||t===Ja.playerId){i.next=23;break}return i.next=18,c.createAsync(t);case 18:if(!1!==(d=i.sent)){i.next=22;break}return n&&l.events.emit(li.K5.SWITCH,li.Co.DASHBOARD_SCENE),i.abrupt("return");case 22:d||"reset"===e||(d=e);case 23:p=c.contextType,r(ii(d,p));case 25:return Vs({contextId:d}),S=o.getPlayerId(),A=o.getConnectedPlayers(),i.next=30,c.getContextPlayers(S);case 30:return m=i.sent,t!==(g=Ja).playerId&&A[t]?g=A[t]:1===m.length&&(g=m[0]),r(Hs()),v=(T=g).playerId,y=T.name,I=T.photo,O={playerId:v,name:y,photo:I},i.next=38,r(to($a,O));case 38:r(ii(d,p)),i.next=50;break;case 41:if(i.prev=41,i.t0=i.catch(0),!(i.t0 instanceof Or)){i.next=45;break}return i.abrupt("return");case 45:if("USER_INPUT"!==(null==i.t0?void 0:i.t0.code)){i.next=47;break}return i.abrupt("return");case 47:if("INVALID_OPERATION"!==(null==i.t0?void 0:i.t0.code)){i.next=49;break}return i.abrupt("return");case 49:(0,a.tO)(i.t0);case 50:return i.prev=50,Ks(1e3),i.finish(50);case 53:case"end":return i.stop()}}),i,null,[[0,41,50,53]])})));return function(e){return i.apply(this,arguments)}}()},Qs=function(e){return function(){var t=(0,s.Z)(h().mark((function t(n){var i,r,s,o,c,l;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=window.game,r=i.facebook,s=i.globalScene,o=i.analytics,c=i.lang,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:c.Text.LOADING,loading:!0}),l=r.getContextID(),Vs({contextId:l}),o.event(Yt._.JOIN_GROUP,{group_id:l}),t.next=8,n(to(ei,e));case 8:t.next=17;break;case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Or)){t.next=14;break}return t.abrupt("return");case 14:if("INVALID_OPERATION"!==(null==t.t0?void 0:t.t0.code)){t.next=16;break}return t.abrupt("return");case 16:(0,a.tO)(t.t0);case 17:return t.prev=17,Ks(1e3),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,10,17,20]])})));return function(e){return t.apply(this,arguments)}}()},$s=function(e,t){return function(){var n=(0,s.Z)(h().mark((function n(i,r){var s,o,c,l,u,d,p,E,f,S,A,m,g,T,v,y;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,s=window.game,o=s.player,c=s.profile,l=s.facebook,u=s.globalScene,d=s.lang,u.screen.open(Ri.o4.NOTIFY_SCREEN,{message:d.Text.LOADING,loading:!0}),p=r(),E=o.getPlayerId(p),!((f=o.getConnectedPlayers(p)).length>0)||f[t]){n.next=9;break}return u.events.emit(li.K5.SWITCH,li.Co.DASHBOARD_SCENE),n.abrupt("return");case 9:return S=Ja,n.next=12,l.getContextPlayers(E);case 12:if(A=n.sent,t===E||t===S.playerId||!f[t]){n.next=17;break}S=f[t],n.next=25;break;case 17:if(1!==A.length){n.next=21;break}S=A[0],n.next=25;break;case 21:return n.next=23,c.requestProfiles([t]);case 23:(m=c.getProfiles())[t]&&(S=m[t]);case 25:return n.next=27,i(ks(e,S));case 27:if(p=r(),is(p,{playerId:E})!==Ja.playerId){n.next=32;break}return n.next=32,i(Ms(e));case 32:if(p=r(),is(p,{playerId:E})===E||!f[t]){n.next=37;break}return i(qs(t,!0)),n.abrupt("return");case 37:if(ts(p)===e){n.next=41;break}return u.events.emit(li.K5.SWITCH,li.Co.DASHBOARD_SCENE),n.abrupt("return");case 41:if(g=ns(p),T=rs(p,{playerId:E}),i(ao({mode:$a,status:g})),v=l.getContextID(),y=l.contextType,i(ii(v,y)),!T){n.next=50;break}return u.events.emit(li.K5.SWITCH,li.Co.GAME_SCENE),n.abrupt("return");case 50:u.events.emit(li.K5.SWITCH,li.Co.GAME_SCENE),n.next=56;break;case 53:n.prev=53,n.t0=n.catch(0),(0,a.tO)(n.t0);case 56:return n.prev=56,Ks(1e3),n.finish(56);case 59:case"end":return n.stop()}}),n,null,[[0,53,56,59]])})));return function(e,t){return n.apply(this,arguments)}}()},eo=function(e){return function(t){try{var n=window.game.player,i=n.getPlayerId();lr(i,e).catch((function(e){(0,a.tO)(new Error(e))}));var r=n.getPlayerData(),s=r.score,o=void 0===s?0:s,c=r.level;o<e&&n.setBestScore(e);var l={score:e,level:c};t(Ys(i,l)),t(Ws(l))}catch(u){if(u instanceof _r)return;(0,a.tO)(u)}}},to=function(e,t){return void 0===t&&(t=null),function(){var n=(0,s.Z)(h().mark((function n(i,r){var o,c,l,u,d,p,E,f,S,A,m;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,c=window.game,l=c.player,u=c.analytics,d=c.facebook,p=c.globalScene,E=d.getContextID(),f=0,S=r(),u.event(Yt._.MATCH_START,{game_mode:GameCore.Utils.String.toUpperCamelCase(e),level:1,level_name:"level_1"}),i({type:In,payload:{}}),-1===_t()(o=[Qa,ti]).call(o,e)){n.next=16;break}return n.next=10,i((function(e){try{var t=window.game.player;e({type:Pn,payload:{}});var n=t.getPlayerId(),i=De(Cs.SingleMatchStore)||{},r=i.data;i.data=bs(r),ys({playerId:n,match:i}),e(Ps(i))}catch(s){if(e(Ps(null)),s instanceof jr)return;if(s instanceof Xa)return;if(s instanceof fs)return;(0,a.tO)(s)}}));case 10:if(S=r(),Qr(S)){n.next=15;break}return n.next=15,i(Ns());case 15:f=$r(S);case 16:if(e===ei&&i(Us(t)),e!==$a){n.next=22;break}return n.next=20,i(xs(t));case 20:S=r(),E||(E=window.FBInstant.context.getID());case 22:"online"===e&&i(function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s,o,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=window.game.player,r=i.getPlayer(),s=r.playerId,o=r.name,c=r.photo,t({type:Vn,payload:{playerId:s}}),l={},Ae()(n=xi()(a=new Array(20)).call(a,null)).call(n,(function(e,t){var n="0"+(t+1);l[n]={playerId:n,name:"MPlayer "+n,photo:"./assets/images/others/avatar.png"}})),l[s]={playerId:s,name:o,photo:c},t(Fs("mock",l));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=l.getPlayerData(S),m=A.score,i(Ws({score:f,bestScore:void 0===m?0:m})),i({type:On,payload:{mode:e,contextId:E}}),i(ri(e)),p.events.emit(li.K5.SWITCH,li.Co.GAME_SCENE),Xr.emit(Rr.START_GAME),n.next=38;break;case 31:if(n.prev=31,n.t0=n.catch(0),!(n.t0 instanceof jr)){n.next=37;break}return window.game.globalScene.screen.open(Ri.o4.NOTIFY_SCREEN,{message:"Sorry!, you can now\ncreate this match!",duration:2500,loading:!1}),n.abrupt("return");case 37:(0,a.tO)(n.t0);case 38:return n.prev=38,Ks(0),n.finish(38);case 41:case"end":return n.stop()}}),n,null,[[0,31,38,41]])})));return function(e,t){return n.apply(this,arguments)}}()},no=function(e,t){return function(){var n=(0,s.Z)(h().mark((function n(a,i){var r,s,o,c,l,u,d,p,E,f,S;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=window.game,o=s.player,s.globalScene,c=t.score,l=void 0===c?0:c,u=t.level,d=void 0===u?0:u,p=i(),!(_t()(r=[Qa,ti]).call(r,e)>=0)){n.next=7;break}return E=Qr(p),n.next=7,a(ws(E));case 7:if(e===ei&&(a({type:Wn,payload:{}}),f=o.getPlayerId(),a(Ys(f,t))),e!==$a){n.next=12;break}return S=ts(p),n.next=12,a(Gs(S,l,{level:d}));case 12:a({type:Rn,payload:{mode:e}}),Xr.emit(Rr.GAME_OVER);case 14:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ao=function(e){return function(t){var n=e.mode,i=e.status;t({type:Cn,payload:{mode:n,status:i}}),(0,a.sw)("game-mode",n)}},io=function(){return function(e,t){var n=t(),a=ls(n).level,i=void 0===a?0:a,r=Nr(n);window.game.analytics.event(Yt._.MATCH_RESCUE,{game_mode:GameCore.Utils.String.toUpperCamelCase(r),level:i,level_name:"level_"+i}),e({type:_n,payload:{}})}},ro=n(335),so=n.n(ro),oo=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="WideFrameRenderFail",a.message=t||"Wide frame render fail",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),co=function(e){if("string"!==typeof e||!e)throw new oo(null,{imageShare:e})},lo=function(){return(0,s.Z)(h().mark((function e(){var t,n,i,r,s,o,c,l,u,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.player,i=t.analytics,r=t.facebook,s=t.globalScene,o=t.lang,e.prev=1,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:o.Text.LOADING,loading:!0}),e.next=5,uo();case 5:return c=e.sent,co(c),l=n.getPlayer(),u=l.playerId,d=l.name,p=l.photo,e.next=10,r.shareAsync({text:"Great! I have a best score!",intent:"SHARE",image:c||"",data:{playerId:u,playerName:d,playerPhoto:p,type:za}});case 10:i.event(Yt._.SHARE,{share_content_type:"BestScore",success:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),i.event(Yt._.SHARE,{share_content_type:"BestScore",success:!1}),(0,a.tO)(e.t0);case 17:return e.prev=17,s.screen.close(Ri.o4.NOTIFY_SCREEN),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])})))},uo=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s,o,c,l,u,d,p,E;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.game,n=t.player,a=t.globalScene,i=br(),r=ls(i),s=cs(i),o=n.getPlayer(),c=o.playerId,l=o.photo,u=s[c]||{},d=u.score,r.bestScore>d&&(d=r.bestScore),p=ho({playerId:c,playerPhoto:l,playerScore:d})){e.next=11;break}return e.abrupt("return");case 11:return E={name:"share-best-score",width:952,height:492,renderOptions:p},e.next=14,a.frameCapture.capture(E);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ho=(function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s,o,c,l,u,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.game,a=n.player,i=n.globalScene,r=cs(t),s=a.getPlayer(),o=s.playerId,c=s.photo,l=r[o]||{},u=l.score,d=ho({playerId:o,playerPhoto:c,playerScore:u})){e.next=8;break}return e.abrupt("return");case 8:return p={name:"share-current-score",width:952,height:492,renderOptions:d},e.next=11,i.frameCapture.capture(p);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))}(),function(e){var t=e.playerId,n=void 0===t?"10":t,a=e.playerPhoto,i=void 0===a?"":a,r=e.playerScore,s=void 0===r?0:r;return"string"!==typeof n||"string"!==typeof i||"number"!==typeof s?null:{avatar:{name:""+n,type:"image",x:115,y:135,image:i,width:200,height:200,fallbackWithImage:qa.Z.AVATAR.KEY},wideFrame:{name:"wide-frame-message-win",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-message-win.png",width:952,height:492},playerScoreShadow:{type:"text",x:214,y:437,font:"600 70px",fillStyle:"#c4683f",text:""+s,textAlign:"center"},playerScore:{type:"text",x:214,y:437,font:"600 70px",fillStyle:"#f2a62e",text:""+s,textAlign:"center"}}}),po=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s,o,c,l,u,d,p,E,f,S,A,m,g,T,v;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.player,a=t.profile,i=t.globalScene,r=n.getPlayer(),s=r.playerId,o=r.name,c=r.photo,(l=n.getConnectedPlayerIds(99,0)).push(s),u=[],e.next=7,ir({playerIds:GameCore.Utils.Array.unique(l),limit:l.length});case 7:d=e.sent,p=GameCore.Utils.Object.keyBy(d,"playerId"),E={playerId:s,name:o,photo:c,score:0},GameCore.Utils.Object.hasOwn(p,s)&&(E=p[s]),u.push(E),e.t0=so()(h()).call(h(),p);case 14:if((e.t1=e.t0()).done){e.next=27;break}if(f=e.t1.value,!GameCore.Utils.Object.hasOwn(p,f)){e.next=25;break}if(S=p[f],3!==u.length){e.next=20;break}return e.abrupt("break",27);case 20:if(S.playerId!==s){e.next=22;break}return e.abrupt("continue",14);case 22:if(!(Number(S.score)>Number(E.score))){e.next=24;break}return e.abrupt("continue",14);case 24:u.push(S);case 25:e.next=14;break;case 27:return A=GameCore.Utils.Array.unique(l),e.next=30,a.requestProfiles(A);case 30:if(m=a.getProfiles(),u.forEach((function(e,t){var n=e.playerId;if(GameCore.Utils.Object.hasOwn(m,n)){var a=m[n],i=a.name,r=a.photo;u[t].name=i,u[t].photo=r}})),u.length<3)for(g=0;g<=3-u.length;)u.push({playerId:"bot"+g,name:"???",score:0,photo:"./assets/images/others/avatar.png"}),g++;if(T=Eo({playerId:s,playerName:o,playerPhoto:c,listLeaders:u})){e.next=37;break}return e.abrupt("return");case 37:return v={name:"share-leaderboard",width:1500,height:2e3,renderOptions:T},e.next=40,i.frameCapture.capture(v);case 40:return e.abrupt("return",e.sent);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Eo=function(e){var t=e.playerId,n=void 0===t?"10":t,a=e.playerPhoto,i=void 0===a?"":a,r=e.listLeaders,s=void 0===r?[]:r;if(!Array.isArray(s))return null;if("string"!==typeof n)return null;if("string"!==typeof i)return null;var o={avatar:{name:""+n,type:"image",x:500,y:200,image:i,width:525,height:525,fallbackWithImage:qa.Z.AVATAR.KEY}};return s.forEach((function(e,t){var n=e.playerId,a=e.photo;o["photo_"+n]={name:""+n,type:"image",x:400,y:1135+185*t,image:a,width:116,height:116,fallbackWithImage:qa.Z.AVATAR.KEY}})),o.wideFrame={name:"wide-frame-share",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-share.png",width:1500,height:2e3},s.forEach((function(e,t){var n=e.playerId,a=e.name,i=e.score;o["name_"+n]={type:"text",x:600,y:1215+185*t,font:"600 48px",text:a,fillStyle:"#b18151"},o["score_"+n]={type:"text",x:1e3,y:1215+185*t,font:"600 48px",text:i,fillStyle:"#b18151"}})),o},fo=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s,o,c,l,u,d,p,E,f,S,A,m,g,T;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.game,a=n.player,i=n.globalScene,r=cs(t),s=a.getPlayer(),o=s.photo,c=s.playerId,l=as(t),u=l.playerId,d=l.photo,p=rs(t,{playerId:c}),E=ss(t,{opponentId:u}),f=r[c]||{},S=f.score,A=r[u]||{},m=A.score,g=So({playerId:c,playerPhoto:o,playerScore:S,opponentId:u,opponentPhoto:d,opponentScore:m,isPlayerFinished:p,isOpponentFinished:E})){e.next=12;break}return e.abrupt("return");case 12:return T={name:"share-game-result",width:952,height:492,renderOptions:g},e.next=15,i.frameCapture.capture(T);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),So=(function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,s,o,c,l,u,d,p,E,f,S,A;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.game,a=n.player,i=n.globalScene,r=cs(t),s=a.getPlayer(),o=s.photo,c=s.playerId,l=os(t),u=l.playerId,d=l.photo,p=l.score,E=r[c]||{},f=E.score,S=So({playerId:c,playerPhoto:o,playerScore:f,opponentId:u,opponentPhoto:d,opponentScore:p})){e.next=9;break}return e.abrupt("return");case 9:return A={name:"share-group-match-result",width:952,height:492,renderOptions:S},e.next=12,i.frameCapture.capture(A);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))}(),function(e){var t=e.playerId,n=void 0===t?"10":t,a=e.playerPhoto,i=void 0===a?"":a,r=e.playerScore,s=void 0===r?0:r,o=e.opponentId,c=void 0===o?"20":o,l=e.opponentPhoto,u=void 0===l?"":l,h=e.opponentScore,d=void 0===h?0:h,p=e.isPlayerFinished,E=e.isOpponentFinished;if("string"!==typeof n)return null;if("string"!==typeof i)return null;if("number"!==typeof s)return null;if("string"!==typeof c)return null;if("string"!==typeof u)return null;if("number"!==typeof d)return null;if("boolean"!==typeof p)return null;if("boolean"!==typeof E)return null;var f=s===d,S=s>d,A=p||E,m=p&&E,g={leftPhoto:{name:""+n,type:"image",x:28,y:130,image:i,width:200,height:200,fallbackWithImage:qa.Z.AVATAR.KEY},rightPhoto:{name:""+c,type:"image",x:727,y:130,image:u,width:200,height:200,fallbackWithImage:qa.Z.AVATAR.KEY},wideFrame:{name:"wide-frame-game-result",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-game-result.png",width:952,height:492}};return A&&(g.leftScoreShadow={type:"text",x:128,y:423,font:"600 70px",fillStyle:"#c4683f",text:p?""+s:"???",textAlign:"center"},g.leftScore={type:"text",x:128,y:423,font:"600 70px",fillStyle:"#f2a62e",text:p?""+s:"???",textAlign:"center"},g.rightScoreShadow={type:"text",x:828,y:423,font:"600 70px",fillStyle:"#c4683f",text:E?""+d:"???",textAlign:"center"},g.rightScore={type:"text",x:828,y:423,font:"600 70px",fillStyle:"#f2a62e",text:E?""+d:"???",textAlign:"center"}),!f&&m&&(S?g.leftCrown={name:"crown-icon",type:"image",x:72,y:72,image:"./assets/images/others/crown-icon.png",width:106,height:78}:g.rightCrown={name:"crown-icon",type:"image",x:774,y:72,image:"./assets/images/others/crown-icon.png",width:106,height:78}),g}),Ao=(function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s,o,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.game,n=t.player,a=t.globalScene,i=n.getPlayer(),r=i.playerId,s=i.photo,o=n.getBestScore(),c=Ao({playerId:r,playerPhoto:s,playerScore:o})){e.next=7;break}return e.abrupt("return");case 7:return l={name:"share-score",width:952,height:492,renderOptions:c},e.next=10,a.frameCapture.capture(l);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))}(),function(e){var t=e.playerId,n=void 0===t?"10":t,a=e.playerPhoto,i=void 0===a?"":a,r=e.playerScore,s=void 0===r?0:r;return"string"!==typeof n||"string"!==typeof i||"number"!==typeof s?null:{avatar:{name:""+n,type:"image",x:115,y:135,image:i,width:200,height:200,fallbackWithImage:qa.Z.AVATAR.KEY},wideFrame:{name:"wide-frame-message-win",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-message-win.png",width:952,height:492},playerScoreShadow:{type:"text",x:214,y:437,font:"600 70px",fillStyle:"#c4683f",text:""+s,textAlign:"center"},playerScore:{type:"text",x:214,y:437,font:"600 70px",fillStyle:"#f2a62e",text:""+s,textAlign:"center"}}}),mo=n(428),go=n(90),To={targets:[],duration:600,ease:Phaser.Math.Easing.Back.Out,props:{y:{from:500,to:0}}},vo=function(e){function t(t){return e.call(this,To,t)||this}return(0,o.Z)(t,e),t}(go.Z),yo=function(e){var t=e?e.split("_"):[],n=t.length>0?t[0]:"en_US";switch(n){case"id":case"in":n="id"}return n},Io=n(422),Oo=function(e){function t(t,n){var a;(a=e.call(this,t)||this).payload=void 0,a.loading=void 0,a.photo=void 0,a.avtFrame=void 0,a.background=void 0,a.loadPhotoTimer=void 0,a.handleLoadPhotoAfterDelay=function(e,t){return function(){var n=a.scene.textures.get(e);n&&n.key===e?a.handleLoadComplete(e):(a.scene.load.once("filecomplete-image-"+e,a.handleLoadComplete),a.scene.load.image(e,t),a.scene.load.start())}},a.handleLoadComplete=function(e){if(a.scene){var t=a.payload,n=t.id,i=t.radius,r=void 0===i?0:i;if(n&&n===e){var s=n+"_bordered_"+r,o=r>0?s:n,c=a.scene.textures.get(o);if(c&&c.key===o)a.setPhoto(c.key);else if(0!=r&&r<100){if(!GameCore.Utils.Image.drawBorder({scene:a.scene,key:n,newKey:s,radius:r}))return void a.showLoading(!1);a.setPhoto(s)}else if(100==r){if(!GameCore.Utils.Image.drawCircle({scene:a.scene,key:n,newKey:s}))return void a.showLoading(!1);a.setPhoto(s)}else a.setPhoto(n)}}},a.handleLoadPhotoFailed=function(e){e.key===a.payload.id&&a.setDefaultAvatar(e.key)},a.scene.add.existing((0,_i.Z)(a)),a.payload=n,a.setSize(n.width,n.height),a.createBackground(),a.createLoading(),a.createPhoto(),a.createFrame();var i=a.payload,r=i.id,s=i.url,o=i.radius;return r&&s&&a.loadPhoto(r,s,o),a.addDefaultListeners(),a}(0,o.Z)(t,e);var n=t.prototype;return n.setFrame=function(e){this.avtFrame.setFrame(e),this.avtFrame.setVisible(!0)},n.setBackground=function(e){this.background.setFrame(e)},n.loadPhoto=function(e,t,n){var a;if(void 0===n&&(n=0),this.payload.id=e,this.payload.url=t,this.payload.radius=n,null==(a=this.loadPhotoTimer)||a.remove(),e&&t){var i=this.scene.textures.get(e);if(i&&i.key===e)this.handleLoadComplete(e);else{this.showLoading(!0);var r=this.payload.loadDelay||0;this.loadPhotoTimer=this.scene.time.delayedCall(r,this.handleLoadPhotoAfterDelay(e,t))}}else this.setPhoto(qa.Z.AVATAR.KEY)},n.addDefaultListeners=function(){var e=this;this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,this.handleLoadPhotoFailed),this.on(Phaser.GameObjects.Events.DESTROY,(function(){var t;null==(t=e.loadPhotoTimer)||t.remove(),e.scene.load.off(Phaser.Loader.Events.FILE_LOAD_ERROR,e.handleLoadPhotoFailed)}))},n.setDefaultAvatar=function(e){this.loadPhoto(e,qa.Z.AVATAR.FILE,this.payload.radius)},n.createBackground=function(){var e=this.payload,t=e.key,n=e.background,a=e.borderWidth,i=void 0===a?0:a;this.background=this.scene.make.image({key:t,frame:n}),this.background.setWorldSize(this.width-i,this.height-i),this.add(this.background)},n.createLoading=function(){this.loading=new Io.Z(this.scene),this.loading.setWorldSize(.75*this.width,.75*this.height),this.loading.setVisible(!1),this.add(this.loading)},n.createPhoto=function(){this.photo=this.scene.make.image({x:0,y:0,origin:{x:.5,y:.5},visible:!1}),this.add(this.photo)},n.createFrame=function(){var e=this.payload,t=e.key,n=e.frame,a=e.width,i=e.height;n?(this.avtFrame=this.scene.make.image({key:t,frame:n}),this.avtFrame.setWorldSize(a,i)):this.avtFrame=this.scene.make.image({x:0,y:0,origin:{x:.5,y:.5},visible:!1}),this.add(this.avtFrame)},n.showLoading=function(e){this.photo.setVisible(!e),this.loading.setVisible(e)},n.setPhoto=function(e){this.showLoading(!1),this.photo.setTexture(e),this.photo.setFrame(0);var t=this.payload,n=t.width,a=t.height,i=Math.min(n,a)-(this.payload.borderWidth||8);this.photo.setWorldSize(i,i),Phaser.Display.Align.In.Center(this.photo,this.background)},t}(Phaser.GameObjects.Container),Ro=Oo,Co=Oi.Z.DEFAULT,_o=Co.KEY,bo=Co.FRAME,No=function(e){function t(t){var n;return(n=e.call(this,t,{key:_o,frame:bo.AVATAR_BORDER,background:bo.AVATAR_BACKGROUND,width:66,height:66,borderWidth:8})||this).scene=void 0,n.scene=t,n}return(0,o.Z)(t,e),t}(Ro),Do=No,wo=Oi.Z.DEFAULT,Po=wo.KEY,Lo=wo.FRAME,xo=function(e){function t(t,n){var a;return(a=e.call(this,t)||this).scene=void 0,a.avatar=void 0,a.payload=void 0,a.buttonPlay=void 0,a.playerScore=void 0,a.scene=t,a.createAvatar(),a.createButtonPlay(),n&&a.updateInfo(n),a.scene.add.existing((0,_i.Z)(a)),a}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(e){this.payload=e,this.updateAvatar()},n.setScore=function(e){this.playerScore.setText(e)},n.createAvatar=function(){this.avatar=new Do(this.scene),Phaser.Display.Align.In.Center(this.avatar,this,0,-20),this.add(this.avatar)},n.updateAvatar=function(){var e=this.payload,t=e.playerId,n=e.photo;this.avatar.loadPhoto(t,n,50)},n.createButtonPlay=function(){this.buttonPlay=this.scene.make.image({key:Po,frame:Lo.BUTTON_PLAY}),this.buttonPlay.setName("Play"),this.buttonPlay.setWorldSize(66,33),this.add(this.buttonPlay),Phaser.Display.Align.In.BottomCenter(this.buttonPlay,this.avatar,0,42),this.add(this.buttonPlay)},n.setFrameButtonPlay=function(e){this.buttonPlay.setFrame(e)},n.hideButtonPlay=function(){this.buttonPlay.setVisible(!1)},(0,z.Z)(t,[{key:"onClick",set:function(e){this.setSize(66,100),this.setInteractive({useHandCursor:!0}),this.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,e)}}]),t}(Phaser.GameObjects.Container),Mo=xo,ko=Oi.Z.DEFAULT.FRAME,Go=function(e){function t(t,n){var i;return(i=e.call(this,t)||this).scene=void 0,i.payload=void 0,i.leaderBlocks=void 0,i.entrancesAnimation=void 0,i.listLeaderBlocks=void 0,i.handleChallengeFriend=function(e){return function(){i.scene.storage.dispatch(qs(e))}},i.handleShareLeaderboard=function(){i.scene.audio.playSound(Ci.BUTTON_CLICK),i.scene.storage.dispatch((0,s.Z)(h().mark((function e(){var t,n,i,r,s,o,c,l,u,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.player,i=t.analytics,r=t.facebook,s=t.globalScene,o=t.lang,e.prev=1,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:o.Text.LOADING,loading:!0}),e.next=5,po();case 5:return c=e.sent,co(c),l=n.getPlayer(),u=l.playerId,d=l.name,p=l.photo,e.next=10,r.shareAsync({text:"A ha, I'm the best!",intent:"CHALLENGE",image:c||"",data:{playerId:u,playerName:d,playerPhoto:p,type:za}});case 10:i.event(Yt._.SHARE,{share_content_type:"Leaderboard",success:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),i.event(Yt._.SHARE,{share_content_type:"Leaderboard",success:!1}),(0,a.tO)(e.t0);case 17:return e.prev=17,s.screen.close(Ri.o4.NOTIFY_SCREEN),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])}))))},i.handleMatchingGroup=(0,s.Z)(h().mark((function e(){var t,n,r,s,o,c,l,u,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.scene,n=t.player,r=t.storage,s=t.game,o=t.facebook,c=t.lang,e.prev=1,s.globalScene.screen.open(Ri.o4.NOTIFY_SCREEN,{message:c.Text.LOADING,loading:!0}),l=n.getPlayer(),u="global","en"===(d=yo(l.locale))&&(u="en"),"in"===d&&(u="in"),e.next=10,o.matchPlayerAsync(u,!0,!0);case 10:if(p=e.sent,s.globalScene.screen.close(Ri.o4.NOTIFY_SCREEN),p){e.next=14;break}return e.abrupt("return");case 14:r.dispatch(Qs()),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),s.globalScene.screen.close(Ri.o4.NOTIFY_SCREEN),e.t0 instanceof Error&&(0,a.tO)(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),i.scene=t,i.setName("LeadersBar"),i.listLeaderBlocks=[],i.createLeaderBlocks(),i.createEntrancesAnimation(),n&&i.updateInfo(n),i.scene.add.existing((0,_i.Z)(i)),i}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(e){var t=this;this.payload=e;var n,a=!1,i=this.payload;i.playerId;(i.leaders.forEach((function(e){var n,i=t.leaderBlocks.getFirstDead(!0);i.updateInfo(e),-1===e.score?(i.setFrameButtonPlay(ko.BUTTON_RANDOM),i.onClick=t.handleMatchingGroup):e.playerId===t.payload.playerId?i.onClick=t.handleShareLeaderboard:(i.setFrameButtonPlay(ko.BUTTON_PLAY),i.onClick=t.handleChallengeFriend(e.playerId)),t.add(i),i.setVisible(!0),i.setActive(!0),_t()(n=t.listLeaderBlocks).call(n,i)<0&&(a=!0)})),this.alignBlocks(),a)&&(this.listLeaderBlocks=fe()(n=this.leaderBlocks.getChildren()).call(n,(function(e){return e.active})),this.createEntrancesAnimation());this.runAnimation()},n.killAndHideAll=function(){var e=this;this.removeAll(!1),this.leaderBlocks.getChildren().forEach((function(t){return e.leaderBlocks.killAndHide(t)}))},n.runAnimation=function(){this.leaderBlocks.setAlpha(0),this.entrancesAnimation.play()},n.createEntrancesAnimation=function(){this.entrancesAnimation=new vo({targets:this.listLeaderBlocks,delay:this.scene.tweens.stagger(50,{start:400}),props:{y:{from:100,to:0},alpha:{from:0,to:1}}})},n.alignBlocks=function(){var e=-(this.leaderBlocks.getLength()-1)/2*90;this.leaderBlocks.setX(e,90)},n.createLeaderBlocks=function(){this.leaderBlocks=this.scene.add.group({classType:Mo})},t}(Phaser.GameObjects.Container),Bo=Go,Uo=Oi.Z.DEFAULT,Fo=Uo.KEY,Ho=Uo.FRAME,Yo=function(e){function t(t,n,a,i,r){var s;return(s=e.call(this,t,n,a)||this).top=void 0,s.mid=void 0,s.bottom=void 0,s.setSize(i,r),s.scene.add.existing((0,_i.Z)(s)),s.createBackground(),s.updatePopupSize(),s.alignPopupImages(),s}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.top=this.scene.make.image({key:Fo,frame:Ho.POPUP_TOP}),this.mid=this.scene.make.image({key:Fo,frame:Ho.POPUP_MID}),this.bottom=this.scene.make.image({key:Fo,frame:Ho.POPUP_BOTTOM}),this.add([this.top,this.mid,this.bottom])},n.updatePopupSize=function(){this.top.setWorldSize(this.width,this.width*this.top.height/this.top.width),this.bottom.setWorldSize(this.width,this.width*this.bottom.height/this.bottom.width),this.mid.setWorldSize(this.width,this.height-this.top.displayHeight-this.bottom.displayHeight)},n.alignPopupImages=function(){Phaser.Display.Align.In.Center(this.top,this,0,-this.mid.displayHeight/2-this.top.displayHeight/2),Phaser.Display.Align.In.Center(this.mid,this),Phaser.Display.Align.In.Center(this.bottom,this,0,this.mid.displayHeight/2+this.bottom.displayHeight/2)},t}(Phaser.GameObjects.Container),Wo=Yo,Vo={targets:[],yoyo:!0,duration:120,ease:Phaser.Math.Easing.Circular.Out,props:{scale:{from:1,to:1.3}}},Zo=function(e){function t(t){return e.call(this,Vo,t)||this}return(0,o.Z)(t,e),t}(go.Z),Ko=n(425),Xo={targets:[],duration:400,ease:Ko.Z,props:{scale:"-=0.1"}},zo=function(e){function t(t){return e.call(this,Xo,t)||this}return(0,o.Z)(t,e),t}(go.Z),jo=function(e){function t(t,n,a,i,r,s){var o;return void 0===s&&(s=!1),(o=e.call(this,t)||this).useSound=!0,o.isClicked=!1,o.scaleUp=-1,o.scaleDown=-1,o.button=void 0,o.upAnimation=void 0,o.downAnimation=void 0,o.isUsePixelPerfect=!1,o.hitArea=void 0,o.hitZone=void 0,o.scaleDownPress=void 0,o.parentName=void 0,o.handelObjectDestroy=function(){o.scene&&o.scene.events.off(Phaser.Scenes.Events.SLEEP,o.handleSceneSleep)},o.handleSceneSleep=function(){o.scene&&o.scene.tweens.killTweensOf((0,_i.Z)(o))},o.handlePointerDown=function(){var e;o.isClicked||null!=(e=o.upAnimation)&&null!=(e=e.tween)&&e.isPlaying()||(o.isClicked=!0,o.runDownAnimation())},o.handleOnClick=function(e){return function(){var t,n;o.isClicked&&(null!=(t=o.upAnimation)&&null!=(t=t.tween)&&t.isPlaying()||(o.isClicked=!1,o.runUpAnimation(),null==(n=o.upAnimation)||null==(n=n.tween)||n.once(Phaser.Tweens.Events.TWEEN_COMPLETE,(function(){o.logButtonEvent(),o.addDebugData(),o.processCallback(e)}))))}},o.handlePointerOut=function(){var e;o.isClicked&&(null!=(e=o.upAnimation)&&null!=(e=e.tween)&&e.isPlaying()||(o.isClicked=!1,o.runUpAnimation()))},o.runDownAnimation=function(){var e;-1===o.scaleDown&&(o.scaleUp=o.scale,o.scaleDown=o.scaleDownPress),o.useSound&&o.scene.audio.playSound(Ci.BUTTON_CLICK),null==(e=o.downAnimation)||e.remove(),o.downAnimation=new zo({targets:[(0,_i.Z)(o)],duration:150,props:{scale:o.scaleDown},onUpdate:function(){o.hitZone.scale=1/o.scale}}),o.downAnimation.play()},o.runUpAnimation=function(){var e;-1!==o.scaleUp&&(null==(e=o.upAnimation)||e.remove(),o.upAnimation=new zo({targets:[(0,_i.Z)(o)],duration:150,props:{scale:o.scaleUp},onUpdate:function(){o.hitZone.scale=1/o.scale}}),o.upAnimation.play())},o.isUsePixelPerfect=s,o.setDepth(yi.Z.BUTTON),o.createButton(n,a,i,r),o.updateSize(),o.listenEvents(),o.scene.add.existing((0,_i.Z)(o)),o}(0,o.Z)(t,e);var n=t.prototype;return n.listenEvents=function(){this.scene.events.on(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep),this.once(Phaser.GameObjects.Events.DESTROY,this.handelObjectDestroy)},n.processCallback=function(e){var t,n,a;null==(t=this.upAnimation)||t.stop(),null==(n=this.downAnimation)||n.stop(),null==(a=this.scene)||a.tweens.killTweensOf(this),-1!==this.scaleUp&&this.setScale(this.scaleUp),e()},n.setDisabled=function(e){var t,n;e?(this.setAlpha(.5),null==(t=this.hitArea)||t.disableInteractive()):(this.setAlpha(1),null==(n=this.hitArea)||n.setInteractive())},n.createButton=function(e,t,n,a){this.button=this.scene.add.image(0,0,e,t),n&&a&&this.button.setWorldSize(n,a),this.scaleDownPress=this.scale-.1;var i=this.button,r=i.displayWidth,s=i.displayHeight;this.hitZone=this.scene.make.zone({displayWidth:r,displayHeight:s}),this.add([this.button,this.hitZone])},n.updateSize=function(){var e=this.button,t=e.width,n=e.height,a=t/100*10,i=n/100*10,r=a<10?a:10,s=i<10?i:10;this.setSize(t+r,n+s),this.hitZone.setSize(t+r,n+s)},n.addDebugData=function(){var e=this.getParentName(),t=this.name;(0,a.sw)("ui-click",e+":"+t)},n.logButtonEvent=function(){var e=this.getParentName(),t=this.name;this.scene.analytics.event(Yt._.BUTTON_CLICK,{button_name:t,screen_name:e})},n.getParentName=function(){if(this.parentName)return this.parentName;for(var e=this.parentContainer;e;){if(e instanceof GameCore.Screen){var t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName},(0,z.Z)(t,[{key:"onClick",set:function(e){this.isUsePixelPerfect?(this.hitArea=this.button,this.hitArea.setInteractive({useHandCursor:!0,pixelPerfect:!0})):(this.hitArea=this.hitZone,this.updateSize(),this.hitArea.setInteractive({useHandCursor:!0})),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnClick(e)),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut)}},{key:"isUsePixelPerFect",get:function(){return this.isUsePixelPerfect}}]),t}(Phaser.GameObjects.Container),qo=jo,Jo=n(420),Qo=Oi.Z.DEFAULT,$o=Qo.KEY,ec=Qo.FRAME,tc=function(e){function t(t,n,a,i,r){var s;return(s=e.call(this,t,n,a)||this).buttonPlay=void 0,s.buttonShare=void 0,s.buttonClose=void 0,s.counterAnimation=void 0,s.scoreAnimation=void 0,s.entrancesAnimation=void 0,s.tweenIconCup=void 0,s.tweenScore=void 0,s.tweenBestScore=void 0,s.payload=void 0,s.top=void 0,s.mid=void 0,s.bottom=void 0,s.iconCup=void 0,s.textScore=void 0,s.textBestScore=void 0,s.scoreBlock=void 0,s.bestScoreBlock=void 0,s.setSize(i,r),s.createBackground(),s.createTitle(),s.createIconCup(),s.createScoreBlock(),s.createBestScoreBlock(),s.createButtonPlay(),s.createButtonShare(),s.updatePopupSize(),s.alignPopupImages(),s.createScoreAnimation(),s.createButtonClose(),s.scene.add.existing((0,_i.Z)(s)),s}(0,o.Z)(t,e);var n=t.prototype;return n.createButtonClose=function(){this.buttonClose=new qo(this.scene,$o,ec.BUTTON_CLOSE,25,25),this.buttonClose.setName("Close"),this.add(this.buttonClose),Phaser.Display.Align.In.TopRight(this.buttonClose,this,5,35)},n.createBackground=function(){this.top=this.scene.make.image({key:$o,frame:ec.POPUP_TOP}),this.mid=this.scene.make.image({key:$o,frame:ec.POPUP_MID}),this.bottom=this.scene.make.image({key:$o,frame:ec.POPUP_BOTTOM}),this.add([this.top,this.mid,this.bottom])},n.createTitle=function(){var e=this.scene.world.getPixelRatio(),t=this.scene.add.container(),n=this.scene.make.image({key:$o,frame:ec.RIBBON_GAME_OVER});n.setWorldSize(290,88),t.add(n),Phaser.Display.Align.In.Center(n,t);var a=this.scene.make.image({key:$o,frame:ec.TEXT_GAME_OVER}),i=a.width,r=a.height;a.setWorldSize(i/e,r/e),t.add(a),Phaser.Display.Align.In.Center(a,n,0,-8),this.add(t),Phaser.Display.Align.In.TopCenter(t,this,0,-41)},n.createIconCup=function(){this.iconCup=this.scene.make.image({key:$o,frame:ec.ICON_CUP_BG}),this.iconCup.setWorldSize(52,52);var e=this.iconCup.scale;this.iconCup.setAlpha(0).setScale(0),this.add(this.iconCup),Phaser.Display.Align.In.Center(this.iconCup,this,0,-35),this.tweenIconCup=this.scene.tweens.add({targets:this.iconCup,paused:!0,duration:200,scale:{from:0,to:e},alpha:{from:0,to:1},ease:"Power1"})},n.createScoreBlock=function(){var e=this.scene.world.getPixelRatio();this.scoreBlock=this.scene.add.container();var t=this.scene.make.image({key:$o,frame:ec.TEXT_SCORE}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.scoreBlock.add(t),Phaser.Display.Align.In.Center(t,this.scoreBlock),this.textScore=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(65),origin:{x:.5,y:.5},text:"0"}),this.scoreBlock.add(this.textScore),Phaser.Display.Align.In.Center(this.textScore,t,0,35),this.add(this.scoreBlock),Phaser.Display.Align.In.Center(this.scoreBlock,this,-80,10),this.scoreBlock.setAlpha(0).setScale(0),this.tweenScore=this.scene.tweens.add({targets:[this.scoreBlock],paused:!0,duration:200,delay:100,scale:{from:0,to:1},alpha:{from:0,to:1},ease:"Power1"})},n.createBestScoreBlock=function(){var e=this.scene.world.getPixelRatio();this.bestScoreBlock=this.scene.add.container();var t=this.scene.make.image({key:$o,frame:ec.TEXT_BEST}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.bestScoreBlock.add(t),Phaser.Display.Align.In.Center(t,this.bestScoreBlock),this.textBestScore=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(65),origin:{x:.5,y:.5},text:"0"}),this.bestScoreBlock.add(this.textBestScore),Phaser.Display.Align.In.Center(this.textBestScore,t,0,35),this.add(this.bestScoreBlock),Phaser.Display.Align.In.Center(this.bestScoreBlock,this,80,10),this.bestScoreBlock.setAlpha(0).setScale(0),this.tweenBestScore=this.scene.tweens.add({targets:[this.bestScoreBlock],paused:!0,duration:200,delay:200,scale:{from:0,to:1},alpha:{from:0,to:1},ease:"Power1"})},n.createButtonPlay=function(){var e=this.scene.world.getPixelRatio();this.buttonPlay=new qo(this.scene,$o,ec.BUTTON_GREEN_BIG,123.5,54),this.buttonPlay.setName("Play"),this.scoreBlock.add(this.buttonPlay);var t=this.scene.make.image({key:$o,frame:ec.ICON_PLAY});t.setWorldSize(23.5,25.5),this.buttonPlay.add(t),Phaser.Display.Align.In.LeftCenter(t,this.buttonPlay,-22,-5);var n=this.scene.make.image({key:$o,frame:ec.TEXT_PLAY}),a=n.width,i=n.height;n.setWorldSize(a/e,i/e),this.buttonPlay.add(n),Phaser.Display.Align.In.Center(n,this.buttonPlay,14,-3),Phaser.Display.Align.In.Center(this.buttonPlay,this.textScore,0,52)},n.createButtonShare=function(){var e=this.scene.world.getPixelRatio();this.buttonShare=new qo(this.scene,$o,ec.BUTTON_BLUE_BIG,123.5,54),this.buttonShare.setName("Share"),this.bestScoreBlock.add(this.buttonShare);var t=this.scene.make.image({key:$o,frame:ec.ICON_SHARE});t.setWorldSize(21,25.5),this.buttonShare.add(t),Phaser.Display.Align.In.LeftCenter(t,this.buttonShare,-18,-4);var n=this.scene.make.image({key:$o,frame:ec.TEXT_SHARE}),a=n.width,i=n.height;n.setWorldSize(a/e,i/e),this.buttonShare.add(n),Phaser.Display.Align.In.Center(n,this.buttonShare,14,-5),Phaser.Display.Align.In.Center(this.buttonShare,this.textScore,0,52)},n.updatePopupSize=function(){this.top.setWorldSize(this.width,this.width*this.top.height/this.top.width),this.bottom.setWorldSize(this.width,this.width*this.bottom.height/this.bottom.width),this.mid.setWorldSize(this.width,this.height-this.top.displayHeight-this.bottom.displayHeight)},n.alignPopupImages=function(){Phaser.Display.Align.In.Center(this.top,this,0,-this.mid.displayHeight/2-this.top.displayHeight/2),Phaser.Display.Align.In.Center(this.mid,this),Phaser.Display.Align.In.Center(this.bottom,this,0,this.mid.displayHeight/2+this.bottom.displayHeight/2)},n.runScoreCounter=function(){var e,t=this,n=this.payload,a=n.bestScore,i=n.currentScore;null==(e=this.counterAnimation)||e.remove(),this.counterAnimation=this.scene.tweens.addCounter({from:0,to:i,delay:700,duration:2e3,completeDelay:300,onUpdate:function(e){t.scene.audio.playSound(Ci.SCORE_COUNT);var n=Math.floor(e.getValue());t.runScoreAnimation(),t.setCurrentScore(n)},onComplete:function(){t.setBestScore(a),t.setCurrentScore(i),t.scene.audio.playSound(Ci.GAME_OVER)}})},n.setBestScore=function(e){e&&void 0!==e||(e=0),this.textBestScore.setText(""+e)},n.setCurrentScore=function(e){this.textScore.setText(""+e)},n.createScoreAnimation=function(){this.scoreAnimation=new Zo({targets:[this.textScore],props:{scale:{from:1,to:1.3}}})},n.runAnimation=function(){this.runScoreCounter(),this.scene.time.delayedCall(1300,(function(){}))},n.runScoreAnimation=function(){this.scoreAnimation.play()},n.runAnimContent=function(){this.tweenIconCup.play(),this.tweenScore.play(),this.tweenBestScore.play()},n.hideContent=function(){this.iconCup.setAlpha(0).setScale(0),this.scoreBlock.setAlpha(0).setScale(0),this.bestScoreBlock.setAlpha(0).setScale(0)},n.updateData=function(e){this.payload=e;var t=e.bestScore,n=e.currentScore;if(n<=t)return this.setBestScore(t),this.setCurrentScore(n),this.runScoreAnimation(),void(n>0?this.runScoreCounter():this.counterAnimation=null);this.runAnimation()},t}(Phaser.GameObjects.Container),nc=tc,ac=Oi.Z.DEFAULT,ic=ac.KEY,rc=ac.FRAME,sc=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.infoBlock=void 0,n.challengeBlock=void 0,n.animShow=void 0,n.animHide=void 0,n.onComplete=void 0,n.scene=t,n.createInfoBlock(),n.createChallengeBlock(),n.createRope(),n.createAnimShow(),n.createAnimHide(),n.scene.add.existing((0,_i.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createInfoBlock=function(){this.infoBlock=new nc(this.scene,0,0,326,310.5),this.add(this.infoBlock),Phaser.Display.Align.In.Center(this.infoBlock,this,0,-75)},n.createRope=function(){var e=this.scene.make.image({key:ic,frame:rc.ICON_ROPE});e.setWorldSize(15,51),this.add(e),Phaser.Display.Align.In.Center(e,this.infoBlock,-100,155);var t=this.scene.make.image({key:ic,frame:rc.ICON_ROPE});t.setWorldSize(15,51),this.add(t),Phaser.Display.Align.In.Center(t,this.infoBlock,100,155)},n.createChallengeBlock=function(){this.challengeBlock=new Wo(this.scene,0,0,326,163),this.add(this.challengeBlock),Phaser.Display.Align.In.Center(this.challengeBlock,this.infoBlock,0,237)},n.createAnimShow=function(){var e=this,t=this.scene.gameZone.height/2,n=t+100;this.animShow=this.scene.tweens.add({targets:this,paused:!0,duration:300,delay:300,ease:Phaser.Math.Easing.Back.Out,y:{from:n,to:t},scale:{from:.9,to:1},alpha:{start:0,from:0,to:1},onComplete:function(){e.infoBlock.runAnimContent()}})},n.createAnimHide=function(){var e=this;this.animHide=this.scene.tweens.add({targets:this,paused:!0,duration:200,ease:Phaser.Math.Easing.Sine,scale:{from:1,to:0},alpha:{start:1,from:1,to:0},onComplete:function(){e.infoBlock.hideContent(),e.onComplete&&e.onComplete(),e.onComplete=null}})},n.hideContent=function(e){this.onComplete=e,this.animHide.play()},t}(Phaser.GameObjects.Container),oc=sc,cc=n(427),lc=n(424),uc={targets:[],duration:600,ease:Phaser.Math.Easing.Back.Out,props:{y:{from:250,to:0},scale:{from:.9,to:1},alpha:{start:0,from:0,to:1}}},hc=function(e){function t(t){return e.call(this,uc,t)||this}return(0,o.Z)(t,e),t}(go.Z),dc=Oi.Z.DEFAULT,pc=dc.KEY,Ec=dc.FRAME,fc=function(e){function t(t,n,a,i,r){var s;return(s=e.call(this,t,n,a)||this).top=void 0,s.mid=void 0,s.bottom=void 0,s.setSize(i,r),s.setDepth(yi.Z.POPUP),s.createPopup(),s.scene.add.existing((0,_i.Z)(s)),s}(0,o.Z)(t,e);var n=t.prototype;return n.createPopup=function(){this.createPopupImages(),this.updatePopupSize(),this.alignPopupImages()},n.createPopupImages=function(){this.top=this.scene.add.image(0,0,pc,Ec.POPUP_TOP),this.mid=this.scene.add.image(0,0,pc,Ec.POPUP_MID),this.bottom=this.scene.add.image(0,0,pc,Ec.POPUP_BOTTOM),this.add([this.top,this.mid,this.bottom])},n.updatePopupSize=function(){this.top.setWorldSize(this.width,this.width*this.top.height/this.top.width),this.bottom.setWorldSize(this.width,this.width*this.bottom.height/this.bottom.width),this.mid.setWorldSize(this.width,this.height-this.top.displayHeight-this.bottom.displayHeight)},n.alignPopupImages=function(){Phaser.Display.Align.In.Center(this.top,this,0,-this.mid.displayHeight/2-this.top.displayHeight/2),Phaser.Display.Align.In.Center(this.mid,this),Phaser.Display.Align.In.Center(this.bottom,this,0,this.mid.displayHeight/2+this.bottom.displayHeight/2)},(0,z.Z)(t,[{key:"onClose",set:function(e){this.setInteractive({useHandCursor:!0}),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,e)}}]),t}(Phaser.GameObjects.Container),Sc=fc,Ac=n(423),mc=Oi.Z.DEFAULT,gc=mc.KEY,Tc=mc.FRAME,vc=function(e){function t(t){var n;return(n=e.call(this,t,0,0,gc,Tc.GLARE)||this).anim=void 0,n.setWorldSize(200,200),n.scene.add.existing((0,_i.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.runAnimation=function(){var e;null==(e=this.anim)||e.remove(),this.anim=new Ac.Z({targets:[this],repeat:-1,duration:3e3}),this.anim.play()},n.setVisible=function(t){var n;(e.prototype.setVisible.call(this,t),t)?this.runAnimation():null==(n=this.anim)||n.stop();return this},t}(Phaser.GameObjects.Image),yc=vc,Ic=n(578),Oc=n.n(Ic),Rc=function(e,t,n){return void 0===t&&(t=.1),void 0===n&&(n=.04),t*e+Oc()(e)*n*e*e},Cc=function(e){function t(t){var n;return(n=e.call(this,t)||this).windX=1,n.airFrictionX=.05,n.airFrictionY=.01,n._lastRotaion=0,n.rotationRate=Math.random()<.5?-1:1,n.airFrictionX=.01*Math.random()+.007,n.airFrictionY=.004*Math.random()+.006,(0,_i.Z)(n)||(0,_i.Z)(n)}return(0,o.Z)(t,e),t.prototype.update=function(t,n,a){for(var i=e.prototype.update.call(this,t,n,a),r=.01,s=t;s>16.67;)this.velocityX-=Rc(this.velocityX,r,this.airFrictionX)/60*2,this.velocityY-=Rc(this.velocityY,r,this.airFrictionY)/60*2,s-=16.67;return this.velocityX-=Rc(this.velocityX,r,this.airFrictionX)*s/1e3,this.velocityY-=Rc(this.velocityY,r,this.airFrictionY)*s/1e3,this.rotation=this._lastRotaion+this.rotationRate*Math.random()*Math.PI/180*4,this._lastRotaion=this.rotation,i},t}(Phaser.GameObjects.Particles.Particle),_c=Oi.Z.EFFECTS,bc=_c.KEY,Nc=_c.FRAME,Dc=function(){function e(e){this.listEmitter=void 0,this.emitter1=void 0,this.emitter2=void 0,this.gameWidth=void 0,this.gameHeight=void 0,this.delay=void 0,this.scene=void 0,this.scene=e,this.delay=100,this.init()}var t=e.prototype;return t.init=function(){var t=[Nc.FX_CONFETTI_SMALL_1,Nc.FX_CONFETTI_SMALL_2,Nc.FX_CONFETTI_SMALL_3,Nc.FX_CONFETTI_SMALL_4];e.particle||(e.particle=this.scene.add.particles(bc).setDepth(yi.Z.ON_TOP));var n=this.scene.gameZone,a=n.width,i=n.height,r=this.scene.world.getZoomRatio();this.emitter1=e.particle.createEmitter({frame:t,x:-20,y:i/2-70,speed:{min:250/r,max:3e3/r},gravityY:600/r,scale:{start:.55/r,end:.9/r,ease:Phaser.Math.Easing.Expo.Out},angle:{min:270,max:360},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.In},lifespan:{min:2e3,max:4e3},maxParticles:0,on:!1,particleClass:Cc}),this.emitter2=e.particle.createEmitter({frame:t,x:a+20,y:i/2-70,speed:{min:250/r,max:3e3/r},gravityY:600/r,scale:{start:.55/r,end:.9/r,ease:Phaser.Math.Easing.Expo.Out},angle:{min:180,max:270},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.In},lifespan:{min:2e3,max:4e3},maxParticles:0,on:!1,particleClass:Cc}),this.listEmitter=[this.emitter1,this.emitter2]},t.start=function(){this.emitter1.flow(1e4,45),this.emitter2.flow(1e4,45),this.scene.time.delayedCall(500,this.stop.bind(this))},t.stop=function(){this.listEmitter.forEach((function(e){e.stop()}))},t.killAll=function(){var e=this;this.listEmitter.forEach((function(t){t.killAll(),t.forEachDead((function(e){e.resetPosition()}),e)}))},t.hide=function(){this.emitter1.setVisible(!1),this.emitter2.setVisible(!1)},e}();Dc.particle=void 0,Dc.ribbonParticle=void 0;var wc=Dc,Pc=Oi.Z.DEFAULT,Lc=Pc.KEY,xc=Pc.FRAME,Mc=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).glare=void 0,r.popup=void 0,r.avatar=void 0,r.title=void 0,r.contents=void 0,r.buttonShare=void 0,r.bestScoreText=void 0,r.tweenGlare=void 0,r.tweenScoreText=void 0,r.popupShowUpAnimation=void 0,r.contentShowUpAnimation=void 0,r.popupFadeOutAnimation=void 0,r.confetti=void 0,r.scene=void 0,r.open=function(t){e.prototype.open.call((0,_i.Z)(r),t),r.setVisible(!0),r.runAnim();var n=r.scene.player.getBestScore()||0,a=r.scene.player.getPlayer(),i=a.playerId,s=a.photo;r.setBestScore(n),r.avatar.loadPhoto(i,s),r.runOpenAnimation(),r.scene.audio.playSound(Ci.CONGRATULATION),r.scene.analytics.pageview(r.name)},r.handleClosePopup=function(){r.scene.audio.playSound(Ci.POPUP_OFF,{volume:.6}),r.runCloseAnimation(),r.popupFadeOutAnimation.next((function(){r.scene.screen.close(r.name)})),Xr.emit(mi)},r.handleShareBestScore=function(){r.scene.storage.dispatch(lo())},r.setVisible(!1),r.scene=t,r.setDepth(Ri.Ks.POPUP),r.createPopup(),r.createConfetti(),r.createPopupContent(),r.background.setAlpha(.6),r}(0,o.Z)(t,e);var n=t.prototype;return n.createConfetti=function(){this.confetti=new wc(this.scene)},n.runAnim=function(){this.glare.setScale(0).setAlpha(0),this.bestScoreText.setScale(0).setAlpha(0),this.tweenScoreText.play(),this.tweenGlare.play()},n.createPopup=function(){this.popup=new Sc(this.scene,0,0,325,300),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)},n.createPopupContent=function(){this.createTitle(),this.createAvatar(),this.createButtonShare(),this.createGlare(),this.createBestScoreText(),this.popup.add([this.title]),this.contents=this.scene.make.group({}),this.contents.addMultiple([this.avatar,this.buttonShare])},n.createTitle=function(){var e=this.scene.world.getPixelRatio();this.title=this.scene.add.container();var t=this.scene.make.image({key:Lc,frame:xc.RIBBON_MAIN});t.setWorldSize(260,57);var n=this.scene.make.image({key:Lc,frame:xc.TEXT_BEST_SCORE}),a=n.width,i=n.height;n.setWorldSize(a/e,i/e),Phaser.Display.Align.In.Center(n,t,0,-3);var r=new qo(this.scene,Lc,xc.BUTTON_CLOSE,25,25);r.useSound=!1,r.onClick=this.handleClosePopup,r.setName("Close"),Phaser.Display.Align.In.RightCenter(r,t,36,-19),this.title.add([t,n,r]),this.popup.add(this.title),Phaser.Display.Align.In.TopCenter(this.title,this.popup,0,-2)},n.createButtonShare=function(){var e=this.scene.world.getPixelRatio();this.buttonShare=new qo(this.scene,Lc,xc.BUTTON_BLUE_BIG,122,54),this.buttonShare.setName("Share");var t=this.scene.make.image({key:Lc,frame:xc.TEXT_SHARE}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.buttonShare.add(t),Phaser.Display.Align.In.Center(t,this.buttonShare,14,-5);var i=this.scene.make.image({key:Lc,frame:xc.ICON_SHARE});i.setWorldSize(22.5,27),this.buttonShare.add(i),Phaser.Display.Align.In.LeftCenter(i,this.buttonShare,-16,-5),this.popup.add(this.buttonShare),Phaser.Display.Align.In.Center(this.buttonShare,this.avatar,0,85),this.buttonShare.onClick=this.handleShareBestScore},n.createBestScoreText=function(){this.bestScoreText=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(160),origin:{x:.5,y:.5}}),this.popup.add(this.bestScoreText),Phaser.Display.Align.In.Center(this.bestScoreText,this.popup,0,-63),this.bestScoreText.setScale(0).setAlpha(0),this.tweenScoreText=this.scene.tweens.add({targets:this.bestScoreText,paused:!0,duration:200,delay:500,scale:{from:0,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Sine})},n.createGlare=function(){this.glare=new yc(this.scene),this.popup.add(this.glare),Phaser.Display.Align.In.Center(this.glare,this.popup,0,-70);var e=this.glare.scale;this.glare.setScale(0).setAlpha(0),this.tweenGlare=this.scene.tweens.add({targets:this.glare,paused:!0,duration:200,delay:500,scale:{from:0,to:e},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Sine})},n.createAvatar=function(){this.avatar=new Ro(this.scene,{key:Lc,frame:xc.AVATAR_BORDER_ORANGE_THIN,background:xc.AVATAR_BACKGROUND,width:88,height:90,borderWidth:8}),this.popup.add(this.avatar),Phaser.Display.Align.In.Center(this.avatar,this.popup,0,20)},n.runCloseAnimation=function(){this.runPopupExitsAnimation(0,200)},n.runPopupExitsAnimation=function(e,t){var n,a=this;this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new cc.Z({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:function(){a.popup.setY(0)}})),null==(n=this.popupFadeOutAnimation)||n.play()},n.setBestScore=function(e){this.bestScoreText.setText(""+e)},n.runOpenAnimation=function(){this.scene.audio.playSound(Ci.POPUP_SHOW),this.runPopupEntrancesAnimation(0,300),this.runPopupContentEntrancesAnimation(200,300)},n.runPopupEntrancesAnimation=function(e,t){var n=this;if(!this.popupShowUpAnimation){var a=this.popup,i=a.y,r=a.scale;this.popupShowUpAnimation=new hc({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:i},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:r}},onComplete:function(){n.confetti.start()}})}this.popupShowUpAnimation.play()},n.runPopupContentEntrancesAnimation=function(e,t){this.contentShowUpAnimation||(this.contentShowUpAnimation=new lc.Z({targets:this.contents.getChildren(),duration:t,delay:this.scene.tweens.stagger(80,{start:e}),props:{alpha:{start:0,from:0,to:1}}})),this.contentShowUpAnimation.play()},t}(GameCore.Screen),kc=Mc,Gc=Oi.Z.DEFAULT,Bc=Gc.KEY,Uc=Gc.FRAME,Fc=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).popup=void 0,r.avatarMe=void 0,r.textScoreMe=void 0,r.avatarOpponent=void 0,r.textScoreOpponent=void 0,r.title=void 0,r.titleFrame=void 0,r.textMessage=void 0,r.contents=void 0,r.popupShowUpAnimation=void 0,r.contentShowUpAnimation=void 0,r.popupFadeOutAnimation=void 0,r.buttonShare=void 0,r.tweenButtonShare=void 0,r.buttonRestart=void 0,r.tweenButtonRestart=void 0,r.myInfoBlock=void 0,r.tweenMyInfoBlock=void 0,r.opponentInfoBlock=void 0,r.tweenOpponentInfoBlock=void 0,r.icon=void 0,r.tweenIcon=void 0,r.open=function(t){e.prototype.open.call((0,_i.Z)(r),t),r.setVisible(!0),r.updateInfo(),r.loadAvatars(),r.runAnim(),r.runOpenAnimation(),r.scene.analytics.pageview(r.name)},r.close=function(){e.prototype.close.call((0,_i.Z)(r)),r.icon.setAlpha(0).setVisible(!1),r.myInfoBlock.setAlpha(0).setVisible(!1),r.opponentInfoBlock.setAlpha(0).setVisible(!1),r.buttonRestart.setAlpha(0).setScale(0).setVisible(!1),r.buttonShare.setAlpha(0).setScale(0).setVisible(!1)},r.handleClosePopup=function(){r.scene.audio.playSound(Ci.POPUP_OFF,{volume:.6}),r.runCloseAnimation(),r.popupFadeOutAnimation.next((function(){r.scene.screen.close(r.name)})),Xr.emit(gi)},r.handleShareBestScore=function(){r.scene.storage.dispatch(lo())},r.handleRestart=function(){r.scene.screen.close(r.name),r.scene.storage.dispatch(js()),Xr.emit(Rr.REPLAY),Xr.emit(Ti)},r.setVisible(!1),r.setDepth(Ri.Ks.POPUP),r.createPopup(),r.createPopupContent(),r.background.setAlpha(0),r}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(){var e=this.scene.world.getPixelRatio(),t=this.scene.storage.getState(),n=cs(t),a=this.scene.player.getPlayer().playerId,i=as(t).playerId,r=rs(t,{playerId:a}),s=ss(t,{opponentId:i}),o=(n[a]||{}).score,c=void 0===o?0:o,l=(n[i]||{}).score,u=void 0===l?0:l;if(this.textScoreMe.setText(String(c)),this.textScoreOpponent.setText(String(u)),!r||!s){this.textMessage.setVisible(!0),this.titleFrame.setFrame(Uc.TEXT_PLAY_WITH_FRIENDS);var h=this.titleFrame,d=h.width,p=h.height;return this.titleFrame.setWorldSize(d/e,p/e),this.icon.setFrame(Uc.ICON_THUNDER),this.icon.setWorldSize(42,59),this.buttonShare.setVisible(!1),Phaser.Display.Align.In.Center(this.buttonRestart,this.popup,0,100),void this.scene.audio.playSound(Ci.WAIT_OPPONENT)}return this.buttonShare.setVisible(!0),this.tweenButtonShare.play(),Phaser.Display.Align.In.Center(this.buttonRestart,this.popup,-86,100),c===u?(this.textMessage.setVisible(!1),this.titleFrame.setFrame(Uc.TEXT_DRAW),this.titleFrame.setWorldSize(130,35),this.icon.setFrame(Uc.TEXT_VS),this.icon.setWorldSize(62,35),void this.scene.audio.playSound(Ci.DRAW)):c>u?(this.textMessage.setVisible(!1),this.titleFrame.setFrame(Uc.TEXT_WIN),this.titleFrame.setWorldSize(81,35),this.icon.setFrame(Uc.TEXT_VS),this.icon.setWorldSize(62,35),void this.scene.audio.playSound(Ci.WIN)):c<u?(this.textMessage.setVisible(!1),this.titleFrame.setFrame(Uc.TEXT_LOSE),this.titleFrame.setWorldSize(109,35),this.icon.setFrame(Uc.TEXT_VS),this.icon.setWorldSize(62,35),void this.scene.audio.playSound(Ci.LOSE)):void 0},n.runAnim=function(){this.icon.setVisible(!0),this.myInfoBlock.setVisible(!0),this.opponentInfoBlock.setVisible(!0),this.tweenIcon.play(),this.tweenMyInfoBlock.play(),this.tweenOpponentInfoBlock.play(),this.buttonRestart.setVisible(!0),this.tweenButtonRestart.play()},n.loadAvatars=function(){var e=this.scene.storage.getState(),t=this.scene.player.getPlayer(),n=t.photo,a=t.playerId,i=as(e),r=i.playerId,s=i.photo;this.avatarMe.loadPhoto(a,n,5),this.avatarOpponent.loadPhoto(r,s,5)},n.createPopup=function(){this.popup=new Sc(this.scene,0,0,325,300),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)},n.createPopupContent=function(){this.createTitle(),this.createTextMessage(),this.createMyInfoBlock(),this.createOpponentInfoBlock(),this.createIcon(),this.createButtonShare(),this.createButtonRestart(),this.popup.add([this.title]),this.contents=this.scene.make.group({}),this.contents.addMultiple([this.buttonShare])},n.createTitle=function(){var e=this.scene.world.getPixelRatio();this.title=this.scene.add.container();var t=this.scene.make.image({key:Bc,frame:Uc.RIBBON_MAIN});t.setWorldSize(260,57),this.titleFrame=this.scene.make.image({key:Bc,frame:Uc.TEXT_PLAY_WITH_FRIENDS});var n=this.titleFrame,a=n.width,i=n.height;this.titleFrame.setWorldSize(a/e,i/e),Phaser.Display.Align.In.Center(this.titleFrame,t,0,-3);var r=new qo(this.scene,Bc,Uc.BUTTON_CLOSE,25,25);r.useSound=!1,r.onClick=this.handleClosePopup,r.setName("Close"),Phaser.Display.Align.In.RightCenter(r,t,36,-19),this.title.add([t,this.titleFrame,r]),this.popup.add(this.title),Phaser.Display.Align.In.TopCenter(this.title,this.popup,0,-2)},n.createTextMessage=function(){this.textMessage=this.scene.add.text(0,0,"Waiting for your opponent",{font:"17.5px Arial",color:"#000000"}),this.popup.add(this.textMessage),Phaser.Display.Align.In.Center(this.textMessage,this.popup,0,-101)},n.createButtonShare=function(){var e=this.scene.world.getPixelRatio();this.buttonShare=new qo(this.scene,Bc,Uc.BUTTON_BLUE_BIG,122,54),this.buttonShare.setName("Share");var t=this.scene.make.image({key:Bc,frame:Uc.TEXT_SHARE}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.buttonShare.add(t),Phaser.Display.Align.In.Center(t,this.buttonShare,14,-5);var i=this.scene.make.image({key:Bc,frame:Uc.ICON_SHARE});i.setWorldSize(22.5,27),this.buttonShare.add(i),Phaser.Display.Align.In.LeftCenter(i,this.buttonShare,-16,-5),this.popup.add(this.buttonShare),Phaser.Display.Align.In.Center(this.buttonShare,this.popup,86,100),this.buttonShare.onClick=this.handleShareBestScore,this.buttonShare.setScale(0).setAlpha(0),this.tweenButtonShare=this.scene.tweens.add({targets:this.buttonShare,paused:!0,duration:200,delay:700,scale:{from:0,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createButtonRestart=function(){this.buttonRestart=new qo(this.scene,Bc,Uc.BUTTON_RESTART,122,54),this.buttonRestart.setName("Restart"),this.popup.add(this.buttonRestart),Phaser.Display.Align.In.Center(this.buttonRestart,this.popup,0,100),this.buttonRestart.onClick=this.handleRestart,this.buttonRestart.setScale(0).setAlpha(0),this.tweenButtonRestart=this.scene.tweens.add({targets:this.buttonRestart,paused:!0,duration:200,delay:700,scale:{from:0,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createMyInfoBlock=function(){this.myInfoBlock=this.scene.add.container(),this.avatarMe=new Ro(this.scene,{key:Bc,frame:Uc.AVATAR_BORDER_ORANGE_THICK,background:Uc.AVATAR_BACKGROUND,width:100,height:100,borderWidth:10}),this.myInfoBlock.add(this.avatarMe),Phaser.Display.Align.In.Center(this.avatarMe,this.myInfoBlock,0,0),this.textScoreMe=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(74),text:"0",origin:{x:.5,y:.5}}),this.textScoreMe.setTint(14396272),this.myInfoBlock.add(this.textScoreMe),Phaser.Display.Align.In.Center(this.textScoreMe,this.avatarMe,0,80),this.popup.add(this.myInfoBlock),Phaser.Display.Align.In.Center(this.myInfoBlock,this.popup,-95,-28),this.myInfoBlock.setAlpha(0),this.tweenMyInfoBlock=this.scene.tweens.add({targets:this.myInfoBlock,paused:!0,duration:200,delay:400,scale:{from:1.5,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createOpponentInfoBlock=function(){this.opponentInfoBlock=this.scene.add.container(),this.avatarOpponent=new Ro(this.scene,{key:Bc,frame:Uc.AVATAR_BORDER_ORANGE_THICK,background:Uc.AVATAR_BACKGROUND,width:100,height:100,borderWidth:10}),this.opponentInfoBlock.add(this.avatarOpponent),Phaser.Display.Align.In.Center(this.avatarOpponent,this.opponentInfoBlock,0,0),this.textScoreOpponent=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(74),text:"0",origin:{x:.5,y:.5}}),this.textScoreOpponent.setTint(14396272),this.opponentInfoBlock.add(this.textScoreOpponent),Phaser.Display.Align.In.Center(this.textScoreOpponent,this.avatarOpponent,0,80),this.popup.add(this.opponentInfoBlock),Phaser.Display.Align.In.Center(this.opponentInfoBlock,this.popup,95,-28),this.opponentInfoBlock.setAlpha(0),this.tweenOpponentInfoBlock=this.scene.tweens.add({targets:this.opponentInfoBlock,paused:!0,duration:200,delay:500,scale:{from:1.5,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createIcon=function(){this.icon=this.scene.make.image({key:Bc,frame:Uc.ICON_THUNDER}),this.icon.setWorldSize(38,54);var e=this.icon.scale;this.popup.add(this.icon),Phaser.Display.Align.In.Center(this.icon,this.popup,0,-30),this.icon.setAlpha(0),this.tweenIcon=this.scene.tweens.add({targets:this.icon,paused:!0,duration:200,delay:300,scale:{from:1.5,to:e},alpha:{from:0,to:1},ease:"Power1"})},n.runCloseAnimation=function(){this.runPopupExitsAnimation(0,200)},n.runPopupExitsAnimation=function(e,t){var n,a=this;this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new cc.Z({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:function(){a.popup.setY(0)}})),null==(n=this.popupFadeOutAnimation)||n.play()},n.runOpenAnimation=function(){this.scene.audio.playSound(Ci.POPUP_SHOW),this.runPopupEntrancesAnimation(0,300),this.runPopupContentEntrancesAnimation(200,300)},n.runPopupEntrancesAnimation=function(e,t){if(!this.popupShowUpAnimation){var n=this.popup,a=n.y,i=n.scale;this.popupShowUpAnimation=new hc({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:a},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}}})}this.popupShowUpAnimation.play()},n.runPopupContentEntrancesAnimation=function(e,t){this.contentShowUpAnimation||(this.contentShowUpAnimation=new lc.Z({targets:this.contents.getChildren(),duration:t,delay:this.scene.tweens.stagger(80,{start:e}),props:{alpha:{start:0,from:0,to:1}}})),this.contentShowUpAnimation.play()},t}(GameCore.Screen),Hc=Fc,Yc=GameCore.Configs,Wc=Yc.LeadersBoard,Vc=Yc.Network,Zc=Oi.Z.DEFAULT,Kc=Zc.KEY,Xc=Zc.FRAME,zc=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).bestScore=void 0,n.currentScore=void 0,n.leadersBar=void 0,n.main=void 0,n.confettiLeftEffect=void 0,n.confettiRightEffect=void 0,n.queueScreens=[],n.isQueueScreensUpdated=void 0,n.isAdShowed=void 0,n.run=function(){n.registry.set("KEY_SCENE_RUNNING",li.Co.GAME_OVER_SCENE),n.background.setVisible(!0),n.updateScore(),n.updateQueueScreens(),n.queueScreens.length>0?n.showQueueScreens():(n.updateLeaders(),n.showMainBlock(),n.audio.playSound(Ci.GAME_OVER_SCENE),n.analytics.pageview(n.scene.key),n.input.setTopOnly(!0))},n.runConfettiEffect=function(){var e=n.gameZone.displayWidth;n.confettiLeftEffect.stop(),n.confettiRightEffect.stop(),n.children.bringToTop(n.confettiLeftEffect),n.children.bringToTop(n.confettiRightEffect),n.confettiLeftEffect.run(1,0,-100),n.confettiRightEffect.run(1,0+e,-100),n.tweens.addCounter({delay:1e4,from:100,to:0,ease:Phaser.Math.Easing.Cubic.Out,duration:400,onUpdate:function(e){var t,a,i=e.getValue()/100;null==(t=n.confettiLeftEffect.emitter)||t.setAlpha(i),null==(a=n.confettiRightEffect.emitter)||a.setAlpha(i)},onComplete:function(){var e,t;null==(e=n.confettiLeftEffect.emitter)||e.setAlpha(1),null==(t=n.confettiRightEffect.emitter)||t.setAlpha(1),n.confettiLeftEffect.stop(),n.confettiRightEffect.stop()}})},n.handlePlay=function(){n.game.updateFps(Ii.Z.max);n.main.hideContent((function(){n.isAdShowed=!1,n.isQueueScreensUpdated=!1,n.queueScreens=[],n.scene.sleep(),n.storage.dispatch(zs())}))},n.handleShare=function(){n.storage.dispatch(lo())},n.handleShowInterstitialAd=(0,s.Z)(h().mark((function e(){var t,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isAdShowed){e.next=2;break}return e.abrupt("return");case 2:if(n.isAdShowed=!0,t=n.game,a=t.globalScene,i=t.lang,e.prev=4,n.audio.pauseMusic(),n.ads.canbeShowInterstitialAd()){e.next=8;break}return e.abrupt("return");case 8:return a.screen.open(Ri.o4.NOTIFY_SCREEN,{message:i.Text.LOADING_AD,duration:Vc.Timeout,loading:!0}),e.next=11,n.ads.showInterstitialAdAsync();case 11:n.analytics.showInterstitialAd(n.getSceneName()),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return");case 17:return e.prev=17,n.postSessionScore(),a.screen.close(Ri.o4.NOTIFY_SCREEN),n.audio.playMusic(),n.ads.preloadInterstitialAdAsync().catch((function(e){})),n.audio.playMusic(),e.finish(17);case 24:case"end":return e.stop()}}),e,null,[[4,14,17,24]])}))),n.showNotifySkipAds=function(){var e=n.game,t=e.globalScene,a=e.lang;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.open(Ri.o4.NOTIFY_SCREEN,{message:""+a.Text.NO_REWARDS,duration:1500,loading:!1})},n.showNotifyNoAds=function(e){if(!e||e.name===Ri.o4.NOTIFY_SCREEN){var t=n.game,a=t.globalScene,i=t.lang;a.screen.events.off(GameCore.Screens.Events.CLOSE),a.screen.open(Ri.o4.NOTIFY_SCREEN,{message:i.Text.NO_ADS_TO_DISPLAY,duration:1200,loading:!1})}},n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(){var e=this;this.events.on("resume",(function(){e.updateScore()})),this.events.on("wake",this.run),this.events.on("create",this.run)},n.create=function(){e.prototype.create.call(this),this.createBackground(Kc,Xc.BLANK,.6,0);var t=this.player.getBestScore();this.bestScore=t,this.currentScore=0,this.createMain(),this.createLeadersBar(),this.createBestScoreScreen(),this.createResultScreen(),this.createConfettiSmallAnimation(),this.listenEvents()},n.listenEvents=function(){this.background.setInteractive(),Xr.on(mi,this.handleCloseScreen.bind(this)),Xr.on(gi,this.handleCloseScreen.bind(this)),Xr.on(Ti,this.handleResultReplay.bind(this))},n.handleCloseScreen=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleShowInterstitialAd();case 2:this.run();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.handleResultReplay=function(){this.isQueueScreensUpdated=!1,this.scene.sleep()},n.showQueueScreens=function(){var e=this.queueScreens.pop();e&&this.screen.open(e)},n.updateQueueScreens=function(){this.isQueueScreensUpdated||(this.isQueueScreensUpdated=!0,this.updateQueueResultScreen(),this.updateQueueBestScoreScreen())},n.updateQueueResultScreen=function(){var e,t=this.storage.getState(),n=Nr(t);if(-1!==_t()(e=[$a,ei]).call(e,n)&&ts(t)){var a=as(t).playerId;n===ei&&a===Ja.playerId||this.queueScreens.push(Ri.o4.RESULT_SCREEN)}},n.updateQueueBestScoreScreen=function(){this.currentScore&&(this.currentScore<=this.bestScore||this.queueScreens.push(Ri.o4.BEST_SCORE_SCREEN))},n.updateLeaders=function(){var e=this;this.leadersBar.killAndHideAll();var t,n,i,r,o=[{selector:yr,callback:function(t){if(!1===t){var n=window.game.player.getPlayerId(),a=e.getLeadersExcludeIds([n]);e.updateLeaderBar(a)}}}];this.handleStateChange(o),this.storage.dispatch((t=Wc.LeaderboardId,n=Wi,void 0===(i=20)&&(i=Sr),void 0===r&&(r=0),function(){var e=(0,s.Z)(h().mark((function e(s){var o,c,l,u,d,p,E,f,S,A,m,g,T,v,y,I,O,R;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=window.game.player,c=o.getPlayerId(),s(gr()),s({type:la,payload:{leaderboardId:t,type:n,limit:i,offset:r}}),!fr){e.next=11;break}return e.next=8,(0,Hi.qZ)(1e3);case 8:return d=Ae()(l=xi()(u=new Array(i)).call(u,null)).call(l,(function(e,t){var n=(t+1)*(r+1),a=Ar.PlayerEntryIndex===t,i={playerId:"0"+n,name:"MPlayer "+n,photo:"./assets/images/others/avatar.png",rank:n,score:Math.floor(1e5/n)};if(a){var s=window.game.player.getPlayer(),o=s.playerId,c=s.name,l=s.photo;i.playerId=o,i.name=c,i.photo=l}return i})),s(mr(d,n)),e.abrupt("return");case 11:if(p=[],n!==Yi){e.next=18;break}return e.next=15,tr({limit:i,offset:r});case 15:p=e.sent,e.next=26;break;case 18:if(n!==Wi){e.next=26;break}return(E=o.getConnectedPlayerIds(i,r)).push(c),f=GameCore.Utils.Array.unique(E),e.next=24,ir({playerIds:f,limit:f.length});case 24:p=e.sent,f.forEach((function(e){var t=fe()(p).call(p,(function(t){return t.playerId===e}));t&&0!==t.length||p.push({playerId:e,score:0})}));case 26:for(S={},A=dr(p);!(m=A()).done;)g=m.value,T=g.playerId,v=g.score,y=g.rank,I=g.getPlayer(),O=I.getPhoto(),R=I.getName(),S[T]={playerId:T,name:R,photo:O,score:v,rank:y};s(mr(S,n)),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(0),s(mr([],n)),(0,a.tO)(e.t0);case 36:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(t){return e.apply(this,arguments)}}()))},n.getLeadersExcludeIds=function(e){var t=this.storage.getState(),n=vr(t),a={};if(!e||0===e.length)return n;for(var i in n)if(_t()(e).call(e,i)<0){var r=n[i],s=r.playerId,o=r.photo,c=r.score,l=r.rank,u=r.name;a[i]={playerId:s,photo:o,score:c,rank:l,name:u}}return a},n.updateScore=function(){var e=this.storage.getState(),t=ls(e),n=t.score,a=t.bestScore;void 0===n&&void 0===a&&(n=cs(e)[this.player.getPlayerId()].score,a=this.player.getBestScore());this.bestScore=a<this.bestScore?this.bestScore:a,this.currentScore=n,this.main.infoBlock.updateData({bestScore:this.bestScore,currentScore:this.currentScore})},n.createMain=function(){this.bestScore=0,this.main=new oc(this),this.main.setVisible(!1).setScale(0).setAlpha(0),this.main.infoBlock.buttonPlay.onClick=this.handlePlay,this.main.infoBlock.buttonShare.onClick=this.handleShare,this.main.infoBlock.buttonClose.onClick=this.handlePlay,Phaser.Display.Align.In.Center(this.main,this.gameZone)},n.createLeadersBar=function(){this.leadersBar=new Bo(this),Phaser.Display.Align.In.Center(this.leadersBar,this.gameZone,0,165)},n.updateLeaderBar=function(e){var t={playerId:this.player.getPlayerId(),leaders:[]};for(var n in e){if(t.leaders.length>=3)break;var a=e[n],i=a.playerId,r=a.photo,s=a.score,o=a.rank,c=a.name;this.isLeadersHasItem(t.leaders,i)||t.leaders.push({playerId:i,photo:r,score:s,rank:o,name:c})}this.isLeadersHasItem(t.leaders,qa.Z.ICON_EARTH.KEY)||t.leaders.push({playerId:qa.Z.ICON_EARTH.KEY,photo:qa.Z.ICON_EARTH.FILE,rank:4,score:-1,name:""}),this.leadersBar.updateInfo(t)},n.isLeadersHasItem=function(e,t){if(!e||0===e.length)return!1;var n=fe()(e).call(e,(function(e){return e.playerId===t}));return n&&n.length>0},n.createBestScoreScreen=function(){this.screen.add(Ri.o4.BEST_SCORE_SCREEN,kc)},n.createResultScreen=function(){this.screen.add(Ri.o4.RESULT_SCREEN,Hc)},n.createConfettiSmallAnimation=function(){this.confettiLeftEffect=new Pi(this,{speedX:{min:-20,max:100},rotate:{start:-1080,end:0}}),this.confettiRightEffect=new Pi(this,{speedX:{min:20,max:-100},rotate:{start:0,end:1080}}),this.confettiLeftEffect.setDepth(yi.Z.ON_TOP),this.confettiRightEffect.setDepth(yi.Z.ON_TOP)},n.showMainBlock=function(){this.main.setVisible(!0),this.main.animShow.play()},n.postSessionScore=function(){var e=this.storage.getState(),t=ls(e).score,n=void 0===t?0:t;this.storage.dispatch(Yr(n))},n.update=function(){},t}(mo.Z);var jc=zc,qc=n(190),Jc=n.n(qc),Qc=Math.sin,$c=Math.cos,el=function(e,t,n){return e*$c(t)*n},tl=function(e,t,n,a){return void 0===a&&(a=10),e*Qc(t)*n-.5*a*Math.pow(n,2)},nl=Oi.Z.GAMEPLAY,al=nl.KEY,il=nl.FRAME,rl=function(e){function t(t,n){var a;return(a=e.call(this,t,n.x+(n.padding||0),n.y+(n.padding||0),al,il.GEM)||this).scene=void 0,a.canCapture={direction:"bottom",angle:0},a.woodenEffect=void 0,a.status=void 0,a.rateShaking=1,a.imageGameOver=void 0,a.tweenImageGameOver=void 0,a.t0=0,a.x0=void 0,a.y0=void 0,a.v0=void 0,a.alpha0=void 0,a.scale0=void 0,a.maxScale0=void 0,a.scaleRate0=void 0,a.imageBreak=void 0,a.setWorldSize(n.width,n.height),a.x0=n.x+(n.padding||0),a.y0=n.y+(n.padding||0),a.scale0=a.scale,a.scene=t,a.createImageBreak(),a.createImageGameOver(),a.createTweenImageGameOver(),t.add.existing((0,_i.Z)(a)),a}(0,o.Z)(t,e);var n=t.prototype;return n.createImageBreak=function(){this.imageBreak=this.scene.make.image({key:al,frame:il.GEM}),this.imageBreak.setDepth(yi.Z.ON_TOP),this.imageBreak.setVisible(!1),this.imageBreak.setScale(this.scale),this.imageBreak.setPosition(this.x,this.y)},n.isShaking=function(){return"SHAKING"===this.status},n.playAnimShaking=function(){this.status="SHAKING"},n.playTweenBreaking=function(){this.status="BREAKING"},n.setRateShaking=function(e){this.rateShaking=e},n.stopAnimShaking=function(){this.rotation=0,this.status=""},n.resetImageBreak=function(){this.imageBreak.x=this.x0,this.imageBreak.y=this.y0,this.imageBreak.rotation=0,this.imageBreak.scale=this.scale0,this.imageBreak.setVisible(!1)},n.hideImageGameOver=function(){this.imageGameOver.setVisible(!1)},n.preUpdate=function(){if("SHAKING"===this.status)this.rotation+=.015*this.rateShaking,this.rotation>.1&&(this.rateShaking=-1),this.rotation<-.1&&(this.rateShaking=1)},n.handleTweenBreaking=function(){var e=this.alpha0<90?1:-1;this.t0+=3e3/1900;var t=.016*this.t0,n=el(this.v0,this.alpha0,t),a=tl(this.v0,this.alpha0,t);this.imageBreak.x=this.x0+n,this.imageBreak.y=this.y0-a,this.imageBreak.rotation+=.04*e,this.imageBreak.scale>.4?this.imageBreak.scale-=this.scale0:this.imageBreak.scale=.4;var i=this.scene.gameZone,r=i.width,s=i.height;(this.imageBreak.x-this.imageBreak.displayWidth/2<0||this.imageBreak.x+this.imageBreak.displayWidth/2>r||this.imageBreak.y-this.imageBreak.displayHeight/2>s)&&(this.status="")},n.createImageGameOver=function(){this.imageGameOver=this.scene.make.image({key:al,frame:il.GEM_SILVER}),this.imageGameOver.setDepth(this.depth+1),this.imageGameOver.setVisible(!1),this.imageGameOver.setScale(this.scale0),this.imageGameOver.setPosition(this.x,this.y)},n.createTweenImageGameOver=function(){this.tweenImageGameOver=this.scene.add.tween({targets:[this.imageGameOver],duration:1200,ease:Phaser.Math.Easing.Quadratic.InOut,alpha:{from:0,to:1,start:0},paused:!0})},n.playAnimImageGameOver=function(){this.imageGameOver.setVisible(!0).setAlpha(0),this.tweenImageGameOver.play()},t}(Phaser.GameObjects.Image),sl=rl,ol=n(119),cl=n.n(ol),ll=[1,3,5,8,13,21,34,55,89,144,233,277,610,887],ul=[{minCol:0,minRow:0,cols:4,rows:4},{minCol:4,minRow:0,cols:4,rows:4},{minCol:0,minRow:4,cols:4,rows:4},{minCol:4,minRow:4,cols:4,rows:4}],hl=[{minCol:0,minRow:0,cols:5,rows:5},{minCol:3,minRow:0,cols:5,rows:5},{minCol:0,minRow:3,cols:5,rows:5},{minCol:3,minRow:3,cols:5,rows:5}],dl="vertical",pl="horizontal",El="left",fl="right",Sl="top",Al="bottom",ml="vertical_left",gl="vertical_right",Tl="horizontal_left",vl="horizontal_right",yl="gem/gem",Il="gem/gem",Ol="gem/gem",Rl="gem/gem",Cl="gem/gem",_l="gem/gem",bl="gem/gem",Nl="gem/gem",Dl="gem/gem",wl=[{level:1,frames:[],width:480,height:189},{level:2,frames:[Oi.Z.EFFECTS.FRAME.TEXT_COOL],width:480,height:189},{level:3,frames:[Oi.Z.EFFECTS.FRAME.TEXT_GOOD],width:579,height:189},{level:4,frames:[Oi.Z.EFFECTS.FRAME.TEXT_EXCELLENT],width:906,height:189},{level:5,frames:[Oi.Z.EFFECTS.FRAME.TEXT_EXCELLENT],width:906,height:189},{level:6,frames:[Oi.Z.EFFECTS.FRAME.TEXT_EXCELLENT],width:906,height:189}],Pl=[{level:1,scale:.5,speed:.5,quantity:.5},{level:2,scale:.6,speed:.6,quantity:.6},{level:3,scale:.7,speed:.7,quantity:.7},{level:4,scale:.8,speed:.8,quantity:.8},{level:5,scale:.9,speed:.9,quantity:.9},{level:6,scale:1,speed:1,quantity:1}],Ll="l",xl="l_1",Ml="l_3",kl="line_2",Gl="line_3",Bl="line_4",Ul="line_5",Fl="square_1",Hl="square_2",Yl="square_3",Wl="trapezoid",Vl="triangle",Zl=[Ll,xl,Ml,kl,Gl,Bl,Ul,Fl,Hl,Yl,Vl,Wl],Kl=[{type:Ll,rate:1},{type:xl,rate:1},{type:Ml,rate:1},{type:kl,rate:4},{type:Gl,rate:4},{type:Bl,rate:4},{type:Ul,rate:2},{type:Fl,rate:4},{type:Hl,rate:4},{type:Yl,rate:2},{type:Vl,rate:1},{type:Wl,rate:1}],Xl=[[1,0],[1,0],[1,1]],zl=[[0,1],[0,1],[1,1]],jl=[[1,0],[1,1]],ql=[[1,0,0],[1,0,0],[1,1,1]],Jl=[[1,1,1],[1,0,0]],Ql=[[1,1,1],[0,0,1]],$l=[[1,1],[1,0]],eu=[[1,1,1],[1,0,0],[1,0,0]],tu=[[1,1],[0,1],[0,1]],nu=[[1,1],[1,0],[1,0]],au=[[1,1],[0,1]],iu=[[1,1,1],[0,0,1],[0,0,1]],ru=[[0,0,1],[1,1,1]],su=[[1,0,0],[1,1,1]],ou=[[0,1],[1,1]],cu=[[0,0,1],[0,0,1],[1,1,1]],lu=[[1],[1]],uu=[[1,1]],hu=[[1],[1],[1]],du=[[1,1,1]],pu=[[1],[1],[1],[1]],Eu=[[1,1,1,1]],fu=[[1],[1],[1],[1],[1]],Su=[[1,1,1,1,1]],Au=[[1]],mu=[[1,1],[1,1]],gu=[[1,1,1],[1,1,1],[1,1,1]],Tu=[[1,0],[1,1],[0,1]],vu=[[0,1],[1,1],[1,0]],yu=[[1,1,0],[0,1,1]],Iu=[[0,1,1],[1,1,0]],Ou=[[0,1],[1,1],[0,1]],Ru=[[1,0],[1,1],[1,0]],Cu=[[0,1,0],[1,1,1]],_u=[[1,1,1],[0,1,0]],bu=GameCore.Configs.Board,Nu=(bu.cols,bu.rows),Du=void 0===Nu?8:Nu,wu=function(e){for(var t=[],n=e.length,a=e[0].length,i=[],r=[],s=function(n){for(var r=!0,s=0;s<a;s++)0===e[n][s].value&&(r=!1);if(r){i.push(n);for(var o=function(e){t.some((function(t){return t.x===e&&t.y===n}))||t.push({x:e,y:n})},c=0;c<a;c++)o(c)}},o=0;o<n;o++)s(o);for(var c=function(a){for(var i=!0,s=0;s<n;s++)0===e[s][a].value&&(i=!1);if(i){r.push(a);for(var o=function(e){t.some((function(t){return t.x===a&&t.y===e}))||t.push({x:a,y:e})},c=0;c<n;c++)o(c)}},l=0;l<a;l++)c(l);return t},Pu=function(e,t){var n=e.length,a=e[0].length;if(0===t.length)return!1;for(var i=0;i<n;i++)for(var r=0;r<a;r++)for(var s=0;s<t.length;s++)if(Lu(e,r,i,t[s]))return!1;return!0},Lu=function(e,t,n,a){for(var i=!0,r=0;r<a.data.length;r++)for(var s=0;s<a.data[r].length;s++)a.data[r][s].texture&&(e[n+r]&&e[n+r][t+s]&&0===e[n+r][t+s].value||(i=!1));return i},xu=function(e,t){for(var n=e.length,a=e[0].length,i=0;i<n;i++)for(var r=0;r<a;r++)if(Lu(e,r,i,t))return!0;return!1},Mu=function(e){var t=e;switch(e){case yl:t="b";break;case Il:t="c";break;case Ol:t="d";break;case Rl:t="g";break;case Cl:t="o";break;case _l:t="p";break;case bl:t="q";break;case Nl:t="r";break;case Dl:t="y";break;case Ll:t="l";break;case xl:t="l1";break;case Ml:t="l3";break;case kl:t="e2";break;case Gl:t="e3";break;case Bl:t="e4";break;case Ul:t="e5";break;case Fl:t="s1";break;case Hl:t="s2";break;case Yl:t="s3";break;case Wl:t="tz";break;case Vl:t="ta";break;case Sl:t="dt";break;case El:t="dl";break;case fl:t="dr";break;case Al:t="db";break;case dl:t="v";break;case pl:t="h";break;case ml:t="vl";break;case gl:t="vr";break;case Tl:t="hl";break;case vl:t="hr"}return t},ku=function(e){var t=e;switch(e){case"b":t=yl;break;case"c":t=Il;break;case"d":t=Ol;break;case"g":t=Rl;break;case"o":t=Cl;break;case"p":t=_l;break;case"q":t=bl;break;case"r":t=Nl;break;case"y":t=Dl;break;case"l":t=Ll;break;case"l1":t=xl;break;case"l3":t=Ml;break;case"e2":t=kl;break;case"e3":t=Gl;break;case"e4":t=Bl;break;case"e5":t=Ul;break;case"s1":t=Fl;break;case"s2":t=Hl;break;case"s3":t=Yl;break;case"tz":t=Wl;break;case"ta":t=Vl;break;case"dt":t=Sl;break;case"dl":t=El;break;case"dr":t=fl;break;case"db":t=Al;break;case"v":t=dl;break;case"h":t=pl;break;case"vl":t=ml;break;case"vr":t=gl;break;case"hl":t=Tl;break;case"hr":t=vl}return t},Gu=function(e){for(var t=[],n="1234567x",a=e.split(""),i=0;i<a.length;i++)if(_t()(n).call(n,a[i])>=0)for(var r="x"===a[i]?Du:Number(a[i]),s=0;s<r;s++)t.push({value:0,frame:"gem/gem_transparent"});else t.push({value:1,frame:ku(a[i])});return t},Bu=function(e){var t=e.split(","),n=t[0].split("-");if(n.length<=0)throw new Error("Invalid piece");return{type:ku(n[0]),direction:ku(n[1])||null,isReverse:n[2]&&"r"===n[2]||!1,frame:ku(t[1])}},Uu=function(){function e(e){this.angle=void 0,this.scene=void 0,this.scaleUpTween=void 0,this.breakingTween=void 0,this.breakingDelay=50,this.captureCells=void 0,this.timerEventRemoveCaptureCells=void 0,this.scene=e,this.init()}var t=e.prototype;return t.init=function(){this.createTweenBreaking(),this.createScaleUpTween()},t.handleShowEffect=function(e){var t=this;e&&0!==e.length&&(this.removeCaptureCell(),this.captureCells=e,this.setValueCaptureCell(),this.breakingTween.resetTweenData(!1),this.scaleUpTween.restart(),this.breakingTween.restart(),this.timerEventRemoveCaptureCells&&this.timerEventRemoveCaptureCells.remove(),this.timerEventRemoveCaptureCells=this.scene.time.addEvent({delay:500,callback:function(){t.breakingTween.isPlaying()||t.removeCaptureCell()}}))},t.onCaptureCellComplete=function(){if(this.captureCells&&this.scene.main&&this.scene.main.board)for(var e=this.scene.main.board.dataBoard,t=0;t<this.captureCells.length;t++){var n=this.captureCells[t],a=n.x;e[n.y][a].cell.resetImageBreak()}},t.removeCaptureCell=function(){var e=this.scene.main.board.dataBoard;if(this.captureCells)for(var t=0;t<this.captureCells.length;t++){var n=this.captureCells[t],a=n.x;e[n.y][a].cell.resetImageBreak()}},t.setValueCaptureCell=function(){for(var e=this.scene.main.board.dataBoard,t=1/this.scene.world.getPixelRatio(),n=Math.round(80*(1+this.captureCells.length/8*.05)),a=0;a<this.captureCells.length;a++){var i=Phaser.Math.Between(50,n),r=Phaser.Math.Between(82,98)*Math.PI/180,s=Phaser.Math.Between(3,10)/1e3*t,o=this.captureCells[a],c=o.x,l=e[o.y][c].cell;l.maxScale0=.4*t,l.imageBreak.setVisible(!0),l.v0=i,l.alpha0=r,l.scaleRate0=s}},t.createTweenBreaking=function(){var e=this;this.breakingTween=this.scene.tweens.addCounter({from:0,to:3e3,onUpdate:function(t){if(e.captureCells)for(var n=e.scene.main.board.dataBoard,a=0;a<e.captureCells.length;a++){e.angle=Phaser.Math.Between(-15,15);var i=e.captureCells[a],r=i.x,s=n[i.y][r].cell,o=s.imageBreak,c=s.maxScale0,l=s.alpha0<1.57?1:-1,u=.016*t.getValue(),h=el(s.v0,s.alpha0,u),d=tl(s.v0,s.alpha0,u);o.setVisible(!0),o.x=s.x0+h,o.y=s.y0+-d,o.rotation+=.04*l,o.scale>c?o.scale-=s.scaleRate0:o.scale=c}},onComplete:function(){},delay:this.breakingDelay,duration:3e3}).stop()},t.createScaleUpTween=function(){var e=this,t=1/this.scene.world.getPixelRatio();this.scaleUpTween=this.scene.tweens.addCounter({from:0,to:1,onUpdate:function(){if(e.captureCells)for(var n=e.scene.main.board.dataBoard,a=0;a<e.captureCells.length;a++){e.angle=Phaser.Math.Between(-15,15);var i=e.captureCells[a],r=i.x,s=n[i.y][r].cell.imageBreak;s.scale+=Phaser.Math.Easing.Sine.In(1.2*t-s.scale)}},ease:Phaser.Math.Easing.Sine.In,duration:50,onComplete:function(){e.scaleUpTween.stop()}}).stop()},e}(),Fu=Uu,Hu=Oi.Z.GAMEPLAY,Yu=Hu.KEY,Wu=Hu.FRAME,Vu=Oi.Z.GAMEPLAY_JPG,Zu=Vu.KEY,Ku=Vu.FRAME,Xu=GameCore.Configs.Board,zu=Xu.cols,ju=Xu.rows,qu=function(e){function t(t,n,a){var i;return(i=e.call(this,t)||this).scene=void 0,i.suggestCells=[],i.pX=void 0,i.pY=void 0,i.borderSize=6,i.cellSize=void 0,i.cellPadding=void 0,i.boardSize=void 0,i.diceSize=void 0,i.dataBoard=[],i.cellsHighlight=[],i.cellSharking=[],i.backgroundTop=void 0,i.backgroundMiddle=void 0,i.backgroundBottom=void 0,i.woodenEffect=void 0,i.footerHeight=void 0,i.headerHeight=void 0,i.mainHeight=void 0,i.canCaptureLines=function(e,t){void 0===t&&(t=5);for(var n=e.length,a=e[0].length,i=[],s=[],o=[],c=0;c<n;c++){for(var l=0,u={x:-1,y:-1},h=0;h<a;h++)0===c&&(o[h]={count:0,x:-1,y:-1}),1===e[c][h].value?(o[h].count++,l++):(u.x=h,u.y=c,o[h].x=h,o[h].y=c);if(l===a-1&&s.push((0,r.Z)({row:c},u)),c===n-1)for(var d=0;d<a;d++)o[d].count===n-1&&i.push((0,r.Z)({col:d},o[d]))}if(s.length>=t)for(var p=0,E={x:-1,y:-1},f=0;f<s.length;f++)if(0!==f){if(s[f].x===E.x&&s[f].y===E.y+1?(E.x=s[f].x,E.y=s[f].y,p++):p=1,p>=t)return{isCapture:!0,direction:"vertical",minLine:t}}else E.x=s[f].x,E.y=s[f].y,p++;if(i.length>=t)for(var S=0,A={x:-1,y:-1},m=0;m<i.length;m++)if(0!==m){if(i[m].x===A.x+1&&i[m].y===A.y?(A.x=i[m].x,A.y=i[m].y,S++):S=1,S>=t)return{isCapture:!0,direction:"horizontal",minLine:t}}else A.x=i[m].x,A.y=i[m].y,S++;return{isCapture:!1,direction:"",minLine:t}},i.scene=t,i.setSize(n,a),i.initSize(),i.woodenEffect=new Fu(i.scene),i.init(),i}(0,o.Z)(t,e);var n=t.prototype;return n.initSize=function(){var e=this.scene.ads.getBannerHeight(),t=this.scene.world.getWorldSize().height;this.footerHeight=e+130,this.headerHeight=96,this.mainHeight=t-this.footerHeight-this.headerHeight,this.mainHeight<336&&(this.mainHeight=336,this.headerHeight=t-this.footerHeight-this.mainHeight)},n.init=function(){this.createMiddleBackground(),this.createTopBackground(),this.createBottomBackground(),this.calcCellLength(),this.initDataBoard()},n.createTopBackground=function(){var e=this.backgroundMiddle,t=e.x,n=e.y,a=e.displayHeight;this.backgroundTop=this.scene.make.image({x:t,y:n-a/2-74.5,key:Zu,frame:Ku.BOARD_TOP_BG}),this.backgroundTop.setWorldSize(375,149)},n.createMiddleBackground=function(){var e=this.headerHeight+this.mainHeight/2;this.backgroundMiddle=this.scene.make.image({x:187.5,y:e,key:Zu,frame:Ku.BOARD_CENTER_BG}),this.backgroundMiddle.setWorldSize(375,336)},n.createBottomBackground=function(){var e=this.backgroundMiddle,t=e.x,n=e.y,a=e.displayHeight;this.backgroundBottom=this.scene.make.image({x:t,y:n+a/2+74.5,key:Zu,frame:Ku.BOARD_BOTTOM_BG}),this.backgroundBottom.setWorldSize(375,149)},n.calcCellLength=function(){this.boardSize=310,this.cellSize=this.boardSize/ju},n.initDataBoard=function(){this.cellPadding=1.5;for(var e=19.5+this.backgroundMiddle.x-this.backgroundMiddle.displayWidth/2+this.cellSize/2+this.borderSize,t=this.backgroundMiddle.y-this.backgroundMiddle.displayHeight/2+this.cellSize/2+this.borderSize,n=0;n<ju;n++){this.dataBoard[n]=[];for(var a=0;a<zu;a++){var i=e+a*this.cellSize+this.cellPadding*a,r=t+n*this.cellSize+this.cellPadding*n,s={x:i,y:r,width:this.cellSize,height:this.cellSize,texture:Yu,frame:Wu.GEM_TRANSPARENT,depth:yi.Z.PIECE-.1,padding:this.cellPadding,isWoodenEffect:!0},o=new sl(this.scene,s);o.setVisible(!1),this.dataBoard[n][a]={x:i,y:r,width:this.cellSize,height:this.cellSize,frame:Wu.GEM_TRANSPARENT,value:0,cell:o}}}},n.handleHighlight=function(e){this.cellsHighlight=e;for(var t=0;t<e.length;t++){var n=e[t],a=n.x,i=n.y;if(this.dataBoard[i]&&this.dataBoard[i][a]&&0===this.dataBoard[i][a].value){var r=this.dataBoard[i][a].cell;this.dataBoard[i][a].frame=Wu.GEM,r.setVisible(!0),r.setFrame(Wu.GEM),r.setAlpha(.7)}}this.canCaptureCells(e)},n.handleCapturePiece=function(e){try{if(!e||e.length<=0)throw new Error("Invalid Capture");this.woodenEffect.handleShowEffect(e);for(var t=0;t<e.length;t++){var n=e[t],a=n.x,i=n.y,r=this.dataBoard[i][a].cell;r.stopAnimShaking(),r.setVisible(!1),this.dataBoard[i][a].frame=Wu.GEM_TRANSPARENT,this.dataBoard[i][a].value=0}}catch(s){}},n.checkPositionCellOnCaptureCell=function(e,t){var n=fe()(t).call(t,(function(t){return t.x===e.x&&t.y===e.y}));return n&&n.length>0},n.handlePraise=function(e,t){if(t&&0!==t.length){for(var n=function(e){var t=Math.ceil(e/8);return 8*ll[t-1]}(t.length),a=t.length>0?Math.ceil(t.length/ju):1,i=[],r=0;r<e.length;r++){var s=e[r];this.checkPositionCellOnCaptureCell(s,t)&&i.push(s)}if(0!==i.length){for(var o=i[0].pX,c=0,l=i[0].pY,u=0,h=0;h<i.length;h++){var d=i[h];d.pX<o&&(o=d.pX),d.pX>c&&(c=d.pX),d.pY<l&&(l=d.pY),d.pY>u&&(u=d.pY)}var p=o+(c-o)/2,E=l+(u-l)/2;this.scene.main.praise.handlePraise(p,E,n,a),this.playEatSound(a)}}},n.playEatSound=function(e){switch(e){case 1:this.scene.audio.playSound(Ci.EAT_ONE);break;case 2:this.scene.audio.playSound(Ci.EAT_TWO),this.scene.audio.playSound(Ci.GOOD);break;case 3:this.scene.audio.playSound(Ci.EAT_THREE),this.scene.audio.playSound(Ci.COOL);break;case 4:this.scene.audio.playSound(Ci.EAT_FOUR),this.scene.audio.playSound(Ci.EXCELLENT);break;case 5:this.scene.audio.playSound(Ci.EAT_FIVE),this.scene.audio.playSound(Ci.EXCELLENT);break;case 6:this.scene.audio.playSound(Ci.EAT_SIX),this.scene.audio.playSound(Ci.EXCELLENT)}},n.handleRemoveHighlight=function(){try{if(!this.cellsHighlight)return;for(var e=0;e<this.cellsHighlight.length;e++){var t=this.cellsHighlight[e],n=t.x,a=t.y;if(this.dataBoard[a]&&this.dataBoard[a][n]&&0===this.dataBoard[a][n].value){var i=this.dataBoard[a][n].cell;this.dataBoard[a][n].frame=Wu.GEM_TRANSPARENT,i.setVisible(!1),i.setFrame(Wu.GEM_TRANSPARENT),i.setAlpha(1)}}this.cellsHighlight=[]}catch(r){}},n.canCaptureCells=function(e){for(var t=this,n=this.dataBoard,a=[],i=0;i<n.length;i++){a[i]=[];for(var s=0;s<n[i].length;s++)a[i][s]=(0,r.Z)({},n[i][s])}for(var o=0;o<e.length;o++){var c=e[o],l=c.x;a[c.y][l].value=1}this.removeAnimCanCaptureCells(a);var u=wu(a);if(!u||u.length<=0)return!1;for(var h=function(){var n=u[d],a=n.x,i=n.y;e.some((function(e){return e.x===a&&e.y===i}))||t.cellSharking.push((0,r.Z)({},u[d]))},d=0;d<u.length;d++)h();for(var p=0;p<this.cellSharking.length;p++){var E=this.cellSharking[p],f=E.x,S=E.y,A=this.dataBoard[S][f].cell;A.isShaking()||(A.setRateShaking(p%2===0?1:-1),A.playAnimShaking())}},n.removeAnimCanCaptureCells=function(e){if(0!==this.cellSharking.length){for(var t=function(e){for(var t=e.length,n=e[0].length,a=[],i=0;i<t;i++){for(var r=!0,s=0;s<n;s++)0===e[i][s].value&&(r=!1);r&&a.push(i)}return a}(e),n=function(e){for(var t=e.length,n=e[0].length,a=[],i=0;i<n;i++){for(var r=!0,s=0;s<t;s++)0===e[s][i].value&&(r=!1);r&&a.push(i)}return a}(e),a=0;a<this.cellSharking.length;a++){var i=this.cellSharking[a],r=i.x,s=i.y,o=this.dataBoard[s][r].cell;-1===_t()(t).call(t,s)&&-1===_t()(n).call(n,r)&&o.stopAnimShaking()}this.cellSharking=[]}},n.removeAllCanCaptureCells=function(){if(0!==this.cellSharking.length){for(var e=0;e<this.cellSharking.length;e++){var t=this.cellSharking[e],n=t.x,a=t.y;this.dataBoard[a][n].cell.stopAnimShaking()}this.cellSharking=[]}},n.handleSuggestMove=function(e){try{this.suggestCells=e;for(var t=0;t<e.length;t++){var n=e[t],a=n.x,i=n.y,r=this.dataBoard[i][a].cell;r.setFrame(Wu.GEM),r.setVisible(!0),r.setAlpha(.4)}}catch(s){}},n.handleRemoveSuggestMove=function(){try{for(var e=0;e<this.suggestCells.length;e++){var t=this.suggestCells[e],n=t.x,a=t.y,i=this.dataBoard[a][n].cell;this.isCellHighlight(i)||(i.setFrame(Wu.GEM_TRANSPARENT),i.setVisible(!1),i.setAlpha(0))}this.suggestCells=[]}catch(r){}},n.handleMove=function(e,t){var n=this;try{for(var a=0;a<e.length;a++){var i=e[a],r=i.x,s=i.y;if(this.dataBoard[s]&&this.dataBoard[s][r]){this.dataBoard[s][r].frame=Wu.GEM,this.dataBoard[s][r].value=1;var o=this.dataBoard[s][r].cell;o.setVisible(!0),o.setFrame(Wu.GEM),o.setAlpha(1)}}var c=wu(this.dataBoard);this.handleCapturePiece(c),this.handlePraise(e,c),t&&t(),this.scene.updateMatchData();var l=this.scene.header.mainScoreBlock.addScore;if(l&&l.isPlaying())return void this.scene.time.delayedCall(500,(function(){n.handleGameOver()}));this.handleGameOver()}catch(u){}},n.handleGameOver=function(){for(var e=[],t=this.scene.footer.pieces.piecesActive,n=this.scene.footer.pieces.allPieces,a=0;a<t.length;a++){var i=t[a],r=i.position;if(!i.used){var s=n[r];e.push({data:s.data,type:s.type,direction:s.direction,isReverse:s.isReverse,frame:s.frame})}}Pu(this.dataBoard,e)&&this.runAnimationGameOver()},n.runAnimationGameOver=function(){var e=this;try{this.scene.audio.playSound(Ci.BOARD_GAME_OVER);for(var t=[],n=0;n<ju;n++)for(var a=0;a<zu;a++)if(this.dataBoard[n]&&this.dataBoard[n][a]&&1===this.dataBoard[n][a].value){var i=Math.floor(1e3*Math.random()+50);t.push({delay:i,x:a,y:n})}ca()(t).call(t,(function(e,t){return e.delay-t.delay}));for(var r=function(){var n=t[s],a=n.delay,i=n.x,r=n.y;e.scene.time.addEvent({delay:a,callback:function(){e.dataBoard[r][i].cell.playAnimImageGameOver()}})},s=0;s<t.length;s++)r();this.scene.time.addEvent({delay:t[t.length-1].delay+100,callback:function(){e.scene.handleRequestFinishGame()}})}catch(o){}},n.rescue=function(){for(var e=0;e<this.dataBoard.length;e++)for(var t=0;t<this.dataBoard[e].length;t++)if(this.dataBoard[e]){var n=this.dataBoard[e][t];n&&1===n.value&&(this.dataBoard[e][t].cell.setFrame(Wu.GEM),this.dataBoard[e][t].cell.hideImageGameOver())}this.handleUseBomb()},n.hasPieceL5=function(){var e=this.scene.footer.pieces.piecesActive;return fe()(e).call(e,(function(e){return e.type===Ul})).length>0},n.handleUseBomb=function(){try{for(var e=this.hasPieceL5(),t=Math.floor(Math.random()*ul.length),n=e?hl[t]:ul[t],a=[],i=n.minRow;i<n.minRow+n.rows;i++)for(var r=n.minCol;r<n.minCol+n.cols;r++)this.dataBoard[i][r].frame!==Wu.GEM_TRANSPARENT&&a.push({x:r,y:i});for(var s=0;s<a.length;s++){var o=a[s],c=o.x,l=o.y,u=this.dataBoard[l][c];u.frame=Wu.GEM_TRANSPARENT,u.value=0,u.cell.setFrame(Wu.GEM_TRANSPARENT),u.cell.setVisible(!1)}this.woodenEffect.handleShowEffect(a),this.scene.footer.pieces.setActivePieces(),this.scene.updateMatchData()}catch(h){}},n.getBoardByFen=function(e){try{var t=[],n=e.split(" ");if(n.length<2)throw new Error("Invalid fen");for(var a=n[0].split("/"),i=a.length,r=0;r<i;r++){t[r]=[];for(var s=Gu(a[r]),o=0;o<s.length;o++)t[r][o]=s[o]}return t}catch(c){return this.clearBoard(),this.dataBoard}},n.getFenByBoard=function(){for(var e="",t=0;t<ju;t++){for(var n=0,a="",i=0;i<zu;i++){if(0===this.dataBoard[t][i].value&&n++,1===this.dataBoard[t][i].value)n>0&&(a+=n>=ju?"x":""+n,n=0),a+=""+Mu(this.dataBoard[t][i].frame);i===this.dataBoard[t].length-1&&n>0&&(a+=n>=ju?"x":""+n)}e+=t===this.dataBoard.length-1?""+a:a+"/"}return e},n.startGame=function(e){if(e)for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++){var a=e[t][n],i=a.value,r=a.frame,s=this.dataBoard[t][n];1===i&&(s.value=1,s.frame=r,s.cell.setFrame(Wu.GEM),s.cell.setVisible(!0))}},n.clearBoard=function(){for(var e=0;e<ju;e++)for(var t=0;t<zu;t++){var n=this.dataBoard[e][t];n.value=0,n.frame=Wu.GEM_TRANSPARENT,n.cell.setFrame(Wu.GEM_TRANSPARENT),n.cell.setVisible(!1),n.cell.hideImageGameOver()}},n.isCellHighlight=function(e){var t,n=fe()(t=this.cellsHighlight).call(t,(function(t){return t.x===e.x&&t.y&&e.y}));return!!(n&&n.length>0)},t}(Phaser.GameObjects.Container),Ju=function(){var e=GameCore.Utils.Device,t=window.navigator.vibrate;return e.isAndroid()&&"function"===typeof t||e.isMobileWeb()&&"function"===typeof t},Qu=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.round(t/80),a=0,i=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FBInstant.performHapticFeedbackAsync();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();case 3:if(!(a<n)){e.next=11;break}return r=i(),o=(0,Hi.qZ)(80),a+=1,e.next=9,l().all([r,o]);case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$u=function(e){window.navigator.vibrate(0),window.navigator.vibrate(e)},eh=function(e){try{if(!Ju())return!1;var t=GameCore.Utils.Device;t.isAndroid()||t.isMobileWeb()?$u(e):t.isIOS()&&Qu(e).catch((function(e){}))}catch(n){}},th=GameCore.Configs.Gameplay.VibrateValue,nh=Oi.Z.EFFECTS,ah=nh.KEY,ih=nh.FRAME,rh=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.listScore=[],n.score=void 0,n.startX=void 0,n.startY=void 0,n.scoreText=void 0,n.tweenShowScoreText=void 0,n.tweenHideScoreText=void 0,n.tweenShowPraiseFrame=void 0,n.tweenHidePraiseFrame=void 0,n.praiseFrame=void 0,n.praiseScoreText=void 0,n.particle=void 0,n.emitter=void 0,n.scene=t,t.add.existing((0,_i.Z)(n)),n.setVisible(!1).setAlpha(0),n.init(),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.createScoreText(),this.createTweenScoreText(),this.createPraiseFrame(),this.createPraiseScoreText(),this.createParticle(),this.createEmitter()},n.createParticle=function(){this.particle=this.scene.add.particles(ah),this.particle.setDepth(yi.Z.ON_TOP+1)},n.createEmitter=function(){this.emitter=this.particle.createEmitter({x:0,y:0,scale:{start:.05,end:.2},speed:{min:20,max:70},lifespan:{min:500,max:1e3},quantity:20,on:!1,tint:[16441092,16422659],frame:ih.FX_STAR,delay:350})},n.createScoreText=function(){this.scoreText=this.scene.make.bitmapText({font:Jo.Z.NUMBER_GOLD.KEY,size:this.scene.fontSize(100),text:"+0",origin:{x:.5,y:.5}}),this.scoreText.setScale(0).setAlpha(0),this.scoreText.setDepth(yi.Z.ON_TOP),this.scoreText.setVisible(!1)},n.createTweenScoreText=function(){var e,t=this,n=this.scene.storage.getState(),a=Nr(n),i=265;_t()(e=[ei,$a,ti]).call(e,a)>=0&&(i=105),this.tweenShowScoreText=this.scene.tweens.add({paused:!0,targets:this.scoreText,scale:{from:0,to:1},alpha:{from:0,to:1},duration:300,onComplete:function(){t.tweenHideScoreText=t.scene.tweens.add({targets:t.scoreText,scale:{from:1,to:.5},alpha:{from:1,to:.5},x:i,y:65,delay:1e3,duration:300,onComplete:function(){t.scoreText.setVisible(!1),t.scoreText.setAlpha(0),t.scoreText.setScale(0),t.scene.handleAddScoreAnim(t.score||0)}})}})},n.playAnimShowScoreText=function(){if(this.tweenHideScoreText&&this.tweenHideScoreText.isPlaying()){var e;this.tweenHideScoreText.stop(),this.scoreText.setPosition(this.startX,this.startY);var t=this.scene.storage.getState(),n=Nr(t),a=0;n===Qa?(a=this.scene.header.mainScoreBlock.score,this.scene.header.mainScoreBlock.setScore(a+(this.score||0)),this.scene.header.mainScoreBlock.setScoreText(a+(this.score||0))):_t()(e=[ei,$a,ti]).call(e,n)>=0&&(a=this.scene.header.myScoreBlock.score,this.scene.header.myScoreBlock.setScore(a+(this.score||0)),this.scene.header.myScoreBlock.setScoreText(a+(this.score||0)))}this.score=this.listScore.shift()||0,this.scene.handleUpdateScore(this.score),this.scoreText.setScale(0).setAlpha(0).setVisible(!0),this.tweenShowScoreText.play()},n.createPraiseFrame=function(){this.praiseFrame=this.scene.make.image({x:0,y:0,key:ah}),this.praiseFrame.setScale(0),this.praiseFrame.setAlpha(0),this.praiseFrame.setDepth(yi.Z.ON_TOP),this.praiseFrame.setVisible(!1)},n.createTweenPraiseFrame=function(){var e=this;if(!this.tweenShowPraiseFrame||!this.tweenHidePraiseFrame){var t=this.praiseFrame.scale;this.tweenShowPraiseFrame=this.scene.tweens.add({paused:!0,targets:this.praiseFrame,scale:{from:0,to:t},alpha:{from:0,to:1},duration:300,delay:100,ease:Phaser.Math.Easing.Back.Out,onComplete:function(){e.tweenHidePraiseFrame.play()}}),this.tweenHidePraiseFrame=this.scene.tweens.add({paused:!0,targets:this.praiseFrame,scale:{from:t,to:0},alpha:{from:1,to:0},duration:300,delay:1e3,onComplete:function(){e.praiseFrame.setScale(0),e.praiseFrame.setAlpha(0),e.praiseFrame.setVisible(!1)}})}},n.playAnimShowPraiseFrame=function(){this.createTweenPraiseFrame(),(this.tweenShowPraiseFrame.isPlaying()||this.tweenHidePraiseFrame.isPlaying())&&(this.tweenShowPraiseFrame.resetTweenData(!1),this.tweenHidePraiseFrame.resetTweenData(!1)),this.praiseFrame.setScale(0).setAlpha(0).setVisible(!0),this.tweenShowPraiseFrame.play()},n.createPraiseScoreText=function(){this.praiseScoreText=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(30),origin:{x:.5,y:.5}}),this.praiseScoreText.setDepth(yi.Z.ON_TOP),this.add(this.praiseScoreText),Phaser.Display.Align.In.Center(this.praiseScoreText,this,0,20)},n.handlePraise=function(e,t,n,a){this.startX=e,this.startY=t+15,this.listScore.push(n);var i=e-10;this.scoreText.setPosition(i,t+15),this.scoreText.setText("+"+n),i-this.scoreText.fontSize/2<0&&(i+=this.scoreText.fontSize/2,this.scoreText.setPosition(i,t+15)),this.playAnimShowScoreText(),this.handlePraiseFrameText(e,t,a);var r=this.getVibrateByLevel(a);this.scene.player.getPlayerSettings().vibrate&&eh(r),a<=1||this.changeExplode(i,t,a)},n.getVibrateByLevel=function(e){return th[e]||0},n.changeExplode=function(e,t,n){var a=this.getExplodeByLevel(n);a&&(this.emitter.setScale({start:.05*a.scale,end:.2*a.scale}),this.emitter.setSpeed({min:30*a.speed,max:80*a.speed}),this.emitter.setQuantity(20*a.quantity)),this.emitter.explode(20*a.quantity,e,t)},n.handlePraiseFrameText=function(e,t,n){var a=this.scene.world.getPixelRatio(),i=this.getMainFrameByLevel(n);if(i){this.praiseFrame.setFrame(i);var r=this.praiseFrame,s=r.width,o=r.height;this.praiseFrame.setWorldSize(s/a,o/a);var c=this.praiseFrame.displayWidth,l=e,u=this.scene.gameZone.width;l=e-c/2<0?c/2+5:e+c/2>u?u-c/2-5:e,this.praiseFrame.setPosition(l,t-40),this.playAnimShowPraiseFrame()}},n.getExplodeByLevel=function(e){return Pl[e-1]||Pl[0]||null},n.getMainFrameByLevel=function(e){var t=wl[e-1]||wl[0];return Phaser.Utils.Array.GetRandom(t.frames)},n.reset=function(){this.createTweenScoreText()},t}(Phaser.GameObjects.Container),sh=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.board=void 0,n.praise=void 0,n.scene=t,t.add.existing((0,_i.Z)(n)),n.init(),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.createBoard(),this.createPraise()},n.createBoard=function(){this.board=new qu(this.scene,375,336),this.board.setPosition(0,25)},n.createPraise=function(){this.praise=new rh(this.scene)},n.getHeaderHeight=function(){return this.board.headerHeight},t}(Phaser.GameObjects.Container),oh=sh,ch=Oi.Z.GAMEPLAY,lh=ch.KEY,uh=ch.FRAME,hh=function(e){function t(t){var n;return(n=e.call(this,t)||this).titleSprite=void 0,n.background=void 0,n.textScore=void 0,n.avatar=void 0,n.score=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.initScoreBlockTitle=function(){this.createTitleSprite(),this.createBackgroundScore(),this.createScoreText(),this.setScore(0),this.setScoreText(0)},n.initScoreBlockAvatar=function(){this.createAvatar(),this.createBackgroundScore(),this.createScoreText(),this.setScore(0),this.setScoreText(0)},n.createTitleSprite=function(){var e=this.scene.world.getPixelRatio();this.titleSprite=this.scene.make.image({key:lh,frame:uh.TEXT_SCORE});var t=this.titleSprite,n=t.width,a=t.height;this.titleSprite.setWorldSize(n/e,a/e),this.add(this.titleSprite),Phaser.Display.Align.In.Center(this.titleSprite,this)},n.createAvatar=function(){this.avatar=new Ro(this.scene,{key:lh,frame:uh.AVATAR_BORDER,background:uh.AVATAR_BACKGROUND,width:37.5,height:37.5,radius:37.5,borderWidth:5}),this.add(this.avatar),Phaser.Display.Align.In.Center(this.avatar,this,0,-7)},n.createBackgroundScore=function(){this.background=this.scene.make.image({key:lh,frame:uh.BG_SCORE}),this.background.setWorldSize(80,20),this.add(this.background),Phaser.Display.Align.In.Center(this.background,this,0,25)},n.createScoreText=function(){this.textScore=this.scene.make.bitmapText({font:Jo.Z.NUMBER_GOLD.KEY,size:this.scene.fontSize(70),text:"0",origin:{x:.5,y:.5}}),this.add(this.textScore),Phaser.Display.Align.In.Center(this.textScore,this.background,0,6)},n.setScore=function(e){this.score=e},n.setScoreText=function(e){this.textScore.setText(String(e))},t}(Phaser.GameObjects.Container),dh=hh,ph=Oi.Z.GAMEPLAY.FRAME,Eh=function(e){function t(t){var n;return(n=e.call(this,t)||this).title=void 0,n.bestScoreText=void 0,n.tweenShow=void 0,n.tweenHide=void 0,n.initScoreBlockTitle(),n.scene.add.existing((0,_i.Z)(n)),n.updateTextFrame(),n}return(0,o.Z)(t,e),t.prototype.updateTextFrame=function(){var e=this.scene.world.getPixelRatio();this.titleSprite.setFrame(ph.TEXT_BEST);var t=this.titleSprite,n=t.width,a=t.height;this.titleSprite.setWorldSize(n/e,a/e)},t}(dh),fh=Eh,Sh=Oi.Z.GAMEPLAY.FRAME,Ah=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.title=void 0,n.bestScoreText=void 0,n.tweenShow=void 0,n.tweenHide=void 0,n.addScore=void 0,n.scene=t,n.initScoreBlockTitle(),n.scene.add.existing((0,_i.Z)(n)),n.updateTextFrame(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateTextFrame=function(){var e=this.scene.world.getPixelRatio();this.titleSprite.setFrame(Sh.TEXT_SCORE);var t=this.titleSprite,n=t.width,a=t.height;this.titleSprite.setWorldSize(n/e,a/e)},n.animAddScore=function(e){var t=this;if(this.addScore&&this.addScore.isPlaying()){this.addScore.stop();var n=this.score+e;this.setScore(n),this.setScoreText(n)}this.addScore=this.scene.tweens.addCounter({from:0,to:e,duration:500,onUpdate:function(e){var n=t.score+Math.floor(e.getValue());t.setScoreText(n)},onComplete:function(){var n=t.score+e;t.setScore(n),t.setScoreText(n),t.scene.tutorialManager.isRunning()&&t.scene.tutorialManager.nextTutorial()}})},t}(dh),mh=Ah,gh=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.addScore=void 0,n.scene=t,n.initScoreBlockAvatar(),n.scene.add.existing((0,_i.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(){var e=this.scene.player.getPlayer(),t=e.playerId,n=e.photo;this.avatar.loadPhoto(t,n)},n.animAddScore=function(e){var t=this;if(this.addScore&&this.addScore.isPlaying()){this.addScore.stop();var n=this.score+e;this.setScore(n),this.setScoreText(n)}this.addScore=this.scene.tweens.addCounter({from:0,to:e,duration:1e3,onUpdate:function(e){var n=t.score+Math.floor(e.getValue());t.setScoreText(n)},onComplete:function(){var n=t.score+e;t.setScore(n),t.setScoreText(n),t.scene.handleUpdateScore(n)}})},t}(dh),Th=gh,vh=function(e){function t(t){var n;return(n=e.call(this,t)||this).initScoreBlockAvatar(),n.scene.add.existing((0,_i.Z)(n)),n}return(0,o.Z)(t,e),t.prototype.updateInfo=function(){var e=this.scene.storage.getState(),t=cs(e),n=as(e),a=n.playerId,i=n.photo,r=(t[a]||{}).score,s=void 0===r?0:r;this.textScore.setText(String(s)),this.avatar.loadPhoto(a,i)},t}(dh),yh=vh,Ih=Oi.Z.GAMEPLAY,Oh=Ih.KEY,Rh=Ih.FRAME,Ch=Oi.Z.GAMEPLAY_JPG,_h=Ch.KEY,bh=Ch.FRAME,Nh=function(e){function t(t){var n;(n=e.call(this,t)||this).scene=void 0,n.buttonSetting=void 0,n.bestScoreBlock=void 0,n.mainScoreBlock=void 0,n.myScoreBlock=void 0,n.opponentScoreBlock=void 0,n.icon=void 0,n.defaultHeight=96,n.deltaY=void 0,n.scene=t;var a=Math.min(n.scene.main.getHeaderHeight(),n.defaultHeight);return n.deltaY=a-n.defaultHeight,t.add.existing((0,_i.Z)(n)),n.createBackground(),n.createBottomBackground(),n.createIcon(),n.createBestScoreBlock(),n.createMainScoreBlock(),n.createMyScoreBlock(),n.createOpponentScoreBlock(),n.createSettingButton(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){var e=this.scene.make.image({x:0,y:0,key:_h,frame:bh.PANEL_TOP_1});e.setWorldSize(375,50),this.add(e),Phaser.Display.Align.In.Center(e,this,0,25+this.deltaY)},n.createBottomBackground=function(){var e=this.scene.make.image({x:0,y:0,key:Oh,frame:Rh.PANEL_TOP_2});e.setWorldSize(375,48),this.add(e),Phaser.Display.Align.In.Center(e,this,0,74+this.deltaY)},n.createIcon=function(){this.icon=this.scene.make.image({x:0,y:0,key:Oh,frame:Rh.ICON_CUP}),this.icon.setWorldSize(39,36),this.add(this.icon),Phaser.Display.Align.In.Center(this.icon,this,0,60+this.deltaY)},n.createBestScoreBlock=function(){this.bestScoreBlock=new fh(this.scene),this.add(this.bestScoreBlock),Phaser.Display.Align.In.LeftCenter(this.bestScoreBlock,this,83,40+this.deltaY)},n.createMainScoreBlock=function(){this.mainScoreBlock=new mh(this.scene),this.add(this.mainScoreBlock),Phaser.Display.Align.In.RightCenter(this.mainScoreBlock,this,83,40+this.deltaY)},n.createMyScoreBlock=function(){this.myScoreBlock=new Th(this.scene),this.myScoreBlock.setVisible(!1),this.add(this.myScoreBlock),Phaser.Display.Align.In.LeftCenter(this.myScoreBlock,this,83,45+this.deltaY)},n.createOpponentScoreBlock=function(){this.opponentScoreBlock=new yh(this.scene),this.opponentScoreBlock.setVisible(!1),this.add(this.opponentScoreBlock),Phaser.Display.Align.In.RightCenter(this.opponentScoreBlock,this,83,45+this.deltaY)},n.createSettingButton=function(){this.buttonSetting=new qo(this.scene,Oh,Rh.ICON_PAUSE,42,42),this.buttonSetting.setName("Setting"),this.add(this.buttonSetting),Phaser.Display.Align.In.LeftCenter(this.buttonSetting,this,175,55+this.deltaY)},n.setIconCup=function(){this.icon.setFrame(Rh.ICON_CUP),this.icon.setWorldSize(39,36)},n.setIconBattle=function(){this.icon.setFrame(Rh.ICON_BATTLE),this.icon.setWorldSize(35.5,37)},t}(Phaser.GameObjects.Container),Dh=Nh,wh=function(){var e,t=window.game.facebook;return t?(null==(e=t.platform)?void 0:e.toLowerCase())||"":null},Ph=Oi.Z.GAMEPLAY,Lh=Ph.KEY,xh=Ph.FRAME,Mh=8,kh=8,Gh=function(e){function t(n,a,i){var r;return(r=e.call(this,n)||this).scene=void 0,r.type=void 0,r.direction=void 0,r.isReverse=!1,r.data=[],r.matrixData=void 0,r.texture=void 0,r.frame=void 0,r.maxHeight=void 0,r.cellItems=[],r.originalData=void 0,r.isSetDrag=!1,r.isCreateCell=!1,r.wrap=void 0,r.wrapPiece=void 0,r.isDragEndRunning=!1,r.isActive=!0,r.isVisible=!0,r.pointerY=void 0,r.parentHeight=void 0,r.index=void 0,r.props=void 0,r.cells=[],r.parent=void 0,r.moveTopNumber=75,r.backupPx=void 0,r.backupPy=void 0,r.animMoveTopAndScaleUp=void 0,r.animMoveDownAndScaleDown=void 0,r.animShow=void 0,r.distancePY=void 0,r.props=i,r.type=i.type,r.matrixData=i.matrixData,r.data=t.buildData(r.matrixData),r.direction=i.direction||null,r.parentHeight=i.parentHeight||0,r.isReverse=i.isReverse||!1,r.parent=a,r.scene=n,r.scene.add.existing((0,_i.Z)(r)),r.createWrapPiece(),r.listenEvents(),r}(0,o.Z)(t,e);var n=t.prototype;return n.createWrapPiece=function(){var e=this.scene.gameZone.width/3;this.wrapPiece=this.scene.make.image({x:e/2,y:e/2,key:Lh,frame:xh.GEM_TRANSPARENT}),this.wrapPiece.setWorldSize(e,e)},n.updatePosition=function(e,t){var n=this.getContainerSize(),a=n.width,i=n.height,r=this.parent.cellSize,s=this.scene.gameZone.width;this.setPosition(e+s/6-a/2+r/2,t+s/6-i/2+r/2),this.wrapPiece.setPosition(e+this.wrapPiece.displayWidth/2,t+this.wrapPiece.displayHeight/2-45),this.backupPx=this.x,this.backupPy=this.y},n.listenEvents=function(){var e=this;this.setInteractiveContainer(),this.wrapPiece.on(Phaser.Input.Events.POINTER_DOWN,(function(){e.parent.playTweenToEnableMaxFps()})),this.wrapPiece.on(Phaser.Input.Events.DRAG_START,(function(t){e.handleDragStart(t)})),this.wrapPiece.on(Phaser.Input.Events.DRAG,(function(t){e.handleDrag(t)})),this.wrapPiece.on(Phaser.Input.Events.DRAG_END,(function(){e.handleDragEnd(),e.parent.stopTweenToEnableMaxFps()}))},n.setIndex=function(e){this.index=e},n.setInteractiveContainer=function(){var e=this.scene.gameZone.width/3;this.wrapPiece.setInteractive().input.hitArea.setTo(0,0,e/this.wrapPiece.scale,180/this.wrapPiece.scale),this.scene.input.setDraggable(this.wrapPiece)},n.handleDragStart=function(e){var t=this;if(!this.scene.gameOver){this.animMoveDownAndScaleDown&&this.animMoveDownAndScaleDown.isPlaying()&&(this.animMoveDownAndScaleDown.stop(),this.animMoveDownAndScaleDown.complete(),this.setScale(1)),this.scene.tutorialManager.isRunning()&&this.scene.tutorialManager.dragStart(),this.scene.audio.playSound(Ci.PIECE_PICK);var n=this.scene.main.board.cellSize/this.parent.cellSize,a=this.getContainerSize(),i=a.width,r=a.height,s=e.worldX+this.parent.cellSize*n/2-i*n/2,o=e.worldY+this.parent.cellSize-this.moveTopNumber-r*n;"web"==wh()&&(o=e.worldY+this.parent.cellSize*n/2-r*n),this.distancePY=o-e.worldY,this.animMoveTopAndScaleUp=this.scene.tweens.add({x:s,y:o,scale:n,duration:150,targets:this,ease:"Sine.easeInOut",delay:20,onComplete:function(){t.setPosition(s,o);var e=t.getCellsHighlight();t.scene.main.board.handleRemoveHighlight(),t.scene.main.board.handleHighlight(e)}}),this.drawSuggestCells()}},n.handleDrag=function(e){if(!this.scene.gameOver){var t=this.checkOutOfThePage(e),n=t.lockX,a=t.lockY;if(!n||!a)try{this.animShow&&this.animShow.isPlaying()&&(this.animShow.stop(),this.setAlpha(1).setScale(1).setPosition(this.x,this.y)),this.animMoveTopAndScaleUp&&this.animMoveTopAndScaleUp.isPlaying()&&(this.animMoveTopAndScaleUp.stop(),this.setScale(2)),this.scene.game.updateFps(Ii.Z.max);var i=this.getContainerSize(),r=(i.height,i.width),s=e.worldX+this.parent.cellSize*this.scale/2-r/2,o=e.worldY+this.distancePY;n?this.setY(o):a?this.setX(s):this.setPosition(s,o),this.canMove();var c=this.getCellsHighlight();this.scene.main.board.handleRemoveHighlight(),this.scene.main.board.handleHighlight(c)}catch(l){this.handleDragPieceInvalidMove()}}},n.checkOutOfThePage=function(e){var t=this.getContainerSize().width,n=this.scene.gameZone,a=n.width,i=n.height,r=e.worldX,s=e.worldY,o=!1,c=!1;return(r<t/2||r>a-t/2)&&(o=!0),(s+this.distancePY<this.parent.cellSize/2||s+this.distancePY>i)&&(c=!0),{lockX:o,lockY:c}},n.handleDragPieceInvalidMove=function(){this.scene.main.board.handleRemoveHighlight(),this.scene.main.board.removeAllCanCaptureCells()},n.handleDragEnd=function(){this.scene.main.board.handleRemoveSuggestMove(),this.scene.main.board.removeAllCanCaptureCells();try{this.canMove(),this.scene.audio.playSound(Ci.PIECE_DROP),this.handleBoardMoveCompleted()}catch(e){this.handleInvalidMove()}},n.handleBoardMoveCompleted=function(){var e=this,t=this.getPositionTopLeftInBoard();if(t){var n=t.x,a=t.y,i=this.scene.main.board.dataBoard[a][n],r=i.x+this.scene.main.board.cellPadding,s=i.y+this.scene.main.board.cellPadding,o=this.getCellsHighlight();this.scene.add.tween({targets:this,x:r,y:s,duration:50,onComplete:function(){e.scene.main.board.handleRemoveHighlight(),e.hide(),e.setScale(1),e.parent.removeActivePiece(e.index),e.scene.main.board.handleMove(o,e.onBoardHandleMoveCompleted.bind(e))}})}else this.scene.main.board.handleRemoveHighlight()},n.hide=function(){this.setVisible(!1),this.wrapPiece.setVisible(!1)},n.show=function(){this.setVisible(!0),this.wrapPiece.setVisible(!0)},n.playAnimShow=function(){this.setAlpha(0).setScale(0),this.show(),this.animShow.play()},n.onBoardHandleMoveCompleted=function(){this.scene.tutorialManager.isRunning()||(this.parent.setActivePieces(),this.parent.existPiecesActive()||this.parent.showNewPieces())},n.drawSuggestCells=function(){var e=function(e,t){for(var n=e.length,a=e[0].length,i=0,r=0,s=0,o=0;o<n;o++)for(var c=0;c<a;c++)if(Lu(e,c,o,t)&&(r=c,s=o,++i>1))return null;if(0===i)return null;for(var l=[],u=0;u<t.data.length;u++)for(var h=0;h<t.data[u].length;h++)t.data[u][h].texture&&l.push({x:r+h,y:s+u});return l&&l.length>0?l:null}(this.scene.main.board.dataBoard,{data:this.data});e&&this.scene.main.board.handleSuggestMove(e)},n.getPositionFirstCellHighlight=function(){var e=this.scene.main.board.dataBoard,t=this.getPositionTopLeftInBoard();if(!t)return{x:0,y:0};var n=t.x,a=t.y;return t?{x:e[a][n].x,y:-(this.scene.scale.height-this.parentHeight-e[a][n].y)}:{x:0,y:0}},n.handleInvalidMove=function(){var e=this;this.scene.audio.playSound(Ci.PIECE_INVALID_MOVE),this.scene.tutorialManager.isRunning()&&this.scene.tutorialManager.invalidMove(),this.animMoveDownAndScaleDown=this.scene.tweens.add({x:this.backupPx,y:this.backupPy,scaleX:1,scaleY:1,duration:300,targets:this,ease:"Sine.easeInOut",delay:20,onComplete:function(){e.setPosition(e.backupPx||0,e.backupPy||0)}})},n.canMove=function(){var e=this.scene.main.board.dataBoard,t=this.getCellsHighlight();if(0===t.length)throw new Error("Invalid Move");for(var n=!0,a=0;a<t.length;a++){var i=t[a],r=i.x,s=i.y;if(!e[s]||!e[s][r]||0!==e[s][r].value){n=!1;break}}if(!n||0===t.length)throw new Error("Invalid Move");return n},n.getCellsHighlight=function(){var e=this.scene.main.board.dataBoard,t=[],n=this.getPositionTopLeftInBoard();if(null===n)return t;if(this.scene.tutorialManager.isRunning()&&!this.scene.tutorialManager.validTargetPosition(n))return t;for(var a=0;a<this.data.length;a++)for(var i=0;i<this.data[a].length;i++)if(this.data[a][i].texture){var r=i+n.x,s=a+n.y,o=e[s]&&e[s][r]?e[s][r].x:0,c=e[s]&&e[s][r]?e[s][r].y:0;if(s>=Mh||r>=kh||!e[s][r]||1===e[s][r].value)return[];t.push({x:r,y:s,pX:o,pY:c})}return t},n.getPositionTopLeftInBoard=function(){for(var e=this.scene.main.board.dataBoard,t=this.x+this.parent.cellSize*this.scale/2,n=this.y+this.parent.cellSize*this.scale/2,a=this.scene.main.board.cellPadding,i=-1,r=-1,s=0;s<Mh;s++)for(var o=0;o<kh;o++)if(e[s][o].x-a/2<=t&&e[s][o].x+e[s][o].width+a/2>=t&&e[s][o].y-a/2<=n&&e[s][o].y+e[s][o].height+a/2>=n){i=o,r=s;break}return i<0||i>kh-1||r<0||r>Mh-1?null:{x:i,y:r}},t.buildData=function(e){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){var i=1===e[n][a]?xh.GEM:null;t[n][a]={x:a,y:n,texture:i}}}return t},n.getPaddingCell=function(){return this.height/this.data.length/40},n.drawPiece=function(){return this.isCreateCell||this.createCells(.075),this.createAnimShow(),this.playAnimShow(),this},n.createAnimShow=function(){this.animShow=this.scene.tweens.add({paused:!0,duration:300,targets:this,alpha:{from:0,to:this.alpha},scale:{from:0,to:1},x:{from:-30,to:this.x},y:{from:this.y-100,to:this.y}})},n.createCells=function(e){for(var t=this.parent.cellSize,n=0;n<this.data.length;n++){this.cells[n]=[];for(var a=0;a<this.data[n].length;a++)if(this.data[n][a].texture){var i={x:Math.floor(0+a*t+e),y:Math.floor(0+n*t+e),width:Math.floor(t-2*e),height:Math.floor(t-2*e)},r=new sl(this.scene,i);r.setVisible(!0),this.cells[n][a]=r,this.cellItems.push(r),this.add(r)}}this.isCreateCell=!0},n.getContainerSize=function(){for(var e=0,t=this.data.length,n=0;n<this.data.length;n++)this.data[n].length>e&&(e=this.data[n].length);var a=this.parent.cellSize;return{width:e*a*this.scale,height:t*a*this.scale}},n.resetPropsCells=function(e){for(var t=this.parent.cellSize,n=0;n<this.data.length;n++)for(var a=0;a<this.data[n].length;a++)if(this.data[n][a].texture)Math.floor(0+a*t+e),Math.floor(t-2*e),Math.floor(t-2*e),this.texture,this.frame,yi.Z.PIECE,Math.floor(0+a*t+e),Math.floor(t-2*e),Math.floor(t-2*e),this.texture,this.frame,this.type,this.direction,this.isReverse},t}(Phaser.GameObjects.Container),Bh=function(e){function t(n,a,i){return e.call(this,n,a,(0,r.Z)({},i,{matrixData:t.getMatrixData(i.type,i.direction,i.isReverse)}))||this}return(0,o.Z)(t,e),t.getMatrixData=function(e,t,n){void 0===n&&(n=!1);var a=[];switch(t){case El:n?a=su:(a=ru,e===xl&&(a=ou),e===Ml&&(a=cu));break;case fl:n?a=Ql:(a=Jl,e===xl&&(a=$l),e===Ml&&(a=eu));break;case Sl:if(n){a=zl;break}a=Xl,e===xl&&(a=jl),e===Ml&&(a=ql);break;case Al:n?a=nu:(a=tu,e===xl&&(a=au),e===Ml&&(a=iu))}return a},t.getData=function(e,n,a){return void 0===a&&(a=!1),t.buildData(t.getMatrixData(e,n,a))},t}(Gh),Uh=Bh,Fh=function(e){function t(n,a,i){return e.call(this,n,a,(0,r.Z)({},i,{matrixData:t.getMatrixData(i.type,i.direction)}))||this}return(0,o.Z)(t,e),t.getMatrixData=function(e,t){var n=[];switch(e){case Ul:n=t===dl?fu:Su;break;case Bl:n=t===dl?pu:Eu;break;case kl:n=t===dl?lu:uu;break;case Gl:n=t===dl?hu:du}return n},t.getData=function(e,n){return t.buildData(t.getMatrixData(e,n))},t}(Gh),Hh=Fh,Yh=function(e){function t(n,a,i){return e.call(this,n,a,(0,r.Z)({},i,{matrixData:t.getMatrixData(i.type)}))||this}return(0,o.Z)(t,e),t.getMatrixData=function(e){var t=[];switch(e){case Fl:t=Au;break;case Hl:t=mu;break;case Yl:t=gu}return t},t.getData=function(e){return t.buildData(t.getMatrixData(e))},t}(Gh),Wh=Yh,Vh=function(e){function t(n,a,i){return e.call(this,n,a,(0,r.Z)({},i,{matrixData:t.getMatrixData(i.direction)}))||this}return(0,o.Z)(t,e),t.getMatrixData=function(e){var t=[];switch(e){case"left":default:t=Ou;break;case"right":t=Ru;break;case"top":t=Cu;break;case"bottom":t=_u}return t},t.getData=function(e){return t.buildData(t.getMatrixData(e))},t}(Gh),Zh=Vh,Kh=function(e){function t(n,a,i){return e.call(this,n,a,(0,r.Z)({},i,{matrixData:t.getMatrixData(i.direction)}))||this}return(0,o.Z)(t,e),t.getMatrixData=function(e){var t=[];switch(e){case"vertical_left":default:t=Tu;break;case"vertical_right":t=vu;break;case"horizontal_right":t=Iu;break;case"horizontal_left":t=yu}return t},t.getData=function(e){return t.buildData(t.getMatrixData(e))},t}(Gh),Xh=Kh,zh=function(){function e(){}return e.create=function(e,t,n){var a;switch(n.type){case Ll:case xl:case Ml:a=new Uh(e,t,n);break;case kl:case Gl:case Bl:case Ul:a=new Hh(e,t,n);break;case Fl:case Hl:case Yl:a=new Wh(e,t,n);break;case Vl:a=new Zh(e,t,n);break;case Wl:a=new Xh(e,t,n);break;default:a=new Wh(e,t,n)}return a},e}(),jh=zh,qh=Oi.Z.GAMEPLAY,Jh=qh.KEY,Qh=qh.FRAME,$h=Oi.Z.GAMEPLAY_JPG,ed=$h.KEY,td=$h.FRAME,nd=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.tweenToEnableMaxFps=void 0,n.cellSize=void 0,n.canCaptureLines=void 0,n.allPieces=[],n.allPiecesGroup=[],n.piecesActive=[],t.add.existing((0,_i.Z)(n)),n.scene=t,n.canCaptureLines={isCapture:!1,direction:"",minLine:5},n.init(),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.initCellSize(),this.createBorder(),this.createBackground(),this.createAllPieces(),this.createAllPiecesGroup(),this.createTweenToEnableMaxFps()},n.initCellSize=function(){this.cellSize=20},n.createBorder=function(){var e=this.scene.ads.getBannerHeight(),t=this.scene.make.image({x:100,y:100,key:Jh,frame:Qh.PANEL_BOTTOM_1});t.setWorldSize(375,11),this.add(t),Phaser.Display.Align.In.Center(t,this,0,-65-e/2)},n.createBackground=function(){var e=this.scene.ads.getBannerHeight(),t=this.scene.make.image({x:0,y:0,key:ed,frame:td.PANEL_BOTTOM_2});t.setWorldSize(375,119+e),this.add(t),Phaser.Display.Align.In.Center(t,this)},n.setContentPosition=function(e,t){this.setPosition(e,t)},n.createTweenToEnableMaxFps=function(){this.tweenToEnableMaxFps=this.scene.add.tween({targets:[],duration:300,loop:-1,paused:!0})},n.playTweenToEnableMaxFps=function(){this.tweenToEnableMaxFps.play()},n.stopTweenToEnableMaxFps=function(){this.tweenToEnableMaxFps.stop()},n.getDirectionsByType=function(e){if([Fl,Hl,Yl].some((function(t){return t===e})))return[];var t=[];switch(e){case Ll:case xl:case Ml:t=[Sl,El,fl,Al];break;case kl:case Gl:case Bl:case Ul:t=[dl,pl];break;case Vl:t=[Sl,El,fl,Al];break;case Wl:t=[ml,gl,Tl,vl]}return t},n.createAllPieces=function(){for(var e=this.cellSize,t=[],n=0;n<Zl.length;n++){var a=this.getDirectionsByType(Zl[n]);if(a.length<=0)t.push({type:Zl[n]});else{for(var i=0;i<a.length;i++)t.push({type:Zl[n],direction:a[i]});if(Ll===Zl[n])for(var s=0;s<a.length;s++)t.push({type:Zl[n],direction:a[s],isReverse:!0})}}for(var o=0;o<t.length;o++){var c=(0,r.Z)({},t[o],{texture:Jh,frame:Qh.GEM,x:Math.floor(this.x),y:Math.floor(this.y),width:Math.floor(e/2),height:Math.floor(e/2),cellLength:Math.floor(e/2),parentHeight:this.height,wrap:{x:Math.floor(this.x),y:Math.floor(this.y),width:Math.floor(e/2),height:Math.floor(e/2)}}),l=jh.create(this.scene,this,c);l.hide(),this.allPieces.push(l)}},n.createAllPiecesGroup=function(){for(var e=0;e<this.allPieces.length;e++){var t=this.allPieces[e];this.allPiecesGroup[t.type]||(this.allPiecesGroup[t.type]=[]),this.allPiecesGroup[t.type].push(e)}},n.randomPieces=function(){var e=this;this.scene.game.updateFps(Ii.Z.max);for(var t=this.buildPieceRates(!1),n=[],a=function(){var a=Math.floor(Math.random()*t.length),i=t[a];if(!e.allPiecesGroup[i])return 1;var r=Math.floor(Math.random()*e.allPiecesGroup[i].length),s=e.allPiecesGroup[i][r],o=[Bl,Ul].some((function(e){return e===i}));if(e.canCaptureLines.isCapture&&o){for(var c=0;c<e.allPiecesGroup[i].length;c++){var l=e.allPiecesGroup[i][c];if(e.allPieces[l]&&e.allPieces[l].direction===e.canCaptureLines.direction){s=l;break}}t=e.buildPieceRates(!1)}n.some((function(e){return e.index===s}))||n.push({index:s,type:i})};n.length<3;)a();for(var i=[],r=0;r<n.length;r++){var s=n[r].index,o=this.allPieces[s];i.push({position:s,texture:Jh,frame:Qh.GEM,type:o.type,direction:o.direction,isReverse:o.isReverse})}this.piecesActive=i},n.buildPieceRates=function(e){void 0===e&&(e=!0);for(var t=[],n=0;n<Kl.length;n++)t.push((0,r.Z)({},Kl[n]));if(e){var a=this.scene.main.board.dataBoard,i=5;if(this.canCaptureLines=this.scene.main.board.canCaptureLines(a,i),this.canCaptureLines.isCapture)for(var s=0;s<t.length;s++)t[s].type===Ul&&(t[s].rate=8);else if(i=4,this.canCaptureLines=this.scene.main.board.canCaptureLines(a,i),this.canCaptureLines.isCapture)for(var o=0;o<t.length;o++)t[o].type===Bl&&(t[o].rate=8)}for(var c=[],l=0;l<t.length;l++)for(var u=t[l],h=u.type,d=u.rate,p=0;p<d;p++)c.push(h);return c},n.drawPieces=function(){for(var e=this.scene.gameZone,t=e.width,n=e.height,a=[0,t/3,2*t/3],i=this.scene.ads.getBannerHeight(),r=0;r<this.piecesActive.length;r++){var s=this.allPieces[this.piecesActive[r].position],o=a[r];s.updatePosition(o,n-121-i),s.drawPiece(),s.setIndex(r),this.allPieces[this.piecesActive[r].position]=s}},n.removeActivePiece=function(e){this.piecesActive[e].used=!0},n.existPiecesActive=function(){var e,t=fe()(e=this.piecesActive).call(e,(function(e){return!e.used}));return t&&t.length>0},n.showNewPieces=function(){for(var e=0;e<this.allPieces.length;e++)this.allPieces[e].setVisible(!1);this.randomPieces(),this.setActivePieces(),this.drawPieces()},n.calculatePieceInfo=function(){for(var e=0,t=0,n=this.cellSize,a=0;a<this.piecesActive.length;a++){var i=this.allPieces[this.piecesActive[a].position].data;e+=i[0].length,i.length>t&&(t=i.length)}return{cellLength:n/2,cols:e}},n.setActivePieces=function(){for(var e=this.scene.main.board.dataBoard,t=0;t<this.piecesActive.length;t++){var n=this.piecesActive[t].position;xu(e,this.allPieces[n])?this.allPieces[n].setAlpha(1):this.allPieces[n].setAlpha(.4)}},n.getPiecesByFen=function(e){var t=[],n=e.split(" ");if(n.length<2)throw new Error("Invalid fen");for(var a=Jc()(n).call(n,2),i=0;i<a.length;i++){var r,s;if("l"!==cl()(r=a[i]).call(r)){var o=Bu(cl()(s=a[i]).call(s));t.push(o)}}return t},n.getFenByPieces=function(){for(var e="l",t=0;t<this.piecesActive.length;t++){var n=this.piecesActive[t],a=n.type,i=n.direction,r=n.isReverse,s=n.frame;if(!n.used){var o=Mu(a);i&&""!==i&&(o+="-"+Mu(i)),r&&(o+="-r"),e+=" "+o+","+Mu(s)}}return e},n.clearPieces=function(){for(var e=0;e<this.piecesActive.length;e++){var t=this.piecesActive[e].position;this.allPieces[t].hide()}this.piecesActive=[]},n.showAvailablePieces=function(e){if(e&&!(e.length<=0)){for(var t=[],n=0;n<e.length;n++)for(var a=e[n],i=a.type,r=a.direction,s=a.isReverse,o=a.frame,c=0;c<this.allPieces.length;c++){var l=this.allPieces[c];if(i===l.type&&r===l.direction&&s===l.isReverse){t.push({position:c,texture:Jh,frame:o,type:l.type,direction:l.direction,isReverse:l.isReverse});break}}this.piecesActive=t,this.setActivePieces(),this.drawPieces()}},t}(Phaser.GameObjects.Container),ad=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.pieces=void 0,n.scene=t,n.setSize(n.scene.gameZone.width,60),n.scene=t,t.add.existing((0,_i.Z)(n)),n.init(),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.createPieces()},n.createPieces=function(){var e=this.scene.ads.getBannerHeight(),t=this.scene.gameZone.height;this.pieces=new nd(this.scene),this.pieces.setContentPosition(this.scene.gameZone.width/2,t-59.5-e/2)},t}(Phaser.GameObjects.Container),id=ad,rd=n(174),sd={targets:[],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:n.n(rd)()(.55,.47,.43,.91),easeParams:[0,.9],props:{scale:{from:1,to:1.2}}},od=function(e){function t(t){return e.call(this,sd,t)||this}return(0,o.Z)(t,e),t}(go.Z),cd=Oi.Z.DEFAULT,ld=cd.KEY,ud=cd.FRAME,hd=GameCore.Configs,dd=hd.Network,pd=hd.Match,Ed=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).scene=void 0,r.isUseRescue=void 0,r.countdownCount=void 0,r.skipText=void 0,r.continueButton=void 0,r.tweenContinueButton=void 0,r.continueButtonAnimation=void 0,r.progressSize=13.5,r.progressRadius=63,r.textScoreLabel=void 0,r.tweenTextScoreLabel=void 0,r.textScoreNumber=void 0,r.tweenTextScoreNumber=void 0,r.textSecondChance=void 0,r.tweenTextSecondChance=void 0,r.progressCircle=void 0,r.bgProgressCircle=void 0,r.skipTextTween=void 0,r.adsTimer=void 0,r.open=function(){e.prototype.open.call((0,_i.Z)(r)),r.scene.audio.playSound(Ci.RESCUE),r.runAnim(),r.updateInfo(),r.isUseRescue=!1,r.countdownCount=pd.RescueGamePopupTimeout,r.runCountdown()},r.close=function(){e.prototype.close.call((0,_i.Z)(r)),r.textScoreLabel.setScale(0).setAlpha(0),r.textScoreNumber.setScale(0).setAlpha(0),r.textSecondChance.setScale(0).setAlpha(0),r.continueButtonAnimation.stop()},r.handleShowRewardedVideoAd=(0,s.Z)(h().mark((function e(){var t,n,a,i,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.scene.game,n=t.globalScene,a=t.audio,i=t.lang,e.prev=1,!r.isUseRescue){e.next=4;break}return e.abrupt("return");case 4:return r.scene.storage.dispatch(io()),r.isUseRescue=!0,n.screen.open(Ri.o4.NOTIFY_SCREEN,{message:i.Text.LOADING_AD,duration:0,loading:!0}),a.pauseMusic(),a.muteAll(),e.next=11,new(l())((function(e,t){var n;null==(n=r.adsTimer)||n.remove(),r.adsTimer=r.scene.time.delayedCall(dd.Timeout,t),r.scene.ads.getAdStatus(GameCore.Ads.Types.REWARDED)===GameCore.Ads.Status.LOADING?r.scene.ads.events.once(GameCore.Ads.Events.LOADED,e):r.scene.ads.preloadRewardedVideoAsync().then(e).catch(t)}));case 11:return e.next=13,r.scene.ads.showRewardedVideoAsync();case 13:a.unmuteAll(),a.playMusic(),n.screen.events.off(GameCore.Screens.Events.CLOSE),Xr.emit(Rr.RESCUE),a.playSound(Ci.DAILY_REWARD),n.screen.close(Ri.o4.NOTIFY_SCREEN),e.next=28;break;case 21:if(e.prev=21,e.t0=e.catch(1),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=27;break}if("USER_INPUT"!==e.t0.code){e.next=27;break}return r.showNotifySkipAds(),e.abrupt("return");case 27:r.showNotifyNoAds();case 28:return e.prev=28,null==(s=r.adsTimer)||s.destroy(),a.unmuteAll(),a.playMusic(),r.scene.screen.close(r.name),r.scene.ads.preloadRewardedVideoAsync().catch((function(e){})),e.finish(28);case 35:case"end":return e.stop()}}),e,null,[[1,21,28,35]])}))),r.showNotifyNoAds=function(e){if(!e||e.name===Ri.o4.NOTIFY_SCREEN){var t=r.scene.game,n=t.globalScene,a=t.lang;n.screen.events.off(GameCore.Screens.Events.CLOSE),n.screen.events.once(GameCore.Screens.Events.CLOSE,r.showGameOver),n.screen.open(Ri.o4.NOTIFY_SCREEN,{message:a.Text.NO_ADS_TO_DISPLAY,duration:2e3,loading:!1})}},r.showNotifySkipAds=function(){var e=r.scene.game,t=e.globalScene,n=e.lang;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.once(GameCore.Screens.Events.CLOSE,r.showGameOver),t.screen.open(Ri.o4.NOTIFY_SCREEN,{message:n.Text.NO_REWARDS+"\n"+n.Text.CANCELLED_AD,duration:3e3,loading:!1})},r.showGameOver=function(e){e&&e.name!==Ri.o4.NOTIFY_SCREEN||(r.scene.screen.close(r.name),r.scene.endGame())},r.handleSkip=function(){r.scene.screen.close(r.name),r.scene.endGame()},r.handleRunCountdown=function(){r.countdownCount-=1,r.countdownCount<=0&&r.rescueTimeout()},r.scene=t,r.countdownCount=pd.MaxRescueCount,r.setDepth(Ri.Ks.POPUP),r.background.setAlpha(.8),r.createContent(),r}(0,o.Z)(t,e);var n=t.prototype;return n.runAnim=function(){this.tweenTextScoreLabel.play(),this.tweenTextScoreNumber.play(),this.tweenTextSecondChance.play(),this.skipText.setVisible(!0),this.skipTextTween.play(),this.tweenContinueButton.play()},n.updateInfo=function(){var e=this.scene.storage.getState(),t=ls(e);this.textScoreNumber.setText(String(t.score||0))},n.createContent=function(){this.createTextScore(),this.createTextScoreNumber(),this.createBgProgressCircle(),this.createProgressCircle(),this.createSecondChangeText(),this.createContinueButton(),this.createSkipText()},n.createTextScore=function(){var e=this.scene.game.lang;this.textScoreLabel=this.scene.add.text(0,0,e.Text.SCORE,{font:"27px Arial"}),this.textScoreLabel.setOrigin(.5),this.textScoreLabel.setScale(0).setAlpha(0),this.textScoreLabel.setTint(11184810),this.add(this.textScoreLabel),Phaser.Display.Align.In.Center(this.textScoreLabel,this,0,-214),this.tweenTextScoreLabel=this.scene.tweens.add({targets:this.textScoreLabel,paused:!0,duration:200,scale:{from:0,to:1},alpha:{from:0,to:1},ease:"Power1"})},n.createTextScoreNumber=function(){this.textScoreNumber=this.scene.add.text(0,0,"0",{font:"bold 38px Arial"}),this.textScoreNumber.setOrigin(.5).setScale(0).setAlpha(0),this.add(this.textScoreNumber),Phaser.Display.Align.In.Center(this.textScoreNumber,this.textScoreLabel,0,45),this.tweenTextScoreNumber=this.scene.tweens.add({delay:100,targets:this.textScoreNumber,paused:!0,duration:200,scale:{from:0,to:1},alpha:{from:0,to:1},ease:"Power1"})},n.createProgressCircle=function(){this.progressCircle=this.scene.add.graphics(),this.progressCircle.setScale(0).setAlpha(0),this.add(this.progressCircle)},n.setProgressCircle=function(e){var t=Phaser.Math.DegToRad(-90),n=Phaser.Math.DegToRad(e-360-90);this.progressCircle.clear(),this.progressCircle.beginPath(),this.progressCircle.lineStyle(this.progressSize,4249855),this.progressCircle.arc(0,-44,this.progressRadius,t,n,!0,.02),this.progressCircle.strokePath(),this.progressCircle.closePath()},n.runCountdown=function(){this.startProgressCircle()},n.startProgressCircle=function(){var e=this;this.scene.tweens.addCounter({from:360,to:0,delay:200,duration:1e3*pd.RescueGamePopupTimeout,onUpdate:function(t){var n=+t.getValue().toFixed(2);e.setProgressCircle(n)},onComplete:function(){e.setProgressCircle(0),e.progressCircle.setAlpha(1)}})},n.createBgProgressCircle=function(){var e=Phaser.Math.DegToRad(360),t=Phaser.Math.DegToRad(0);this.bgProgressCircle=this.scene.add.graphics(),this.bgProgressCircle.clear(),this.bgProgressCircle.beginPath(),this.bgProgressCircle.lineStyle(this.progressSize,1313543),this.bgProgressCircle.arc(0,-44,this.progressRadius,e,t,!1),this.bgProgressCircle.strokePath(),this.bgProgressCircle.setScale(0).setAlpha(0),this.add(this.bgProgressCircle)},n.createSecondChangeText=function(){var e=this.scene.game.lang;this.textSecondChance=this.scene.add.text(0,0,"",{font:"bold 18px Arial",align:"center"}),this.textSecondChance.setScale(0).setAlpha(0),this.textSecondChance.setText(e.Text.SECOND_CHANCE),this.textSecondChance.setOrigin(.5,.5),this.textSecondChance.setTint(11136511),this.textSecondChance.width>2*this.progressRadius-4&&this.textSecondChance.setFontSize(12),this.add(this.textSecondChance),Phaser.Display.Align.In.Center(this.textSecondChance,this.textScoreNumber,0,124),this.tweenTextSecondChance=this.scene.add.tween({paused:!0,targets:[this.progressCircle,this.bgProgressCircle,this.textSecondChance],delay:200,duration:300,ease:Phaser.Math.Easing.Back.Out,props:{alpha:{from:0,to:1},scale:{from:0,to:1}}})},n.rescueTimeout=function(){this.scene.screen.close(this.name),this.scene.endGame()},n.createContinueButton=function(){var e=this,t=this.scene.world.getPixelRatio();this.continueButton=new qo(this.scene,ld,ud.BUTTON_GREEN_SMALL,225,66),this.continueButton.setName("Continue"),this.add(this.continueButton),this.continueButton.onClick=this.handleShowRewardedVideoAd;var n=this.scene.add.image(0,0,ld,ud.ICON_ADS);n.setWorldSize(39,36),this.continueButton.add(n);var a=this.scene.make.image({key:ld,frame:ud.TEXT_CONTINUE}),i=a.width,r=a.height;a.setWorldSize(i/t,r/t),this.continueButton.add(a),Phaser.Display.Align.In.Center(this.continueButton,this.textSecondChance,0,144);var s=n.width,o=a.width,c=s+o;Phaser.Display.Align.In.Center(n,this,-c/2+s/2-5),Phaser.Display.Align.In.Center(a,this,c/2-o/2+5),this.continueButton.setScale(0).setAlpha(0),this.tweenContinueButton=this.scene.tweens.add({paused:!0,targets:this.continueButton,ease:Ko.Z,props:{alpha:{from:0,to:1},scale:{from:1.2,to:1}},delay:300,duration:300,onComplete:function(){e.runContinueButtonAnimation()}})},n.createSkipText=function(){var e=this.scene.world.getPixelRatio(),t=this.scene.make.image({key:ld,frame:ud.NO_THANK_TEXT});t.setVisible(!1);var n=t.width,a=t.height;this.skipText=new qo(this.scene,ld,ud.NO_THANK_TEXT,n/e,a/e),this.skipText.setName("NoThanks"),this.add(this.skipText),this.skipText.onClick=this.handleSkip,Phaser.Display.Align.In.BottomCenter(this.skipText,this.continueButton,0,43),this.skipText.setVisible(!1).setAlpha(0),this.skipTextTween=this.scene.tweens.add({targets:this.skipText,delay:pd.DelayNoThank,paused:!0,alpha:{from:0,to:1},ease:"Power1",duration:500})},n.runContinueButtonAnimation=function(){var e;this.continueButtonAnimation||(this.continueButtonAnimation=new od({targets:[this.continueButton],props:{scale:"-=0.02"},delay:200})),null==(e=this.continueButtonAnimation)||e.play()},t}(GameCore.Screen),fd=Ed,Sd={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},Ad={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}}.STATUS,md=function(){function e(e){this.state=void 0,this.scene=void 0,this.scene=e}var t=e.prototype;return t.init=function(){this.setState(Ad.READY)},t.start=function(){this.isRunning()||this.setState(Ad.RUNNING)},t.stop=function(){this.isRunning()&&this.setState(Ad.STOPPED)},t.setState=function(e){this.state=e},t.isReady=function(){return this.state===Ad.READY},t.isRunning=function(){return this.state===Ad.RUNNING},t.isStopped=function(){return this.state===Ad.STOPPED},e}(),gd=md,Td=function(){function e(e){this.scene=void 0,this.manager=void 0,this.tweenHand=void 0,this.dataInit={fen:"x/x/x/x/x/x/bb2ryry/bb2ryry l s2,b",piece:Hl,position:{x:2,y:6}},this.scene=e.scene,this.manager=e}var t=e.prototype;return t.start=function(){this.initBoardData(),this.handleHighlight(),this.createTweenHand()},t.initBoardData=function(){this.manager.handleGuidePlayStep(this.dataInit.fen)},t.createTweenHand=function(){var e=this.scene.gameZone,t=e.width,n=e.height,a=this.scene.ads.getBannerHeight();this.manager.handFrame.setVisible(!0),this.manager.handFrame.setPosition(t/2-120,n-30-a),this.tweenHand=this.scene.add.tween({repeatDelay:500,targets:this.manager.handFrame,repeat:-1,x:{from:t/2-120,to:t/2-30},y:{from:n-30-a,to:n/2+100},duration:1500})},t.handleHighlight=function(){for(var e=this.dataInit.position,t=e.x,n=e.y,a=0;a<2;a++)for(var i=0;i<2;i++)this.scene.main.board.dataBoard[n+a][t+i].cell.setFrame(Oi.Z.GAMEPLAY.FRAME.GEM).setAlpha(.4).setVisible(!0).stopAnimShaking()},t.dragStart=function(){this.tweenHand.stop(),this.manager.handFrame.setVisible(!1)},t.invalidMove=function(){this.manager.handFrame.setVisible(!0),this.tweenHand.play(),this.handleHighlight()},t.nextLevel=function(){this.tweenHand.stop().remove()},e}(),vd=Td,yd=function(){function e(e){this.scene=void 0,this.manager=void 0,this.tweenHand=void 0,this.dataInit={fen:"3rr3/3bb3/3ry3/rrr2bbb/yyy2brb/3yy3/3yb3/3yb3 l s2,y",piece:Hl,position:{x:3,y:3}},this.scene=e.scene,this.manager=e}var t=e.prototype;return t.start=function(){this.initBoardData(),this.handleHighlight(),this.createTweenHand()},t.initBoardData=function(){this.manager.handleGuidePlayStep(this.dataInit.fen)},t.createTweenHand=function(){var e=this.scene.gameZone,t=e.width,n=e.height,a=this.scene.ads.getBannerHeight();this.manager.handFrame.setVisible(!0),this.manager.handFrame.setPosition(t/2-120,n-30-a),this.tweenHand=this.scene.add.tween({repeatDelay:500,targets:this.manager.handFrame,repeat:-1,x:{from:t/2-120,to:t/2},y:{from:n-30-a,to:n/2},duration:1500})},t.handleHighlight=function(){for(var e=this.dataInit.position,t=e.x,n=e.y,a=0;a<2;a++)for(var i=0;i<2;i++)this.scene.main.board.dataBoard[n+a][t+i].cell.setFrame(Oi.Z.GAMEPLAY.FRAME.GEM).setAlpha(.4).setVisible(!0).stopAnimShaking()},t.dragStart=function(){this.tweenHand.stop(),this.manager.handFrame.setVisible(!1)},t.invalidMove=function(){this.manager.handFrame.setVisible(!0),this.tweenHand.play(),this.handleHighlight()},t.nextLevel=function(){this.tweenHand.stop().remove()},e}(),Id=yd,Od=function(){function e(e){this.scene=void 0,this.manager=void 0,this.tweenHand=void 0,this.dataInit={fen:"5rrr/5bbb/5ryb/5byr/5yyy/x/x/x l s3,r",piece:Yl,position:{x:5,y:5}},this.scene=e.scene,this.manager=e}var t=e.prototype;return t.start=function(){this.initBoardData(),this.handleHighlight(),this.createTweenHand()},t.initBoardData=function(){this.manager.handleGuidePlayStep(this.dataInit.fen)},t.createTweenHand=function(){var e=this.scene.gameZone,t=e.width,n=e.height,a=this.scene.ads.getBannerHeight();this.manager.handFrame.setVisible(!0),this.manager.handFrame.setPosition(t/2-120,n-30-a),this.tweenHand=this.scene.add.tween({repeatDelay:500,targets:this.manager.handFrame,repeat:-1,x:{from:t/2-120,to:t/2+110},y:{from:n-30-a,to:n/2+100},duration:1500})},t.handleHighlight=function(){for(var e=this.dataInit.position,t=e.x,n=e.y,a=0;a<3;a++)for(var i=0;i<3;i++)this.scene.main.board.dataBoard[n+a][t+i].cell.setFrame(Oi.Z.GAMEPLAY.FRAME.GEM).setAlpha(.4).setVisible(!0).stopAnimShaking()},t.dragStart=function(){this.tweenHand.stop(),this.manager.handFrame.setVisible(!1)},t.invalidMove=function(){this.manager.handFrame.setVisible(!0),this.tweenHand.play(),this.handleHighlight()},t.nextLevel=function(){this.tweenHand.stop().remove()},e}(),Rd=Od,Cd=Sd.STATUS,_d=Oi.Z.TUTORIAL,bd=_d.KEY,Nd=_d.FRAME,Dd=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.currentLevel=1,n.tutorialId=void 0,n.inputType=void 0,n.handFrame=void 0,n.background=void 0,n.maskGraphics=void 0,n.stepOne=void 0,n.stepTwo=void 0,n.stepThree=void 0,n.showTutorialWhenStart=function(){switch(n.currentLevel){case 1:n.stepOne.start();break;case 2:n.stepTwo.start();break;case 3:n.stepThree.start();break;default:n.scene.analytics.event(Yt._.TUTORIAL_COMPLETE),n.setState(Cd.STOPPED),n.scene.main.praise.tweenShowScoreText.stop().remove(),n.scene.startGame()}},n.nextTutorial=function(){switch(n.currentLevel){case 1:n.stepOne.nextLevel();break;case 2:n.stepTwo.nextLevel();break;case 3:n.stepThree.nextLevel()}n.currentLevel++,n.showTutorialWhenStart()},n.validTargetPosition=function(e){var t={x:0,y:0};switch(n.currentLevel){case 1:t=n.stepOne.dataInit.position;break;case 2:t=n.stepTwo.dataInit.position;break;case 3:t=n.stepThree.dataInit.position}return t.x===e.x&&t.y===e.y},n.scene=t,n.createHand(),n.initTutorialStep(),n}(0,o.Z)(t,e);var n=t.prototype;return n.initTutorialStep=function(){this.stepOne=new vd(this),this.stepTwo=new Rd(this),this.stepThree=new Id(this)},n.start=function(){this.isRunning()||(this.setState(Cd.RUNNING),this.showTutorialWhenStart())},n.stop=function(){this.isRunning()&&(this.scene.tweens.killTweensOf([this.background]),this.background.setVisible(!1),this.maskGraphics.setVisible(!1),this.setState(Cd.STOPPED))},n.createHand=function(){this.handFrame=this.scene.make.image({key:bd,frame:Nd.HAND,origin:{x:.5,y:.5}}),this.handFrame.setVisible(!1).setDepth(yi.Z.ON_TOP),this.handFrame.setWorldSize(30,46)},n.isValidForTutorial=function(){return this.scene.game.player.getPlayerIsNew()},n.dragStart=function(){switch(this.currentLevel){case 1:this.stepOne.dragStart();break;case 2:this.stepTwo.dragStart();break;case 3:this.stepThree.dragStart()}},n.skipTutorial=function(){this.isRunning()&&(this.handFrame.setVisible(!1),this.setState(Cd.STOPPED))},n.invalidMove=function(){switch(this.currentLevel){case 1:this.stepOne.invalidMove();break;case 2:this.stepTwo.invalidMove();break;case 3:this.stepThree.invalidMove()}},n.handleGuidePlayStep=function(e){try{this.scene.main.board.clearBoard(),this.scene.footer.pieces.clearPieces();var t=null,n=null;if(e){var a=this.scene.main.board.getBoardByFen(e);t=this.scene.handleDynamicFenSize(a),n=this.scene.footer.pieces.getPiecesByFen(e)}this.scene.main.board.startGame(t),this.scene.footer.pieces.showAvailablePieces(n)}catch(i){}},t}(gd),wd=Dd,Pd=Oi.Z.DEFAULT.KEY,Ld=function(e){function t(t,n){var a;return(a=e.call(this,t,Pd,n.backgroundOn)||this).options=void 0,a.icon=void 0,a.getFrameByStatus=function(){var e=a.options,t=e.enable,n=e.frameOn,i=e.frameOff;return t?n:i},a.getBackgroundByStatus=function(){var e=a.options,t=e.enable,n=e.backgroundOn,i=e.backgroundOff;return t?n:i},a.createButton=function(e){var t=a.getBackgroundByStatus();a.button=a.scene.add.image(0,0,e,t),a.add(a.button)},a.options=n,a.createIcon(),a}(0,o.Z)(t,e);var n=t.prototype;return n.processCallback=function(e){var t=this.options.enable;this.updateStatus(!t),e(!t)},n.updateStatus=function(e){this.options.enable=e;var t=this.getFrameByStatus();this.icon.setFrame(t);var n=this.getBackgroundByStatus();this.button.setFrame(n)},n.createIcon=function(){var e=this.getFrameByStatus();this.icon=this.scene.make.image({key:Pd,frame:e}),this.add(this.icon),Phaser.Display.Align.In.Center(this.icon,this.button)},n.logButtonEvent=function(){var e=this.getParentName(),t=this.name,n=!this.options.enable;this.scene.analytics.event(Yt._.BUTTON_CLICK,{button_name:t,screen_name:e,enable:n})},t}(qo),xd=Ld,Md=Oi.Z.DEFAULT,kd=Md.KEY,Gd=Md.FRAME,Bd=GameCore.Configs.Match,Ud=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).scene=void 0,r.buttonContinue=void 0,r.buttonPlaySingle=void 0,r.popup=void 0,r.title=void 0,r.contents=void 0,r.popupShowUpAnimation=void 0,r.popupFadeOutAnimation=void 0,r.contentShowUpAnimation=void 0,r.tweenSettingMusic=void 0,r.tweenSettingSound=void 0,r.tweenSettingVibrate=void 0,r.tweenSettingLeaderBoard=void 0,r.buttonLeaderBoard=void 0,r.settingMusic=void 0,r.settingSound=void 0,r.settingVibrate=void 0,r.open=function(t){e.prototype.open.call((0,_i.Z)(r),t),r.popup.setVisible(!0),r.runOpenAnimation(),r.scene.analytics.pageview(r.name)},r.handleClosePopup=function(){r.scene.audio.playSound(Ci.POPUP_OFF,{volume:.6}),r.runCloseAnimation(),r.popupFadeOutAnimation.next((function(){r.scene.screen.close(r.name);var e=r.getOpenData();if("runGameScene"===(null==e?void 0:e.gameState)){var t=r.scene.storage.getState(),n=Nr(t);n&&n!==Qa||r.scene.storage.dispatch(zs())}}))},r.handleLeaderBoard=function(){r.runCloseAnimation(),Xr.emit(vi),r.scene.scene.switch(li.Co.LEADERBOARD_SCENE)},r.handleMusicSetting=function(e){r.scene.player.setSetting("music",e),e?r.scene.audio.playMusic():r.scene.audio.pauseMusic()},r.handleVibrateSetting=function(e){e&&eh(300),r.scene.player.setSetting("vibrate",e)},r.handleSoundSetting=function(e){r.scene.player.setSetting("sound",e)},r.scene=t,r.createPopup(),r.createPopupContent(),r.createInput(),r.setDepth(Ri.Ks.POPUP),r.background.setAlpha(.6),r.popup.setVisible(!1),r}(0,o.Z)(t,e);var n=t.prototype;return n.getOpenData=function(){return this.data?this.data.list:null},n.updateSettingButton=function(){var e=this.scene.player.getPlayerSettings(),t=e.music,n=e.sound,a=e.vibrate;this.settingMusic.updateStatus(t),this.settingSound.updateStatus(n),this.settingVibrate.updateStatus(a),this.updateButtonVibrateVisibility(),this.alignButtonSetting()},n.createInput=function(){this.buttonContinue.onClick=this.handleContinue.bind(this),this.buttonPlaySingle.onClick=this.handlePlaySingle.bind(this)},n.handleContinue=function(){var e=this;this.runCloseAnimation(),this.popupFadeOutAnimation.next((function(){e.scene.screen.close(e.name);var t=e.getOpenData();"runGameScene"===(null==t?void 0:t.gameState)&&e.scene.storage.dispatch(zs())}))},n.handlePlaySingle=function(){var e=this;this.runCloseAnimation(),this.popupFadeOutAnimation.next((function(){e.scene.screen.close(e.name),e.scene.usedRescue=!1,function(e){try{return localStorage.removeItem(e),!0}catch(t){return!1}}(Bd.SingleMatchStore),e.scene.storage.dispatch(zs())}))},n.createPopup=function(){this.popup=new Sc(this.scene,0,0,332,301.5),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)},n.createPopupContent=function(){this.createTitle(),this.createButtonContinue(),this.createButtonPlaySingle(),this.createButtonsSetting(),this.popup.add([this.title])},n.createTitle=function(){var e=this.scene.world.getPixelRatio();this.title=this.scene.add.container();var t=this.scene.make.image({key:kd,frame:Gd.RIBBON_MAIN});t.setWorldSize(262.5,55.5);var n=this.scene.make.image({key:kd,frame:Gd.TEXT_LET_PLAY}),a=n.width,i=n.height;n.setWorldSize(a/e,i/e),Phaser.Display.Align.In.Center(n,t,0,-3);var r=new qo(this.scene,kd,Gd.BUTTON_CLOSE,25,25);r.useSound=!1,r.onClick=this.handleClosePopup,r.setName("Restart"),Phaser.Display.Align.In.RightCenter(r,t,36,-19),this.title.add([t,n,r]),Phaser.Display.Align.In.TopCenter(this.title,this.popup,0,-2)},n.createButtonContinue=function(){var e=this.scene.world.getPixelRatio();this.buttonContinue=new qo(this.scene,kd,Gd.BUTTON_GREEN,223,68.5),this.buttonContinue.setName("Continue");var t=this.scene.make.image({key:kd,frame:Gd.TEXT_CONTINUE}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.buttonContinue.add(t);var i=this.scene.make.image({key:kd,frame:Gd.ICON_WHITE_SWORD});i.setWorldSize(27,28.5),this.buttonContinue.add(i),this.popup.add(this.buttonContinue),Phaser.Display.Align.In.Center(this.buttonContinue,this.popup,0,-65);var r=i.width,s=t.width,o=r+s;Phaser.Display.Align.In.Center(i,this,-o/2+r/2-5),Phaser.Display.Align.In.Center(t,this,o/2-s/2+5)},n.createButtonPlaySingle=function(){this.buttonPlaySingle=new qo(this.scene,kd,Gd.BUTTON_BROWN,223,68.5),this.buttonPlaySingle.setName("PlaySingle");var e=this.scene.make.image({key:kd,frame:Gd.TEXT_SOLO}),t=this.scene.world.getPixelRatio(),n=e.width,a=e.height;e.setWorldSize(n/t,a/t),this.buttonPlaySingle.add(e),Phaser.Display.Align.In.Center(e,this.buttonPlaySingle,0,-4),this.popup.add(this.buttonPlaySingle),Phaser.Display.Align.In.Center(this.buttonPlaySingle,this.popup,0,23)},n.createButtonsSetting=function(){var e=this.scene.player.getPlayerSettings(),t=e.music,n=e.sound,a=e.vibrate;this.createButtonMusic(t),this.createButtonVibrate(a),this.createButtonSound(n),this.updateButtonVibrateVisibility(),this.alignButtonSetting()},n.updateButtonVibrateVisibility=function(){this.settingVibrate.setVisible(Ju())},n.alignButtonSetting=function(){var e,t=this;fe()(e=[this.settingMusic,this.settingVibrate,this.settingSound]).call(e,(function(e){return e.visible})).forEach((function(e,n,a){var i=81*(n-(a.length-1)/2);Phaser.Display.Align.In.Center(e,t.popup,i,104)}))},n.createButtonLeaderBoard=function(){this.buttonLeaderBoard=new qo(this.scene,kd,Gd.BUTTON_BG_WOODEN_ON,60,60),this.buttonLeaderBoard.setName("LeaderBoard");var e=this.scene.make.image({key:kd,frame:Gd.ICON_RANK});e.setWorldSize(27,30),this.buttonLeaderBoard.add(e),this.buttonLeaderBoard.onClick=this.handleLeaderBoard,Phaser.Display.Align.In.Center(e,this.buttonLeaderBoard),this.tweenSettingLeaderBoard=this.scene.tweens.add({paused:!0,targets:this.buttonLeaderBoard,delay:300,duration:300,ease:Ko.Z,props:{alpha:{from:0,to:1},scale:{from:1.2,to:1}}}),this.popup.add(this.buttonLeaderBoard)},n.createButtonMusic=function(e){this.settingMusic=new xd(this.scene,{enable:e,frameOn:Gd.ICON_MUSIC,frameOff:Gd.ICON_MUSIC,backgroundOn:Gd.BUTTON_BG_WOODEN_ON,backgroundOff:Gd.BUTTON_BG_WOODEN_OFF}),this.settingMusic.icon.setWorldSize(24,30),this.settingMusic.button.setWorldSize(60,60),this.settingMusic.onClick=this.handleMusicSetting,this.tweenSettingMusic=this.scene.tweens.add({paused:!0,targets:this.settingMusic,delay:350,duration:300,ease:Ko.Z,props:{alpha:{from:0,to:1},scale:{from:1.2,to:1}}}),this.popup.add(this.settingMusic)},n.createButtonVibrate=function(e){this.settingVibrate=new xd(this.scene,{enable:e,frameOn:Gd.ICON_VIBRATE,frameOff:Gd.ICON_VIBRATE,backgroundOn:Gd.BUTTON_BG_WOODEN_ON,backgroundOff:Gd.BUTTON_BG_WOODEN_OFF}),this.settingVibrate.icon.setWorldSize(32,30),this.settingVibrate.button.setWorldSize(60,60),this.settingVibrate.onClick=this.handleVibrateSetting,this.tweenSettingVibrate=this.scene.tweens.add({paused:!0,targets:this.settingVibrate,delay:400,duration:300,ease:Ko.Z,props:{alpha:{from:0,to:1},scale:{from:1.2,to:1}}}),this.popup.add(this.settingVibrate)},n.createButtonSound=function(e){this.settingSound=new xd(this.scene,{enable:e,frameOn:Gd.ICON_SOUND,frameOff:Gd.ICON_SOUND,backgroundOn:Gd.BUTTON_BG_WOODEN_ON,backgroundOff:Gd.BUTTON_BG_WOODEN_OFF}),this.settingSound.icon.setWorldSize(30,30),this.settingSound.button.setWorldSize(60,60),this.settingSound.onClick=this.handleSoundSetting,this.tweenSettingSound=this.scene.tweens.add({paused:!0,targets:this.settingSound,delay:450,duration:300,ease:Ko.Z,props:{alpha:{from:0,to:1},scale:{from:1.2,to:1}}}),this.popup.add(this.settingSound)},n.runOpenAnimation=function(){this.scene.audio.playSound(Ci.POPUP_SHOW),this.settingMusic.setScale(0).setAlpha(0),this.tweenSettingMusic.play(),this.settingSound.setScale(0).setAlpha(0),this.tweenSettingSound.play(),this.settingVibrate.setScale(0).setAlpha(0),this.tweenSettingVibrate.play(),this.runPopupEntrancesAnimation(0,300)},n.runCloseAnimation=function(){this.runPopupExitsAnimation(0,200)},n.runPopupEntrancesAnimation=function(e,t){var n=this;if(!this.popupShowUpAnimation){var a=this.popup,i=a.y,r=a.scale;this.popupShowUpAnimation=new hc({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:i},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:r}},onComplete:function(){n.updateSettingButton()}})}this.popupShowUpAnimation.play()},n.runPopupContentEntrancesAnimation=function(e,t){this.contentShowUpAnimation||(this.contentShowUpAnimation=new lc.Z({targets:this.contents.getChildren(),duration:t,delay:this.scene.tweens.stagger(80,{start:e}),props:{alpha:{start:0,from:0,to:1}}})),this.contentShowUpAnimation.play()},n.runPopupExitsAnimation=function(e,t){var n,a=this;this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new cc.Z({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:function(){a.popup.setY(0)}})),null==(n=this.popupFadeOutAnimation)||n.play()},t}(GameCore.Screen),Fd=Ud,Hd=Oi.Z.DEFAULT,Yd=Hd.KEY,Wd=Hd.FRAME,Vd=function(e){function t(t,n,a,i,r){var s;return(s=e.call(this,t,n,a)||this).top=void 0,s.mid=void 0,s.bottom=void 0,s.setSize(i,r),s.scene.add.existing((0,_i.Z)(s)),s.createBackground(),s.updatePopupSize(),s.alignPopupImages(),s}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.top=this.scene.make.image({key:Yd,frame:Wd.POPUP_TOP}),this.mid=this.scene.make.image({key:Yd,frame:Wd.POPUP_MID}),this.bottom=this.scene.make.image({key:Yd,frame:Wd.POPUP_BOTTOM}),this.add([this.top,this.mid,this.bottom])},n.updatePopupSize=function(){this.top.setWorldSize(this.width,this.width*this.top.height/this.top.width),this.bottom.setWorldSize(this.width,this.width*this.bottom.height/this.bottom.width),this.mid.setWorldSize(this.width,this.height-this.top.displayHeight-this.bottom.displayHeight)},n.alignPopupImages=function(){Phaser.Display.Align.In.Center(this.top,this,0,-this.mid.displayHeight/2-this.top.displayHeight/2),Phaser.Display.Align.In.Center(this.mid,this),Phaser.Display.Align.In.Center(this.bottom,this,0,this.mid.displayHeight/2+this.bottom.displayHeight/2)},t}(Phaser.GameObjects.Container),Zd=Vd,Kd=Oi.Z.DEFAULT,Xd=Kd.KEY,zd=Kd.FRAME,jd=function(e){function t(t,n,a,i,r){var s;return(s=e.call(this,t,n,a)||this).buttonPlay=void 0,s.buttonShare=void 0,s.buttonClose=void 0,s.counterAnimation=void 0,s.scoreAnimation=void 0,s.entrancesAnimation=void 0,s.tweenIconCup=void 0,s.tweenScore=void 0,s.tweenBestScore=void 0,s.payload=void 0,s.top=void 0,s.mid=void 0,s.bottom=void 0,s.iconCup=void 0,s.textScore=void 0,s.textBestScore=void 0,s.scoreBlock=void 0,s.bestScoreBlock=void 0,s.setSize(i,r),s.createBackground(),s.createTitle(),s.createIconCup(),s.createScoreBlock(),s.createBestScoreBlock(),s.createButtonPlay(),s.updatePopupSize(),s.alignPopupImages(),s.createScoreAnimation(),s.createButtonClose(),s.scene.add.existing((0,_i.Z)(s)),s}(0,o.Z)(t,e);var n=t.prototype;return n.createButtonClose=function(){this.buttonClose=new qo(this.scene,Xd,zd.BUTTON_CLOSE,25,25),this.buttonClose.setName("Close"),this.add(this.buttonClose),Phaser.Display.Align.In.TopRight(this.buttonClose,this,5,35)},n.createBackground=function(){this.top=this.scene.make.image({key:Xd,frame:zd.POPUP_TOP}),this.mid=this.scene.make.image({key:Xd,frame:zd.POPUP_MID}),this.bottom=this.scene.make.image({key:Xd,frame:zd.POPUP_BOTTOM}),this.add([this.top,this.mid,this.bottom])},n.createTitle=function(){var e=this.scene.world.getPixelRatio(),t=this.scene.add.container(),n=this.scene.make.image({key:Xd,frame:zd.RIBBON_GAME_OVER});n.setWorldSize(290,88),t.add(n),Phaser.Display.Align.In.Center(n,t);var a=this.scene.make.image({key:Xd,frame:zd.TEXT_GAME_OVER}),i=a.width,r=a.height;a.setWorldSize(i/e,r/e),t.add(a),Phaser.Display.Align.In.Center(a,n,0,-8),this.add(t),Phaser.Display.Align.In.TopCenter(t,this,0,-41)},n.createIconCup=function(){this.iconCup=this.scene.make.image({key:Xd,frame:zd.ICON_CUP_BG}),this.iconCup.setWorldSize(52,52);var e=this.iconCup.scale;this.iconCup.setAlpha(0).setScale(0),this.add(this.iconCup),Phaser.Display.Align.In.Center(this.iconCup,this,0,-35),this.tweenIconCup=this.scene.tweens.add({targets:this.iconCup,paused:!0,duration:200,scale:{from:0,to:e},alpha:{from:0,to:1},ease:"Power1"})},n.createScoreBlock=function(){var e=this.scene.world.getPixelRatio();this.scoreBlock=this.scene.add.container();var t=this.scene.make.image({key:Xd,frame:zd.TEXT_SCORE}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.scoreBlock.add(t),Phaser.Display.Align.In.Center(t,this.scoreBlock),this.textScore=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(65),origin:{x:.5,y:.5},text:"0"}),this.scoreBlock.add(this.textScore),Phaser.Display.Align.In.Center(this.textScore,t,0,35),this.add(this.scoreBlock),Phaser.Display.Align.In.Center(this.scoreBlock,this,-80,10),this.scoreBlock.setAlpha(0).setScale(0),this.tweenScore=this.scene.tweens.add({targets:[this.scoreBlock],paused:!0,duration:200,delay:100,scale:{from:0,to:1},alpha:{from:0,to:1},ease:"Power1"})},n.createBestScoreBlock=function(){var e=this.scene.world.getPixelRatio();this.bestScoreBlock=this.scene.add.container();var t=this.scene.make.image({key:Xd,frame:zd.TEXT_BEST}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.bestScoreBlock.add(t),Phaser.Display.Align.In.Center(t,this.bestScoreBlock),this.textBestScore=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(65),origin:{x:.5,y:.5},text:"0"}),this.bestScoreBlock.add(this.textBestScore),Phaser.Display.Align.In.Center(this.textBestScore,t,0,35),this.add(this.bestScoreBlock),Phaser.Display.Align.In.Center(this.bestScoreBlock,this,80,10),this.bestScoreBlock.setAlpha(0).setScale(0),this.tweenBestScore=this.scene.tweens.add({targets:[this.bestScoreBlock],paused:!0,duration:200,delay:200,scale:{from:0,to:1},alpha:{from:0,to:1},ease:"Power1"})},n.createButtonPlay=function(){this.buttonPlay=new qo(this.scene,Xd,zd.BUTTON_GREEN_BIG,123.5,54),this.buttonPlay.setName("Play"),this.scoreBlock.add(this.buttonPlay);var e=this.scene.make.image({key:Xd,frame:zd.ICON_PLAY});e.setWorldSize(16,20),this.buttonPlay.add(e);var t=this.scene.make.image({key:Xd,frame:zd.TEXT_PLAY}),n=t.width,a=t.height,i=this.scene.world.getPixelRatio();t.setWorldSize(n/i,a/i),this.buttonPlay.add(t),this.add(this.buttonPlay);var r=e.width,s=t.width,o=r+s;Phaser.Display.Align.In.Center(e,this,-o/2+r/2-5,-5),Phaser.Display.Align.In.Center(t,this,o/2-s/2+5,-5),Phaser.Display.Align.In.Center(this.buttonPlay,this.textScore,0,80)},n.createButtonShare=function(){this.buttonShare=new qo(this.scene,Xd,zd.BUTTON_BLUE_BIG,123.5,54),this.buttonShare.setName("Share"),this.bestScoreBlock.add(this.buttonShare);var e=this.scene.make.image({key:Xd,frame:zd.ICON_SHARE});e.setWorldSize(21,25.5),this.buttonShare.add(e),Phaser.Display.Align.In.LeftCenter(e,this.buttonShare,-18,-4);var t=this.scene.make.image({key:Xd,frame:zd.TEXT_SHARE});t.setWorldSize(67,21.5),this.buttonShare.add(t),Phaser.Display.Align.In.Center(t,this.buttonShare,14,-5),Phaser.Display.Align.In.Center(this.buttonShare,this.textScore,0,52)},n.updatePopupSize=function(){this.top.setWorldSize(this.width,this.width*this.top.height/this.top.width),this.bottom.setWorldSize(this.width,this.width*this.bottom.height/this.bottom.width),this.mid.setWorldSize(this.width,this.height-this.top.displayHeight-this.bottom.displayHeight)},n.alignPopupImages=function(){Phaser.Display.Align.In.Center(this.top,this,0,-this.mid.displayHeight/2-this.top.displayHeight/2),Phaser.Display.Align.In.Center(this.mid,this),Phaser.Display.Align.In.Center(this.bottom,this,0,this.mid.displayHeight/2+this.bottom.displayHeight/2)},n.runScoreCounter=function(){var e,t=this,n=this.payload,a=n.bestScore,i=n.currentScore;null==(e=this.counterAnimation)||e.remove(),this.counterAnimation=this.scene.tweens.addCounter({from:0,to:i,delay:700,duration:2e3,completeDelay:300,onUpdate:function(e){t.scene.audio.playSound(Ci.SCORE_COUNT);var n=Math.floor(e.getValue());t.runScoreAnimation(),t.setCurrentScore(n)},onComplete:function(){t.setBestScore(a<i?i:a),t.setCurrentScore(i),t.scene.audio.playSound(Ci.GAME_OVER)}})},n.setBestScore=function(e){e&&void 0!==e||(e=0),this.textBestScore.setText(""+e)},n.setCurrentScore=function(e){this.textScore.setText(""+e)},n.createScoreAnimation=function(){this.scoreAnimation=new Zo({targets:[this.textScore],props:{scale:{from:1,to:1.3}}})},n.runAnimation=function(){this.runScoreCounter(),this.scene.time.delayedCall(1300,(function(){}))},n.runScoreAnimation=function(){this.scoreAnimation.play()},n.runAnimContent=function(){this.tweenIconCup.play(),this.tweenScore.play(),this.tweenBestScore.play()},n.hideContent=function(){this.iconCup.setAlpha(0).setScale(0),this.scoreBlock.setAlpha(0).setScale(0),this.bestScoreBlock.setAlpha(0).setScale(0)},n.updateData=function(e){this.payload=e;var t=e.bestScore,n=e.currentScore;if(this.setBestScore(t),n<=t)return this.setCurrentScore(n),this.runScoreAnimation(),void(n>0?this.runScoreCounter():this.counterAnimation=null);this.runAnimation()},t}(Phaser.GameObjects.Container),qd=jd,Jd=Oi.Z.DEFAULT,Qd=Jd.KEY,$d=Jd.FRAME,ep=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.infoBlock=void 0,n.challengeBlock=void 0,n.animShow=void 0,n.animHide=void 0,n.onComplete=void 0,n.scene=t,n.createInfoBlock(),n.createAnimShow(),n.createAnimHide(),n.scene.add.existing((0,_i.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createInfoBlock=function(){this.infoBlock=new qd(this.scene,0,0,326,330.5),this.add(this.infoBlock),Phaser.Display.Align.In.Center(this.infoBlock,this,0,0)},n.createRope=function(){var e=this.scene.make.image({key:Qd,frame:$d.ICON_ROPE});e.setWorldSize(15,51),this.add(e),Phaser.Display.Align.In.Center(e,this.infoBlock,-100,155);var t=this.scene.make.image({key:Qd,frame:$d.ICON_ROPE});t.setWorldSize(15,51),this.add(t),Phaser.Display.Align.In.Center(t,this.infoBlock,100,155)},n.createChallengeBlock=function(){this.challengeBlock=new Zd(this.scene,0,0,326,163),this.add(this.challengeBlock),Phaser.Display.Align.In.Center(this.challengeBlock,this.infoBlock,0,237)},n.createAnimShow=function(){var e=this,t=this.scene.gameZone.height/2+100;this.animShow=this.scene.tweens.add({targets:this,paused:!0,duration:300,delay:300,ease:Phaser.Math.Easing.Back.Out,y:{from:t,to:0},scale:{from:.9,to:1},alpha:{start:0,from:0,to:1},onComplete:function(){e.infoBlock.runAnimContent()}})},n.createAnimHide=function(){var e=this;this.animHide=this.scene.tweens.add({targets:this,paused:!0,duration:200,ease:Phaser.Math.Easing.Sine,scale:{from:1,to:0},alpha:{start:1,from:1,to:0},onComplete:function(){e.infoBlock.hideContent(),e.onComplete&&e.onComplete(),e.onComplete=null}})},n.hideContent=function(e){this.onComplete=e,this.animHide.play()},t}(Phaser.GameObjects.Container),tp=ep,np=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).bestScore=void 0,r.currentScore=void 0,r.main=void 0,r.confettiLeftEffect=void 0,r.confettiRightEffect=void 0,r.open=function(){e.prototype.open.call((0,_i.Z)(r)),r.updateScore(),r.runOpenAnimation(),r.scene.audio.playSound(Ci.GAME_OVER_SCENE),r.scene.analytics.pageview(r.name)},r.handlePlay=function(){r.main.hideContent((function(){r.close(),r.scene.storage.dispatch(zs())}))},r.handleShare=function(){r.scene.storage.dispatch(lo())},r.initScore(),r.createMain(),r.createConfettiSmallAnimation(),r.setDepth(Ri.Ks.POPUP),r.background.setAlpha(.6),r}(0,o.Z)(t,e);var n=t.prototype;return n.createMain=function(){this.bestScore=0,this.main=new tp(this.scene),this.main.setVisible(!1).setScale(0).setAlpha(0),this.main.infoBlock.buttonPlay.onClick=this.handlePlay,this.main.infoBlock.buttonClose.onClick=this.handlePlay,Phaser.Display.Align.In.Center(this.main,this),this.add(this.main)},n.createConfettiSmallAnimation=function(){this.confettiLeftEffect=new Pi(this.scene,{speedX:{min:-20,max:100},rotate:{start:-1080,end:0}}),this.confettiRightEffect=new Pi(this.scene,{speedX:{min:20,max:-100},rotate:{start:0,end:1080}}),this.confettiLeftEffect.setDepth(yi.Z.ON_TOP),this.confettiRightEffect.setDepth(yi.Z.ON_TOP)},n.isLeadersHasItem=function(e,t){if(!e||0===e.length)return!1;var n=fe()(e).call(e,(function(e){return e.playerId===t}));return n&&n.length>0},n.initScore=function(){var e=this.scene.player.getBestScore();this.bestScore=e,this.currentScore=0},n.updateScore=function(){var e=this.scene.storage.getState(),t=ls(e),n=t.score,a=t.bestScore;if(void 0===n&&void 0===a){var i=cs(e)[this.scene.player.getPlayerId()];n=(null==i?void 0:i.score)||0,a=this.scene.player.getBestScore()}this.bestScore=(a||0)<this.bestScore?this.bestScore:a||0,this.currentScore=n,this.main.infoBlock.updateData({bestScore:this.bestScore,currentScore:this.currentScore})},n.runOpenAnimation=function(){this.scene.audio.playSound(Ci.POPUP_SHOW),this.showMainBlock()},n.showMainBlock=function(){this.main.setVisible(!0),this.main.animShow.play()},t}(GameCore.Screen),ap=np,ip=Oi.Z.DEFAULT,rp=ip.KEY,sp=ip.FRAME,op=function(e){function t(t,n,i,r){var o;return(o=e.call(this,t,n,i,r)||this).popup=void 0,o.avatarMe=void 0,o.textScoreMe=void 0,o.avatarOpponent=void 0,o.textScoreOpponent=void 0,o.title=void 0,o.titleFrame=void 0,o.iconCrown=void 0,o.tweenIconCrown=void 0,o.textMessage=void 0,o.popupShowUpAnimation=void 0,o.popupFadeOutAnimation=void 0,o.buttonShare=void 0,o.tweenButtonShare=void 0,o.buttonRestart=void 0,o.tweenButtonRestart=void 0,o.myInfoBlock=void 0,o.tweenMyInfoBlock=void 0,o.opponentInfoBlock=void 0,o.tweenOpponentInfoBlock=void 0,o.icon=void 0,o.tweenIcon=void 0,o.open=function(t){e.prototype.open.call((0,_i.Z)(o),t),o.setVisible(!0),o.updateInfo(),o.loadAvatars(),o.runAnim(),o.runOpenAnimation(),o.scene.analytics.pageview(o.name)},o.close=function(){e.prototype.close.call((0,_i.Z)(o)),o.icon.setAlpha(0).setVisible(!1),o.myInfoBlock.setAlpha(0).setVisible(!1),o.opponentInfoBlock.setAlpha(0).setVisible(!1),o.buttonRestart.setAlpha(0).setScale(0).setVisible(!1),o.buttonShare.setAlpha(0).setScale(0).setVisible(!1)},o.handleClosePopup=function(){o.scene.audio.playSound(Ci.POPUP_OFF,{volume:.6}),o.runCloseAnimation(),o.popupFadeOutAnimation.next((function(){o.scene.screen.close(o.name)})),Xr.emit(gi)},o.handleShareGameResult=function(){o.scene.storage.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o,c,l,u,d,p,E,f,S;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.game,r=i.player,s=i.analytics,o=i.facebook,c=i.globalScene,l=i.lang,e.prev=1,c.screen.open(Ri.o4.NOTIFY_SCREEN,{message:l.Text.LOADING,loading:!0}),u=n(),e.next=6,fo(u);case 6:return d=e.sent,co(d),p=r.getPlayer(),E=p.playerId,f=p.name,S=p.photo,e.next=12,o.shareAsync({text:"Pheww, a great match!",intent:"SHARE",image:d||"",data:{playerId:E,playerName:f,playerPhoto:S,type:za}});case 12:s.event(Yt._.SHARE,{share_content_type:"MatchResult",success:!0}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),s.event(Yt._.SHARE,{share_content_type:"MatchResult",success:!1}),(0,a.tO)(e.t0);case 19:return e.prev=19,c.screen.close(Ri.o4.NOTIFY_SCREEN),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(t,n){return e.apply(this,arguments)}}())},o.handleRestart=function(){o.scene.screen.close(o.name),o.scene.storage.dispatch(js()),Xr.emit(Rr.REPLAY),Xr.emit(Ti)},o.setVisible(!1),o.setDepth(Ri.Ks.POPUP),o.createPopup(),o.createPopupContent(),o.background.setAlpha(.6),o}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(){var e=this.scene.world.getPixelRatio(),t=this.scene.storage.getState(),n=cs(t),a=this.scene.player.getPlayer().playerId,i=as(t).playerId,r=rs(t,{playerId:a}),s=ss(t,{opponentId:i}),o=(n[a]||{}).score,c=void 0===o?0:o,l=(n[i]||{}).score,u=void 0===l?0:l;if(this.textScoreMe.setText(String(c)),this.textScoreOpponent.setText(String(u)),!r||!s){this.textMessage.setVisible(!0),this.titleFrame.setFrame(sp.TEXT_PLAY_WITH_FRIENDS);var h=this.titleFrame,d=h.width,p=h.height;return this.titleFrame.setWorldSize(d/e,p/e),this.icon.setFrame(sp.ICON_THUNDER),this.icon.setWorldSize(42,59),this.buttonShare.setVisible(!1),this.iconCrown.setVisible(!1),Phaser.Display.Align.In.Center(this.buttonRestart,this.popup,0,100),void this.scene.audio.playSound(Ci.WAIT_OPPONENT)}return this.buttonShare.setVisible(!0),this.tweenButtonShare.play(),Phaser.Display.Align.In.Center(this.buttonRestart,this.popup,-86,100),c===u?(this.textMessage.setVisible(!1),this.titleFrame.setFrame(sp.TEXT_DRAW),this.titleFrame.setWorldSize(130,35),this.icon.setFrame(sp.TEXT_VS),this.icon.setWorldSize(62,35),this.iconCrown.setVisible(!1),void this.scene.audio.playSound(Ci.DRAW)):c>u?(this.textMessage.setVisible(!1),this.titleFrame.setFrame(sp.TEXT_WIN),this.titleFrame.setWorldSize(81,35),this.icon.setFrame(sp.TEXT_VS),this.icon.setWorldSize(62,35),this.iconCrown.setVisible(!0),this.scene.audio.playSound(Ci.WIN),void Phaser.Display.Align.In.Center(this.iconCrown,this.popup,-95,-90)):c<u?(this.textMessage.setVisible(!1),this.titleFrame.setFrame(sp.TEXT_LOSE),this.titleFrame.setWorldSize(109,35),this.icon.setFrame(sp.TEXT_VS),this.icon.setWorldSize(62,35),this.iconCrown.setVisible(!0),this.scene.audio.playSound(Ci.LOSE),void Phaser.Display.Align.In.Center(this.iconCrown,this.popup,95,-90)):void 0},n.runAnim=function(){this.tweenIconCrown.play(),this.icon.setVisible(!0),this.myInfoBlock.setVisible(!0),this.opponentInfoBlock.setVisible(!0),this.tweenIcon.play(),this.tweenMyInfoBlock.play(),this.tweenOpponentInfoBlock.play(),this.buttonRestart.setVisible(!0),this.tweenButtonRestart.play()},n.loadAvatars=function(){var e=this.scene.storage.getState(),t=this.scene.player.getPlayer(),n=t.photo,a=t.playerId,i=as(e),r=i.playerId,s=i.photo;this.avatarMe.loadPhoto(a,n,5),this.avatarOpponent.loadPhoto(r,s,5)},n.createPopup=function(){this.popup=new Sc(this.scene,0,0,325,300),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)},n.createPopupContent=function(){this.createTitle(),this.createTextMessage(),this.createMyInfoBlock(),this.createOpponentInfoBlock(),this.createIcon(),this.createIconCrown(),this.createButtonShare(),this.createButtonRestart(),this.popup.add([this.title])},n.createTitle=function(){var e=this.scene.world.getPixelRatio();this.title=this.scene.add.container();var t=this.scene.make.image({key:rp,frame:sp.RIBBON_MAIN});t.setWorldSize(260,57),this.titleFrame=this.scene.make.image({key:rp,frame:sp.TEXT_PLAY_WITH_FRIENDS});var n=this.titleFrame,a=n.width,i=n.height;this.titleFrame.setWorldSize(a/e,i/e),Phaser.Display.Align.In.Center(this.titleFrame,t,0,-3);var r=new qo(this.scene,rp,sp.BUTTON_CLOSE,25,25);r.useSound=!1,r.onClick=this.handleClosePopup,r.setName("Close"),Phaser.Display.Align.In.RightCenter(r,t,36,-19),this.title.add([t,this.titleFrame,r]),this.popup.add(this.title),Phaser.Display.Align.In.TopCenter(this.title,this.popup,0,-2)},n.createTextMessage=function(){this.textMessage=this.scene.add.text(0,0,"Waiting for your opponent",{font:"17.5px Arial",color:"#000000"}),this.popup.add(this.textMessage),Phaser.Display.Align.In.Center(this.textMessage,this.popup,0,-101)},n.createButtonShare=function(){var e=this.scene.world.getPixelRatio();this.buttonShare=new qo(this.scene,rp,sp.BUTTON_BLUE_BIG,122,54),this.buttonShare.setName("Share");var t=this.scene.make.image({key:rp,frame:sp.TEXT_SHARE}),n=t.width,a=t.height;t.setWorldSize(n/e,a/e),this.buttonShare.add(t),Phaser.Display.Align.In.Center(t,this.buttonShare,14,-5);var i=this.scene.make.image({key:rp,frame:sp.ICON_SHARE});i.setWorldSize(22.5,27),this.buttonShare.add(i),Phaser.Display.Align.In.LeftCenter(i,this.buttonShare,-16,-5),this.popup.add(this.buttonShare),Phaser.Display.Align.In.Center(this.buttonShare,this.popup,86,100),this.buttonShare.onClick=this.handleShareGameResult,this.buttonShare.setScale(0).setAlpha(0).setVisible(!1),this.tweenButtonShare=this.scene.tweens.add({targets:this.buttonShare,paused:!0,duration:200,delay:800,scale:{from:0,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createButtonRestart=function(){this.buttonRestart=new qo(this.scene,rp,sp.BUTTON_RESTART,122,54),this.buttonRestart.setName("Restart"),this.popup.add(this.buttonRestart),Phaser.Display.Align.In.Center(this.buttonRestart,this.popup,0,100),this.buttonRestart.onClick=this.handleRestart,this.buttonRestart.setScale(0).setAlpha(0),this.tweenButtonRestart=this.scene.tweens.add({targets:this.buttonRestart,paused:!0,duration:200,delay:700,scale:{from:0,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createMyInfoBlock=function(){this.myInfoBlock=this.scene.add.container(),this.avatarMe=new Ro(this.scene,{key:rp,frame:sp.AVATAR_BORDER_ORANGE_THICK,background:sp.AVATAR_BACKGROUND,width:100,height:100,borderWidth:10}),this.myInfoBlock.add(this.avatarMe),Phaser.Display.Align.In.Center(this.avatarMe,this.myInfoBlock,0,0),this.textScoreMe=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(74),text:"0",origin:{x:.5,y:.5}}),this.textScoreMe.setTint(14396272),this.myInfoBlock.add(this.textScoreMe),Phaser.Display.Align.In.Center(this.textScoreMe,this.avatarMe,0,80),this.popup.add(this.myInfoBlock),Phaser.Display.Align.In.Center(this.myInfoBlock,this.popup,-95,-28),this.myInfoBlock.setAlpha(0),this.tweenMyInfoBlock=this.scene.tweens.add({targets:this.myInfoBlock,paused:!0,duration:200,delay:400,scale:{from:1.5,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createOpponentInfoBlock=function(){this.opponentInfoBlock=this.scene.add.container(),this.avatarOpponent=new Ro(this.scene,{key:rp,frame:sp.AVATAR_BORDER_ORANGE_THICK,background:sp.AVATAR_BACKGROUND,width:100,height:100,borderWidth:10}),this.opponentInfoBlock.add(this.avatarOpponent),Phaser.Display.Align.In.Center(this.avatarOpponent,this.opponentInfoBlock,0,0),this.textScoreOpponent=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(74),text:"0",origin:{x:.5,y:.5}}),this.textScoreOpponent.setTint(14396272),this.opponentInfoBlock.add(this.textScoreOpponent),Phaser.Display.Align.In.Center(this.textScoreOpponent,this.avatarOpponent,0,80),this.popup.add(this.opponentInfoBlock),Phaser.Display.Align.In.Center(this.opponentInfoBlock,this.popup,95,-28),this.opponentInfoBlock.setAlpha(0),this.tweenOpponentInfoBlock=this.scene.tweens.add({targets:this.opponentInfoBlock,paused:!0,duration:200,delay:500,scale:{from:1.5,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Bounce.Out})},n.createIcon=function(){this.icon=this.scene.make.image({key:rp,frame:sp.ICON_THUNDER}),this.icon.setWorldSize(38,54);var e=this.icon.scale;this.popup.add(this.icon),Phaser.Display.Align.In.Center(this.icon,this.popup,0,-30),this.icon.setAlpha(0),this.tweenIcon=this.scene.tweens.add({targets:this.icon,paused:!0,duration:200,delay:300,scale:{from:1.5,to:e},alpha:{from:0,to:1},ease:"Power1"})},n.createIconCrown=function(){this.iconCrown=this.scene.make.image({key:rp,frame:sp.ICON_CROWN}),this.iconCrown.setWorldSize(47,35);var e=this.iconCrown.scale;this.popup.add(this.iconCrown),Phaser.Display.Align.In.Center(this.iconCrown,this.popup,95,-90),this.iconCrown.setAlpha(0),this.tweenIconCrown=this.scene.tweens.add({targets:this.iconCrown,paused:!0,duration:200,delay:500,scale:{from:1.5,to:e},alpha:{from:0,to:1},ease:"Power1"})},n.runCloseAnimation=function(){this.runPopupExitsAnimation(0,200)},n.runPopupExitsAnimation=function(e,t){var n,a=this;this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new cc.Z({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:function(){a.popup.setY(0)}})),null==(n=this.popupFadeOutAnimation)||n.play()},n.runOpenAnimation=function(){this.scene.audio.playSound(Ci.POPUP_SHOW),this.runPopupEntrancesAnimation(0,300)},n.runPopupEntrancesAnimation=function(e,t){if(!this.popupShowUpAnimation){var n=this.popup,a=n.y,i=n.scale;this.popupShowUpAnimation=new hc({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:a},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}}})}this.popupShowUpAnimation.play()},t}(GameCore.Screen),cp=op,lp=function(e){function t(t){var n;return(n=e.call(this,t)||this).windX=1,n.airFrictionX=.05,n.airFrictionY=.01,n._lastRotaion=0,n.rotationRate=Math.random()<.5?-1:1,n.airFrictionX=.01*Math.random()+.007,n.airFrictionY=.004*Math.random()+.006,(0,_i.Z)(n)||(0,_i.Z)(n)}return(0,o.Z)(t,e),t.prototype.update=function(t,n,a){for(var i=e.prototype.update.call(this,t,n,a),r=.01,s=t;s>16.67;)this.velocityX-=Rc(this.velocityX,r,this.airFrictionX)/60*2,this.velocityY-=Rc(this.velocityY,r,this.airFrictionY)/60*2,s-=16.67;return this.velocityX-=Rc(this.velocityX,r,this.airFrictionX)*s/1e3,this.velocityY-=Rc(this.velocityY,r,this.airFrictionY)*s/1e3,this.rotation=this._lastRotaion+this.rotationRate*Math.random()*Math.PI/180*4,this._lastRotaion=this.rotation,i},t}(Phaser.GameObjects.Particles.Particle),up=Oi.Z.EFFECTS,hp=up.KEY,dp=up.FRAME,pp=function(){function e(e){this.particle=void 0,this.listEmitter=void 0,this.emitter1=void 0,this.emitter2=void 0,this.gameWidth=void 0,this.gameHeight=void 0,this.delay=void 0,this.scene=void 0,this.scene=e,this.delay=100,this.init()}var t=e.prototype;return t.init=function(){var e=[dp.FX_CONFETTI_SMALL_1,dp.FX_CONFETTI_SMALL_2,dp.FX_CONFETTI_SMALL_3,dp.FX_CONFETTI_SMALL_4];this.particle=this.scene.add.particles(hp).setDepth(yi.Z.ON_TOP);var t=this.scene.gameZone,n=t.width,a=(t.height,this.scene.world.getZoomRatio());this.emitter1=this.particle.createEmitter({frame:e,x:-20-n/2,y:-70,speed:{min:250/a,max:3e3/a},gravityY:600/a,scale:{start:.55/a,end:.9/a,ease:Phaser.Math.Easing.Expo.Out},angle:{min:270,max:360},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.In},lifespan:{min:2e3,max:4e3},maxParticles:0,on:!1,particleClass:lp}),this.emitter2=this.particle.createEmitter({frame:e,x:n/2+20,y:-70,speed:{min:250/a,max:3e3/a},gravityY:600/a,scale:{start:.55/a,end:.9/a,ease:Phaser.Math.Easing.Expo.Out},angle:{min:180,max:270},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.In},lifespan:{min:2e3,max:4e3},maxParticles:0,on:!1,particleClass:lp}),this.listEmitter=[this.emitter1,this.emitter2]},t.start=function(){this.emitter1.flow(1e4,45),this.emitter2.flow(1e4,45),this.scene.time.delayedCall(500,this.stop.bind(this))},t.stop=function(){this.listEmitter.forEach((function(e){e.stop()}))},t.killAll=function(){var e=this;this.listEmitter.forEach((function(t){t.killAll(),t.forEachDead((function(e){e.resetPosition()}),e)}))},t.hide=function(){this.emitter1.setVisible(!1),this.emitter2.setVisible(!1)},e}();pp.particle=void 0,pp.ribbonParticle=void 0;var Ep=pp,fp=Oi.Z.DEFAULT,Sp=Oi.Z.EFFECTS,Ap=Oi.Z.EFFECTS,mp=Ap.KEY,gp=Ap.FRAME,Tp={PRELOADER:{KEY:"preloader-animation",TEXTURE:fp.KEY,PREFIX:fp.FRAME.PRELOADER,FRAME_RATE:30,END:29,ZERO_PAD:0},CONFETTI_HEXAGON:{KEY:"confetti-hexagon-animation",TEXTURE:Sp.KEY,PREFIX:Sp.FRAME.FX_CONFETTI_HEXAGON,FRAME_RATE:8,END:5,ZERO_PAD:0},CONFETTI_STAR_X:{KEY:"confetti-star-x",TEXTURE:Sp.KEY,PREFIX:Sp.FRAME.FX_CONFETTI_STAR_X,FRAME_RATE:4,END:4,ZERO_PAD:0},CONFETTI_STAR_Y:{KEY:"confetti-star-y",TEXTURE:Sp.KEY,PREFIX:Sp.FRAME.FX_CONFETTI_STAR_Y,FRAME_RATE:4,END:4,ZERO_PAD:0},RIBBON_A:{KEY:"animation-ribbon-a",TEXTURE:mp,PREFIX:gp.PREFIX_ANIMATION_RIBBON_CONFETTI_A,FRAME_RATE:16,END:3,ZERO_PAD:0},RIBBON_B:{KEY:"animation-ribbon-b",TEXTURE:mp,PREFIX:gp.PREFIX_ANIMATION_RIBBON_CONFETTI_B,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_C:{KEY:"animation-ribbon-c",TEXTURE:mp,PREFIX:gp.PREFIX_ANIMATION_RIBBON_CONFETTI_C,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_D:{KEY:"animation-ribbon-d",TEXTURE:mp,PREFIX:gp.PREFIX_ANIMATION_RIBBON_CONFETTI_D,FRAME_RATE:16,END:4,ZERO_PAD:0}},vp=Tp.RIBBON_A,yp=vp.KEY,Ip=vp.TEXTURE,Op=vp.FRAME_RATE,Rp=vp.END,Cp=vp.PREFIX,_p=vp.ZERO_PAD,bp=function(e){function t(t){var n={repeat:-1,frameRate:Op,frames:t.generateFrameNames(Ip,{prefix:Cp,end:Rp,zeroPad:_p,start:1}),yoyo:!0,showOnStart:!0};return e.call(this,t,yp,n)||this}return(0,o.Z)(t,e),t}(Phaser.Animations.Animation),Np=bp,Dp=Tp.RIBBON_B,wp=Dp.KEY,Pp=Dp.TEXTURE,Lp=Dp.FRAME_RATE,xp=Dp.END,Mp=Dp.PREFIX,kp=Dp.ZERO_PAD,Gp=function(e){function t(t){var n={repeat:-1,frameRate:Lp,frames:t.generateFrameNames(Pp,{prefix:Mp,end:xp,zeroPad:kp,start:1}),yoyo:!0,showOnStart:!0};return e.call(this,t,wp,n)||this}return(0,o.Z)(t,e),t}(Phaser.Animations.Animation),Bp=Gp,Up=Tp.RIBBON_C,Fp=Up.KEY,Hp=Up.TEXTURE,Yp=Up.FRAME_RATE,Wp=Up.END,Vp=Up.PREFIX,Zp=Up.ZERO_PAD,Kp=function(e){function t(t){var n={repeat:-1,frameRate:Yp,frames:t.generateFrameNames(Hp,{prefix:Vp,end:Wp,zeroPad:Zp,start:1}),yoyo:!0,showOnStart:!0};return e.call(this,t,Fp,n)||this}return(0,o.Z)(t,e),t}(Phaser.Animations.Animation),Xp=Kp,zp=Tp.RIBBON_D,jp=zp.KEY,qp=zp.TEXTURE,Jp=zp.FRAME_RATE,Qp=zp.END,$p=zp.PREFIX,eE=zp.ZERO_PAD,tE=function(e){function t(t){var n={repeat:-1,frameRate:Jp,frames:t.generateFrameNames(qp,{prefix:$p,end:Qp,zeroPad:eE,start:1}),yoyo:!0,showOnStart:!0};return e.call(this,t,jp,n)||this}return(0,o.Z)(t,e),t}(Phaser.Animations.Animation),nE=tE,aE=Tp.CONFETTI_STAR_X,iE=aE.KEY,rE=aE.TEXTURE,sE=aE.FRAME_RATE,oE=aE.END,cE=aE.PREFIX,lE=aE.ZERO_PAD,uE=function(e){function t(t){var n={repeat:-1,frameRate:sE,frames:t.generateFrameNames(rE,{prefix:cE,end:oE,zeroPad:lE,start:1}),yoyo:!0,showOnStart:!0};return e.call(this,t,iE,n)||this}return(0,o.Z)(t,e),t}(Phaser.Animations.Animation),hE=uE,dE=Tp.CONFETTI_STAR_Y,pE=dE.KEY,EE=dE.TEXTURE,fE=dE.FRAME_RATE,SE=dE.END,AE=dE.PREFIX,mE=dE.ZERO_PAD,gE=function(e){function t(t){var n={repeat:-1,frameRate:fE,frames:t.generateFrameNames(EE,{prefix:AE,end:SE,zeroPad:mE,start:1}),showOnStart:!0};return e.call(this,t,pE,n)||this}return(0,o.Z)(t,e),t}(Phaser.Animations.Animation),TE=gE,vE=function(e){function t(t){var n,a,i;(i=e.call(this,t)||this).scene=void 0,i.ribbon=void 0,i.graphics=void 0,i.colorUse=void 0,i.lastChange=void 0,i.currentFrame=void 0,i.isYoyo=void 0,i.isGravityChanged=void 0,i.timePassed=0,i.timeDeltaPassed=0,i.points=void 0,i.scene=t.manager.scene;var r=i.emitter.manager,s=r.x,o=r.y;return i.points=Ae()(n=xi()(a=new Array(10)).call(a,null)).call(n,(function(){return{x:i.x+s,y:i.y+o}})),i.isYoyo=!1,i.isGravityChanged=!1,i.lastChange=0,i.currentFrame=-1,i.createGraphics(),i.randomRibbonUsedWhenFall(),i}(0,o.Z)(t,e);var n=t.prototype;return n.randomRibbonUsedWhenFall=function(){switch(Phaser.Math.Between(0,3)){case 0:default:this.ribbon=this.scene.anims.get(Tp.RIBBON_A.KEY);break;case 1:this.ribbon=this.scene.anims.get(Tp.RIBBON_B.KEY);break;case 2:this.ribbon=this.scene.anims.get(Tp.RIBBON_C.KEY);break;case 3:this.ribbon=this.scene.anims.get(Tp.RIBBON_D.KEY)}},n.setRibbonPosition=function(e,t){var n;Ae()(n=this.points).call(n,(function(n){n.x=e,n.y=t}))},n.createGraphics=function(){var e=[8443204,2928867,12013036,16376097,15285798];this.colorUse=e[Phaser.Math.Between(0,e.length-1)],this.graphics=this.scene.add.graphics({lineStyle:{width:3,color:this.colorUse}});var t=this.emitter.manager,n=t.x,a=t.y,i=t.depth;this.graphics.setDepth(i),this.graphics.setPosition(n,a)},n.update=function(t,n,a){var i=e.prototype.update.call(this,t,n,a);return this.updateFrames(t),this.updatePoints(),this.updateGraphics(),this.updateGravity(),this.updateColor(),this.updateAlpha(t,n),i},n.updateFrames=function(e){this.lastChange+=e,this.lastChange>=this.ribbon.msPerFrame&&(this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1),this.currentFrame>=this.ribbon.frames.length&&(this.isYoyo=!0,this.currentFrame-=1),this.frame=this.ribbon.frames[this.currentFrame].frame,this.lastChange-=this.ribbon.msPerFrame)},n.updatePoints=function(){this.graphics.visible&&(this.points.shift(),this.points.push({x:this.x,y:this.y}))},n.updateGraphics=function(){this.graphics.visible&&(this.graphics.clear(),this.graphics.strokePoints(this.points))},n.updateGravity=function(){},n.updateAlpha=function(e,t){var n;if(!this.isGravityChanged)if(this.timePassed<1500)this.timePassed+=e;else{this.timeDeltaPassed+=e;var a=1-this.timeDeltaPassed/1800;null==(n=this.graphics)||n.setAlpha(a),a<=0&&(this.graphics.destroy(),this.isGravityChanged=!0),a<=.2&&(this.emitter.setVisible(!0),this.emitter.setGravityY(25))}},n.updateVelocity=function(){this.graphics.visible&&(this.lifeCurrent>this.life-1800?this.velocityX+=Phaser.Math.Between(-2,2):this.velocityX>0?this.velocityX+=Phaser.Math.Between(-10,6):this.velocityX+=Phaser.Math.Between(-6,10))},n.updateColor=function(){this.graphics.visible||(this.tint=this.colorUse)},t}(Phaser.GameObjects.Particles.Particle),yE=vE,IE=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.isYoyo=void 0,n.isGravityChanged=void 0,n.lastChange=void 0,n.currentFrame=void 0,n.star=void 0,n.starX=void 0,n.starY=void 0,n.isYoyo=!1,n.isGravityChanged=!1,n.lastChange=0,n.currentFrame=-1,n.scene=t.manager.scene,n.starX=n.scene.anims.get(Tp.CONFETTI_STAR_X.KEY),n.starY=n.scene.anims.get(Tp.CONFETTI_STAR_Y.KEY),n.star=n.starX,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,a){var i=e.prototype.update.call(this,t,n,a);return this.updateGravity(),this.updateVelocity(),this.updateFrameRate(),this.updateFrames(t),i},n.updateGravity=function(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.emitter.setGravityY(15),this.emitter.setSpeedX(0))},n.updateVelocity=function(){this.lifeCurrent>this.life-2e3||(this.velocityX>0?this.velocityX+=Phaser.Math.Between(-6,3):this.velocityX+=Phaser.Math.Between(-3,6))},n.updateFrames=function(e){if(this.lastChange+=e,this.lastChange>=this.star.msPerFrame){var t=Phaser.Math.RND.between(0,1);this.star=t>0?this.starX:this.starY,this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1,this.emitter.setAlpha(1)),this.currentFrame>=this.star.frames.length&&(this.isYoyo=!0,this.currentFrame-=1,this.emitter.setAlpha(.8)),this.frame=this.star.frames[this.currentFrame].frame,this.lastChange-=this.star.msPerFrame}},n.updateFrameRate=function(){this.lifeCurrent<this.life-2e3?this.star.msPerFrame=150:this.star.msPerFrame=Phaser.Math.RND.between(300,600)},t}(Phaser.GameObjects.Particles.Particle),OE=IE,RE=Oi.Z.EFFECTS,CE=RE.KEY,_E=RE.FRAME,bE=function(e){function t(t){var n;return(n=e.call(this,t,CE,_E.BLANK)||this).emitterConfetti=void 0,n.emitterRibbons=void 0,n.ribbonConfig=void 0,n.confettiConfig=void 0,n.width=void 0,n.height=void 0,n.emitterRibbons=[],n.emitterConfetti=[],n.createConfigs(),n.createAnimations(),n.scene.add.existing((0,_i.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createConfigs=function(){var e=[8443204,2928867,12013036,16376097,15285798],t=1/GameCore.Utils.Image.getImageScale();this.ribbonConfig={on:!1,visible:!1,timeScale:1.5,frame:_E.BLANK,particleBringToTop:!0,speedY:{min:-370,max:-410},gravityY:210,tint:e,lifespan:{min:8e3,max:15e3},rotate:{start:0,end:1800,random:!0},scale:{min:.6*t,max:t},alpha:{min:1,max:0},particleClass:yE},this.confettiConfig={on:!1,delay:200,timeScale:2,tint:e,particleBringToTop:!0,frame:_E.PREFIX_ANIMATION_RIBBON_CONFETTI_A+"1",speedY:{min:-380,max:-420},gravityY:210,lifespan:{min:15e3,max:18e3},rotate:{start:0,end:1080},scale:{min:.6*t,max:t},particleClass:OE}},n.createAnimations=function(){if(!this.scene.anims.get(Tp.CONFETTI_STAR_X.KEY)){var e=new hE(this.scene.anims);this.scene.anims.add(Tp.CONFETTI_STAR_X.KEY,e)}if(!this.scene.anims.get(Tp.CONFETTI_STAR_Y.KEY)){var t=new TE(this.scene.anims);this.scene.anims.add(Tp.CONFETTI_STAR_Y.KEY,t)}if(!this.scene.anims.get(Tp.RIBBON_A.KEY)){var n=new Np(this.scene.anims);this.scene.anims.add(Tp.RIBBON_A.KEY,n)}if(!this.scene.anims.get(Tp.RIBBON_B.KEY)){var a=new Bp(this.scene.anims);this.scene.anims.add(Tp.RIBBON_B.KEY,a)}if(!this.scene.anims.get(Tp.RIBBON_C.KEY)){var i=new Xp(this.scene.anims);this.scene.anims.add(Tp.RIBBON_C.KEY,i)}if(!this.scene.anims.get(Tp.RIBBON_D.KEY)){var r=new nE(this.scene.anims);this.scene.anims.add(Tp.RIBBON_D.KEY,r)}},n.run=function(e,t,n,a){this.setPosition(e,t),this.width=n,this.height=a,this.createEmitters(),this.emitterConfetti.forEach((function(e){e.emitParticle(25)})),this.emitterRibbons.forEach((function(e){e.emitParticle(20)}))},n.stop=function(){this.emitterConfetti.forEach((function(e){e.killAll()})),this.emitterRibbons.forEach((function(e){e.killAll()})),this.kill()},n.createEmitters=function(){this.emitterRibbons=[],this.emitterConfetti=[],this.createConfettiLeftEmitter(),this.createConfettiRightEmitter(),this.createRibbonLeftEmitter(),this.createRibbonRightEmitter()},n.createConfettiLeftEmitter=function(){var e=(0,r.Z)({},this.confettiConfig,{speedX:{min:50,max:100}}),t=this.createEmitter(e);this.emitterConfetti.push(t)},n.createConfettiRightEmitter=function(){var e=this.width,t=(0,r.Z)({},this.confettiConfig,{x:e,speedX:{min:-50,max:-100}}),n=this.createEmitter(t);this.emitterConfetti.push(n)},n.createRibbonLeftEmitter=function(){var e=(0,r.Z)({},this.ribbonConfig,{speedX:{min:40,max:90},emitCallback:function(e){e.setRibbonPosition(0,0)}}),t=this.createEmitter(e);this.emitterRibbons.push(t)},n.createRibbonRightEmitter=function(){var e=this.width,t=(0,r.Z)({},this.ribbonConfig,{x:e,speedX:{min:-40,max:-90},emitCallback:function(t){t.setRibbonPosition(e,0)}}),n=this.createEmitter(t);this.emitterRibbons.push(n)},t}(Phaser.GameObjects.Particles.ParticleEmitterManager),NE=bE,DE=Oi.Z.DEFAULT,wE=DE.KEY,PE=DE.FRAME,LE=function(e){function t(t,n,a,i){var r;return(r=e.call(this,t,n,a,i)||this).glare=void 0,r.popup=void 0,r.avatar=void 0,r.title=void 0,r.contents=void 0,r.buttonShare=void 0,r.bestScoreText=void 0,r.tweenGlare=void 0,r.tweenScoreText=void 0,r.popupShowUpAnimation=void 0,r.contentShowUpAnimation=void 0,r.popupFadeOutAnimation=void 0,r.confetti=void 0,r.paperFireworksCelebration=void 0,r.open=function(t){e.prototype.open.call((0,_i.Z)(r),t),r.setVisible(!0),r.runAnim();var n=r.scene.player.getBestScore()||0,a=r.scene.player.getPlayer(),i=a.playerId,s=a.photo;r.setBestScore(n),r.avatar.loadPhoto(i,s),r.runOpenAnimation(),r.scene.audio.playSound(Ci.CONGRATULATION),r.scene.analytics.pageview(r.name)},r.handleClosePopup=function(){r.scene.audio.playSound(Ci.POPUP_OFF,{volume:.6}),r.runCloseAnimation(),r.popupFadeOutAnimation.next((function(){r.scene.screen.close(r.name)})),Xr.emit(mi)},r.handleShareBestScore=function(){r.scene.storage.dispatch(lo())},r.setVisible(!1),r.setDepth(Ri.Ks.POPUP),r.createPopup(),r.createConfetti(),r.createPopupContent(),r.background.setAlpha(.6),r}(0,o.Z)(t,e);var n=t.prototype;return n.createConfetti=function(){this.confetti=new Ep(this.scene),this.paperFireworksCelebration=new NE(this.scene),this.add(this.confetti.particle)},n.runAnim=function(){this.glare.setScale(0).setAlpha(0),this.bestScoreText.setScale(0).setAlpha(0),this.tweenScoreText.play(),this.glare.setVisible(!0),this.tweenGlare.play()},n.createPopup=function(){this.popup=new Sc(this.scene,0,0,325,280),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)},n.createPopupContent=function(){this.createTitle(),this.createAvatar(),this.createGlare(),this.createBestScoreText(),this.popup.add([this.title]),this.contents=this.scene.make.group({}),this.contents.addMultiple([this.avatar])},n.createTitle=function(){var e=this.scene.world.getPixelRatio();this.title=this.scene.add.container();var t=this.scene.make.image({key:wE,frame:PE.RIBBON_MAIN});t.setWorldSize(260,57);var n=this.scene.make.image({key:wE,frame:PE.TEXT_BEST_SCORE}),a=n.width,i=n.height;n.setWorldSize(a/e,i/e),Phaser.Display.Align.In.Center(n,t,0,-3);var r=new qo(this.scene,wE,PE.BUTTON_CLOSE,25,25);r.useSound=!1,r.onClick=this.handleClosePopup,r.setName("Close"),Phaser.Display.Align.In.RightCenter(r,t,36,-19),this.title.add([t,n,r]),this.popup.add(this.title),Phaser.Display.Align.In.TopCenter(this.title,this.popup,0,-2)},n.createButtonShare=function(){this.buttonShare=new qo(this.scene,wE,PE.BUTTON_BLUE_BIG,122,54),this.buttonShare.setName("Share");var e=this.scene.make.image({key:wE,frame:PE.TEXT_SHARE});e.setWorldSize(69,21),this.buttonShare.add(e),Phaser.Display.Align.In.Center(e,this.buttonShare,14,-5);var t=this.scene.make.image({key:wE,frame:PE.ICON_SHARE});t.setWorldSize(22.5,27),this.buttonShare.add(t),Phaser.Display.Align.In.LeftCenter(t,this.buttonShare,-16,-5),this.popup.add(this.buttonShare),Phaser.Display.Align.In.Center(this.buttonShare,this.avatar,0,85),this.buttonShare.onClick=this.handleShareBestScore},n.createBestScoreText=function(){this.bestScoreText=this.scene.make.bitmapText({font:Jo.Z.PRIMARY.KEY,size:this.scene.fontSize(160),origin:{x:.5,y:.5}}),this.popup.add(this.bestScoreText),Phaser.Display.Align.In.Center(this.bestScoreText,this.popup,0,-43),this.bestScoreText.setScale(0).setAlpha(0),this.tweenScoreText=this.scene.tweens.add({targets:this.bestScoreText,paused:!0,duration:200,delay:500,scale:{from:0,to:1},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Sine})},n.createGlare=function(){this.glare=new yc(this.scene),this.glare.setVisible(!1),this.popup.add(this.glare),Phaser.Display.Align.In.Center(this.glare,this.popup,0,-50);var e=this.glare.scale;this.glare.setScale(0).setAlpha(0),this.tweenGlare=this.scene.tweens.add({targets:this.glare,paused:!0,duration:200,delay:500,scale:{from:0,to:e},alpha:{from:0,to:1},ease:Phaser.Math.Easing.Sine})},n.createAvatar=function(){this.avatar=new Ro(this.scene,{key:wE,frame:PE.AVATAR_BORDER_ORANGE_THIN,background:PE.AVATAR_BACKGROUND,width:88,height:90,borderWidth:8}),this.popup.add(this.avatar),Phaser.Display.Align.In.Center(this.avatar,this.popup,0,60)},n.runCloseAnimation=function(){this.runPopupExitsAnimation(0,200)},n.runPopupExitsAnimation=function(e,t){var n,a=this;this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new cc.Z({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:function(){a.popup.setY(0),a.glare.setVisible(!1)}})),null==(n=this.popupFadeOutAnimation)||n.play()},n.setBestScore=function(e){this.bestScoreText.setText(""+e)},n.runOpenAnimation=function(){this.scene.audio.playSound(Ci.POPUP_SHOW),this.runPopupEntrancesAnimation(0,300),this.runPopupContentEntrancesAnimation(200,300)},n.runPopupEntrancesAnimation=function(e,t){var n=this;if(!this.popupShowUpAnimation){var a=this.popup,i=a.y,r=a.scale;this.popupShowUpAnimation=new hc({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:i},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:r}},onComplete:function(){n.paperFireworksCelebration.setDepth(yi.Z.ON_TOP),n.paperFireworksCelebration.run(0,n.popup.y+n.scene.gameZone.height/2+n.popup.height/2,375,100)}})}this.popupShowUpAnimation.play()},n.runPopupContentEntrancesAnimation=function(e,t){this.contentShowUpAnimation||(this.contentShowUpAnimation=new lc.Z({targets:this.contents.getChildren(),duration:t,delay:this.scene.tweens.stagger(80,{start:e}),props:{alpha:{start:0,from:0,to:1}}})),this.contentShowUpAnimation.play()},t}(GameCore.Screen),xE=LE,ME=GameCore.Configs,kE=ME.Match,GE=ME.Gameplay,BE=ME.Network,UE=ME.Tutorial,FE=ME.Board,HE=ME.Ads,YE=Oi.Z.GAMEPLAY.FRAME,WE=function(e){function t(){for(var t,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,T()(t=[this]).call(t,r))||this).lastTimeInputEnabled=0,n.usedRescue=!1,n.isQueueScreensUpdated=void 0,n.queueScreens=[],n.isInterstitialAdShowed=void 0,n.isSwitchLeaderBoard=void 0,n.header=void 0,n.main=void 0,n.footer=void 0,n.gameOver=void 0,n.tutorialManager=void 0,n.bestScore=0,n.run=function(){if(n.tutorialManager.isValidForTutorial()||UE.ForceUseTutorial)return n.handleStartTutorial(),n.player.setAsNewUser(!1),void n.screen.close(Ri.o4.DASH_BOARD_SCREEN);var e=n.storage.getState(),t=n.player.getPlayerId(),a=Nr(e);if(rs(e,{playerId:t})&&a&&a!==Qa)return n.isQueueScreensUpdated=!0,n.updateQueueResultScreen(),void n.showQueueScreens();n.openDashboardScreen(),n.checkAndAddShortcut(),n.analytics.pageview(n.scene.key),n.player.setAsNewUser(!1),n.updateCurrentBestScore()},n.create=function(){e.prototype.create.call((0,_i.Z)(n)),n.ads.showBannerAdAsync().catch((function(e){}));var t=n.player.getBestScore();n.bestScore=t,n.createMain(),n.createHeader(),n.createFooter(),n.createTutorialManager(),n.createScreens(),n.createInput(),n.listenEvents(),n.input.setTopOnly(!0),n.preLoadAds()},n.openDashboardScreen=function(){var e=n.storage.getState(),t=Nr(e);if(t&&t!==Qa)return n.isSwitchLeaderBoard?(n.isSwitchLeaderBoard=!1,void n.closeDashboardScreen()):void n.startGame();(0,_i.Z)(n).screen.open(Ri.o4.DASH_BOARD_SCREEN,{gameState:"runGameScene"})},n.closeDashboardScreen=function(){(0,_i.Z)(n).screen.close(Ri.o4.DASH_BOARD_SCREEN)},n.closeGameOverScreen=function(){(0,_i.Z)(n).screen.close(Ri.o4.GAME_OVER_SCREEN)},n.handlePauseGame=function(){if(!n.gameOver){(0,_i.Z)(n).screen.open(Ri.o4.DASH_BOARD_SCREEN,{gameState:"pause"})}},n.handleShowInterstitialAd=(0,s.Z)(h().mark((function e(){var t,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isInterstitialAdShowed){e.next=2;break}return e.abrupt("return");case 2:if(n.isInterstitialAdShowed=!0,t=n.game,i=t.globalScene,r=t.lang,e.prev=4,n.audio.muteAll(),n.audio.pauseMusic(),n.ads.canbeShowInterstitialAd()){e.next=9;break}return e.abrupt("return");case 9:return i.screen.open(Ri.o4.NOTIFY_SCREEN,{message:r.Text.LOADING_AD,duration:BE.Timeout,loading:!0}),e.next=12,n.ads.showInterstitialAdAsync();case 12:n.analytics.showInterstitialAd(n.getSceneName()),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(4),e.abrupt("return");case 18:return e.prev=18,i.screen.close(Ri.o4.NOTIFY_SCREEN),n.audio.unmuteAll(),n.audio.playMusic(),n.ads.preloadInterstitialAdAsync().catch(a.tO),e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[4,15,18,24]])}))),n.rescued=function(){try{n.main.board.rescue(),n.usedRescue=!0}catch(e){}},n.replay=function(){n.restartGame(),n.startGame(),n.input.once(Phaser.Input.Events.POINTER_DOWN,(function(){n.input.off(Phaser.Input.Events.POINTER_DOWN)}))},n.handleCloseBannerAds=function(){n.ads.hideBannerAdAsync().catch((function(e){}))},n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(){this.events.on(Phaser.Scenes.Events.WAKE,this.run),this.events.on(Phaser.Scenes.Events.CREATE,this.run),this.events.on(Phaser.Scenes.Events.SLEEP,this.handleCloseBannerAds)},n.preLoadAds=function(){this.ads.preloadInterstitialAdAsync().catch((function(e){})),this.ads.preloadRewardedVideoAsync().catch((function(e){}))},n.createHeader=function(){this.header=new Dh(this),Phaser.Display.Align.In.TopCenter(this.header,this.gameZone)},n.createMain=function(){this.main=new oh(this),Phaser.Display.Align.In.Center(this.main,this.gameZone)},n.createFooter=function(){this.footer=new id(this),Phaser.Display.Align.In.BottomCenter(this.footer,this.gameZone,0,-65)},n.createTutorialManager=function(){this.tutorialManager=new wd(this)},n.createInput=function(){this.header.buttonSetting.onClick=this.handlePauseGame},n.createScreens=function(){this.createDashboardScreen(),this.createRescueScreen(),this.createGameOverScreen(),this.createResultScreen(),this.createBestScoreScreen()},n.createDashboardScreen=function(){this.screen.add(Ri.o4.DASH_BOARD_SCREEN,Fd)},n.startGame=function(){var e;this.gameOver=!1,this.isInterstitialAdShowed=!1,this.ads.preloadInterstitialAdAsync().catch(a.tO),this.ads.preloadRewardedVideoAsync().catch(a.tO),this.tutorialManager.skipTutorial(),this.closeDashboardScreen(),this.closeGameOverScreen(),this.handleUsedRescue(),this.audio.playSound(Ci.BOARD_GAME_START),this.enableInput(),this.restartGame();var t=this.storage.getState(),n=Nr(t);n===Qa?this.handleStartGameSingleMode():_t()(e=[ei,$a,ti]).call(e,n)>=0&&this.handleStartGameFriendMode(),this.updateCurrentBestScore()},n.handleUsedRescue=function(){this.usedRescue&&this.storage.dispatch(io())},n.handleStartTutorial=function(){var e=window.game.player;e.getPlayerIsNew()&&e.setLogged(),this.analytics.event(Yt._.TUTORIAL_BEGIN),this.tutorialManager.start()},n.handleStartGameSingleMode=function(){var e,t,n=this.storage.getState(),a=(null==(e=Jr(n))?void 0:e.data)||{},i=(null==(t=Jr(n))?void 0:t.score)||0;if(a){var r=a.fen,s=null,o=null;if(r){var c=this.main.board.getBoardByFen(r);s=this.handleDynamicFenSize(c),o=this.footer.pieces.getPiecesByFen(r),this.isFenGameOver(s,o)&&(s=null,o=null,this.storage.dispatch(Hs()),n=this.storage.getState(),i=0)}this.main.board.clearBoard(),s&&this.main.board.startGame(s),this.footer.pieces.clearPieces(),o?this.footer.pieces.showAvailablePieces(o):this.footer.pieces.showNewPieces(),this.header.mainScoreBlock.setVisible(!0),this.header.bestScoreBlock.setVisible(!0),this.header.myScoreBlock.setVisible(!1),this.header.opponentScoreBlock.setVisible(!1),this.header.mainScoreBlock.setScore(i),this.header.mainScoreBlock.setScoreText(i),this.header.setIconCup(),this.main.praise.reset()}},n.handleStartGameFriendMode=function(){this.header.mainScoreBlock.setVisible(!1),this.header.bestScoreBlock.setVisible(!1),this.header.myScoreBlock.setVisible(!0),this.header.opponentScoreBlock.setVisible(!0),this.header.myScoreBlock.updateInfo(),this.header.opponentScoreBlock.updateInfo(),this.header.setIconBattle(),this.main.praise.reset(),this.main.board.clearBoard(),this.footer.pieces.clearPieces(),this.footer.pieces.showNewPieces()},n.listenEvents=function(){Xr.on(Rr.START_GAME,this.startGame.bind(this)),Xr.on(Rr.RESCUE,this.rescued),Xr.on(Rr.REPLAY,this.replay),Xr.on(Rr.GAME_OVER,this.handleGameOver.bind(this)),Xr.on(vi,this.handleSwitchLeaderBoard.bind(this)),Xr.on(gi,this.handleCloseScreen.bind(this)),Xr.on(mi,this.handleCloseScreen.bind(this)),Xr.on("handle_state_change",this.handleStateChange.bind(this))},n.handleSwitchLeaderBoard=function(){this.isSwitchLeaderBoard=!this.isSwitchLeaderBoard},n.handleCloseScreen=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleGameOver();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getFen=function(){return this.main.board.getFenByBoard()+" "+this.footer.pieces.getFenByPieces()},n.createRescueScreen=function(){this.screen.add(Ri.o4.RESCUE_SCREEN,fd)},n.createGameOverScreen=function(){this.screen.add(Ri.o4.GAME_OVER_SCREEN,ap)},n.createResultScreen=function(){this.screen.add(Ri.o4.RESULT_SCREEN,cp)},n.createBestScoreScreen=function(){this.screen.add(Ri.o4.BEST_SCORE_SCREEN,xE)},n.updateCurrentBestScore=function(){var e=this.player.getBestScore(),t=this.storage.getState(),n=ls(t).bestScore,a=void 0===n?0:n,i=e>a?e:a;this.header.bestScoreBlock.setScoreText(i)},n.handleGameOver=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gameOver=!0,this.updateQueueScreens(),!(this.queueScreens.length>0)){e.next=5;break}return this.showQueueScreens(),e.abrupt("return");case 5:this.screen.open(Ri.o4.GAME_OVER_SCREEN),this.screen.bringToTop(Ri.o4.GAME_OVER_SCREEN);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showQueueScreens=function(){var e=this.queueScreens.pop();e&&this.screen.open(e)},n.updateQueueScreens=function(){this.isQueueScreensUpdated||(this.isQueueScreensUpdated=!0,this.updateQueueBestScoreScreen(),this.updateQueueResultScreen())},n.updateQueueResultScreen=function(){var e,t=this.storage.getState(),n=Nr(t);if(-1!==_t()(e=[$a,ei]).call(e,n)&&ts(t)){var a=as(t).playerId;n===ei&&a===Ja.playerId||this.queueScreens.push(Ri.o4.RESULT_SCREEN)}},n.updateQueueBestScoreScreen=function(){var e=this.storage.getState(),t=ls(e),n=t.score,a=t.bestScore;if(void 0===n&&void 0===a){var i=cs(e)[this.player.getPlayerId()];n=(null==i?void 0:i.score)||0,a=this.player.getBestScore()}this.bestScore=(a||0)<this.bestScore?this.bestScore:a||0,n&&(n<=this.bestScore||this.queueScreens.push(Ri.o4.BEST_SCORE_SCREEN))},n.handleRequestFinishGame=function(){var e=this,t=this.storage.getState(),n=Dr(t);this.time.addEvent({delay:GE.DelayFinishGame,callback:function(){e.enableInput(),n<kE.MaxRescueCount&&HE.Enabled?e.screen.open(Ri.o4.RESCUE_SCREEN):(e.usedRescue=!1,e.endGame())}})},n.checkAnimPlaying=function(){var e=this.tweens.getAllTweens();return!(!e||0===e.length)},n.disableInput=function(){this.input.enabled=!1},n.enableInput=function(){this.input.enabled=!0},n.restartGame=function(){var e;this.isInterstitialAdShowed=!1,this.isQueueScreensUpdated=!1,this.queueScreens=[],null==(e=this.header.mainScoreBlock.addScore)||e.stop().remove(),this.header.mainScoreBlock.setScore(0),this.header.mainScoreBlock.setScoreText(0),this.header.myScoreBlock.setScore(0),this.header.myScoreBlock.setScoreText(0),this.main.praise.listScore=[]},n.endGame=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.restartGame(),e.next=3,this.handleShowInterstitialAd();case 3:this.storage.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o,c,l,u,d,p,E,f,S,A,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=window.game,r=i.analytics,i.facebook,s=i.globalScene,o=i.lang,s.screen.open(Ri.o4.NOTIFY_SCREEN,{message:o.Text.LOADING,loading:!0}),c=n(),l=Nr(c),u=ls(c),d=u.score,p=void 0===d?0:d,E=u.level,f=void 0===E?0:E,t(Yr(p)),t(eo(p)),e.next=10,t(no(l,{score:p}));case 10:c=n(),S=wr(c),A=Pr(c),m=Math.floor((A-S)/1e3),r.event(Yt._.MATCH_END,{game_mode:GameCore.Utils.String.toUpperCamelCase(l),level:f,level_name:"level_"+f,time_played:m}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),(0,a.tO)(e.t0);case 20:return e.prev=20,Ks(300),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.handleUpdateScore=function(e){var t;if(!this.tutorialManager.isRunning()){var n=0,a=this.storage.getState(),i=Nr(a);i===Qa?n=this.header.mainScoreBlock.score+e:_t()(t=[ei,$a,ti]).call(t,i)>=0&&(n=this.header.myScoreBlock.score+e),this.storage.dispatch(Ws({score:n})),this.updateMatchData()}},n.handleAddScoreAnim=function(e){var t,n=this.storage.getState(),a=Nr(n);this.tutorialManager.isRunning()||a===Qa?this.header.mainScoreBlock.animAddScore(e):_t()(t=[ei,$a,ti]).call(t,a)>=0&&this.header.myScoreBlock.animAddScore(e)},n.updateMatchData=function(){if(!this.tutorialManager.isRunning()){var e=this.getFen(),t=this.storage.getState(),n=Jr(t).data||{};if(Nr(t)===Qa){var a=Qr(t),i=ls(t).score,s=void 0===i?0:i;this.storage.dispatch(Ds(a,{score:s,data:(0,r.Z)({},n,{fen:e}),updateAt:Date.now()}))}}},n.update=function(e){this.input.enabled||(this.checkAnimPlaying()?this.lastTimeInputEnabled=e:e-this.lastTimeInputEnabled>=3e3&&(this.input.enabled=!0,this.lastTimeInputEnabled=e))},n.isFenGameOver=function(e,t){for(var n=[],a=0;a<t.length;a++){var i=t[a],r=i.type,s=i.direction,o=i.isReverse;switch(r){case Ll:case xl:case Ml:n.push({data:Uh.getData(r,s,o)});break;case kl:case Gl:case Bl:case Ul:n.push({data:Hh.getData(r,s)});break;case Fl:case Hl:case Yl:n.push({data:Wh.getData(r)});break;case Vl:n.push({data:Zh.getData(s)});break;case Wl:n.push({data:Xh.getData(s)})}}return Pu(e,n)},n.handleDynamicFenSize=function(e){var t,n,a=0;if((n=e.length)&&(a=e[0].length),0===n||0===a)return e;var i=T()(t=[]).call(t,e);if(n>FE.rows)Jc()(i).call(i,FE.rows,n-FE.rows);else if(a<FE.rows)for(var r=0;r<FE.rows-n;r++){var s;i.push(xi()(s=new Array(n)).call(s,{value:0,frame:YE.GEM_TRANSPARENT}))}return a>FE.cols?i.forEach((function(e){Jc()(e).call(e,FE.cols,a-FE.cols)})):a<FE.cols&&i.forEach((function(e){for(var t=0;t<FE.cols-a;t++)e.push({value:0,frame:YE.GEM_TRANSPARENT})})),i},n.checkAndAddShortcut=function(){if(!this.game.player.getPlayer().isUserNew){var e=this.storage.getState();ai(e)!=ti&&this.facebook.attemptToAddShortcut()}},t}(mo.Z);var VE=WE,ZE=n(421),KE=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).name="LoadResourceFail",a.message=t||"Load resource fail",a.payload=n,a}return(0,o.Z)(t,e),t}((0,D.Z)(Error)),XE=[{id:"pass-levels",title:"Pass 10 Levels",require:{level:10},reward:{diamond:100}},{id:"collect-diamonds",title:"Collect 300 diamonds",require:{diamond:300},reward:{diamond:100}},{id:"invite-friends",title:"Invite 2 friends",require:{friend:2},reward:{diamond:200}},{id:"reach-score",title:"Reach Total Scores",require:{score:1e5},reward:{diamond:200}}],zE=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XE);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jE={PASS_LEVELS:{ID:"pass-levels",EVENTS:{PASS_LEVEL:"pass-level"}},COLLECT_DIAMONDS:{ID:"collect-diamonds",EVENTS:{COLLECT_DIAMONDS:"collect-diamonds"}},INVITE_FRIENDS:{ID:"invite-friends",EVENTS:{INVITED_FRIEND:"INVITED_FRIEND"}},REACH_SCORE:{ID:"reach-score",EVENTS:{ADD_SCORE:"add-score"}},EVENTS:{TASKS_RESET:"tasks-reset",NOTICE_UPDATE:"notice-update"}},qE=(0,Q.P1)([function(e){var t;return null==(t=e[va])?void 0:t.tasks}],(function(e){return e})),JE=(0,Q.P1)([function(e){var t;return null==(t=e[va])?void 0:t.process}],(function(e){return e})),QE=(0,Q.P1)([function(e){var t;return null==(t=e[va])?void 0:t.isRequesting}],(function(e){return e})),$E=((0,Q.P1)([function(e){var t;return null==(t=e[va])?void 0:t.isNotice}],(function(e){return e})),GameCore.Configs.DailyTasks),ef=function(e){return function(t){t({type:Ia,payload:{tasks:e}});var n=window.game.player.getCustomData("dailyTasks")||{},a=n.startedTime,i=void 0===a?0:a,r=n.logTasks,s=void 0===r?{}:r;t((Date.now()-i)/1e3>$E.Duration?tf(e):nf(s))}},tf=function(e){return function(t){var n={};e.forEach((function(e){var t=e.id,a=e.require;n[t]={},H()(a).forEach((function(e){var a;n[t]=((a={})[e]=0,a.rewarded=!1,a)}))})),window.game.player.setCustomData("dailyTasks",{logTasks:n,startedTime:Date.now()}),t(nf(n)),Xr.emit(jE.EVENTS.TASKS_RESET)}},nf=function(e){return{type:Oa,payload:{process:e}}},af=n(195),rf=n.n(af),sf=function(){var e=(window.game.player.getCustomData("dailyTasks")||{}).logTasks;return GameCore.Utils.Json.clone(e)},of=function(){function e(e,t){var n=this;this.game=void 0,this.id=void 0,this.taskData=void 0,this.requireTypes=void 0,this.process=function(e){var t,a=e.type,i=e.value;if(!(i<1)&&(-1!==_t()(t=n.requireTypes).call(t,a)&&!n.isPassRequiredTarget(a)&&n.processMore(e))){a=e.type,i=e.value;var r=n.getCorrectValue(a,i);n.game.storage.dispatch(function(e,t,n){return function(a){var i=sf();if(GameCore.Utils.Valid.isObject(i)){var r=i;GameCore.Utils.Object.hasOwn(r,e)&&(r[e].rewarded||(r[e][t]+=n,window.game.player.setCustomData("dailyTasks",{logTasks:r}),a({type:Ra,payload:{id:e,type:t,value:n}})))}}}(n.id,a,r)),n.isTaskFinished(a)&&n.game.storage.dispatch(function(e){return function(t){t({type:Ca,payload:{id:e}}),Xr.emit(jE.EVENTS.NOTICE_UPDATE)}}(n.id))}},this.game=e,this.id=t,this.init()}var t=e.prototype;return t.init=function(){var e=this,t=this.game.storage.getState(),n=qE(t)||[];if(!((null==n?void 0:n.length)<1)){var a=null==n?void 0:rf()(n).call(n,(function(t){return t.id===e.id}));a&&(this.taskData=a,this.requireTypes=H()(this.taskData.require),this.initEvents())}},t.getDataByType=function(e){var t=this.game.storage.getState(),n=JE(t),a={value:0,target:0};if(!n)return a;if(!GameCore.Utils.Object.hasOwn(n,this.taskData.id))return a;var i=n[this.taskData.id];if(GameCore.Utils.Valid.isObject(i)&&GameCore.Utils.Object.hasOwn(i,e)){var r=i[e];"number"===typeof r&&(a.value=r)}return a.target=this.taskData.require[e]||0,a},t.getCorrectValue=function(e,t){var n=this.getDataByType(e),a=n.value,i=n.target,r=t;return a+t>i&&(r=i-a),Math.round(r)},t.isPassRequiredTarget=function(e){var t=this.getDataByType(e);return t.value>=t.target},t.isTaskFinished=function(e){var t=this.getDataByType(e);return t.value>=t.target},e}(),cf=of,lf=jE.COLLECT_DIAMONDS,uf=lf.ID,hf=lf.EVENTS,df=function(e){function t(t){return e.call(this,t,uf)||this}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){Xr.off(hf.COLLECT_DIAMONDS,this.process),Xr.on(hf.COLLECT_DIAMONDS,this.process)},n.processMore=function(){return!0},t}(cf),pf=df,Ef=jE.INVITE_FRIENDS,ff=Ef.ID,Sf=Ef.EVENTS,Af=function(e){function t(t){var n;return(n=e.call(this,t,ff)||this).invitedFriends=void 0,n.resetData=function(){n.invitedFriends=[]},n.resetData(),n}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){var e=this;Xr.off(Sf.INVITED_FRIEND,this.process),Xr.on(Sf.INVITED_FRIEND,this.process),Xr.on(jE.EVENTS.TASKS_RESET,(function(){e.resetData()}))},n.processMore=function(e){var t,n=e.opponentId;return!!n&&(-1===_t()(t=this.invitedFriends).call(t,n)&&(this.invitedFriends.push(n),!0))},t}(cf),mf=Af,gf=jE.PASS_LEVELS,Tf=gf.ID,vf=gf.EVENTS,yf=function(e){function t(t){return e.call(this,t,Tf)||this}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){Xr.off(vf.PASS_LEVEL,this.process),Xr.on(vf.PASS_LEVEL,this.process)},n.processMore=function(){return!0},t}(cf),If=yf,Of=jE.REACH_SCORE,Rf=Of.ID,Cf=Of.EVENTS,_f=function(e){function t(t){var n;return(n=e.call(this,t,Rf)||this).totalScore=void 0,n.lastUpdate=void 0,n.totalScore=0,n.lastUpdate=Date.now(),n}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){Xr.off(Cf.ADD_SCORE,this.process),Xr.on(Cf.ADD_SCORE,this.process)},n.processMore=function(e){var t=e.value,n=Date.now();return n-this.lastUpdate<3e3?(this.totalScore+=t,!1):(e.value+=this.totalScore,this.totalScore=0,this.lastUpdate=n,!0)},t}(cf),bf=_f,Nf=function(){function e(e){var t=this;this.game=void 0,this.eventsListener=void 0,this.init=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.eventsListener={},e.next=3,t.initData();case 3:t.initEvents();case 4:case"end":return e.stop()}}),e)}))),this.initData=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.game.storage.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),!QE(a)){e.next=4;break}return e.abrupt("return");case 4:return t({type:ya,payload:{}}),e.next=7,zE();case 7:i=e.sent,t(ef(i));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),this.game=e,this.init()}var t=e.prototype;return t.getEventListener=function(e){return this.eventsListener[e]},t.initEvents=function(){this.eventsListener[jE.PASS_LEVELS.ID]=new If(this.game),this.eventsListener[jE.REACH_SCORE.ID]=new bf(this.game),this.eventsListener[jE.INVITE_FRIENDS.ID]=new mf(this.game),this.eventsListener[jE.COLLECT_DIAMONDS.ID]=new pf(this.game)},e}(),Df=Nf,wf=[{name:"collect-red-gems",id:"collect-gems",require:{red:5},reward:50},{name:"collect-blue-gems",id:"collect-gems",require:{blue:5},reward:50},{name:"collect-pink-gems",id:"collect-gems",require:{pink:5},reward:50},{name:"collect-green-gems",id:"collect-gems",require:{green:5},reward:50},{name:"collect-yellow-gems",id:"collect-gems",require:{yellow:5},reward:50},{name:"collect-red-blue-gems",id:"collect-gems",require:{red:5,blue:5},reward:120},{name:"collect-red-pink-gems",id:"collect-gems",require:{red:5,pink:5},reward:120},{name:"collect-red-green-gems",id:"collect-gems",require:{red:5,green:5},reward:120},{name:"collect-red-yellow-gems",id:"collect-gems",require:{red:5,yellow:5},reward:120},{name:"collect-blue-pink-gems",id:"collect-gems",require:{blue:5,pink:5},reward:120},{name:"collect-blue-green-gems",id:"collect-gems",require:{blue:5,green:5},reward:120},{name:"collect-blue-yellow-gems",id:"collect-gems",require:{blue:5,yellow:5},reward:120},{name:"collect-pink-green-gems",id:"collect-gems",require:{pink:5,green:5},reward:120},{name:"collect-pink-yellow-gems",id:"collect-gems",require:{pink:5,yellow:5},reward:120},{name:"collect-green-yellow-gems",id:"collect-gems",require:{green:5,yellow:5},reward:120},{name:"collect-red-blue-pink-gems",id:"collect-gems",require:{red:5,blue:5,pink:5},reward:210},{name:"collect-red-blue-green-gems",id:"collect-gems",require:{red:5,blue:5,green:5},reward:210},{name:"collect-red-blue-yellow-gems",id:"collect-gems",require:{red:5,blue:5,yellow:5},reward:210},{name:"collect-red-pink-green-gems",id:"collect-gems",require:{red:5,pink:5,green:5},reward:210},{name:"collect-red-pink-yellow-gems",id:"collect-gems",require:{red:5,pink:5,yellow:5},reward:210},{name:"collect-red-green-yellow-gems",id:"collect-gems",require:{red:5,green:5,yellow:5},reward:210},{name:"collect-blue-pink-green-gems",id:"collect-gems",require:{blue:5,pink:5,green:5},reward:210},{name:"collect-blue-pink-yellow-gems",id:"collect-gems",require:{blue:5,pink:5,yellow:5},reward:210},{name:"collect-blue-green-yellow-gems",id:"collect-gems",require:{blue:5,green:5,yellow:5},reward:210},{name:"collect-pink-green-yellow-gems",id:"collect-gems",require:{pink:5,green:5,yellow:5},reward:210}],Pf=function(){var e=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wf);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lf=(0,Q.P1)([function(e){var t;return null==(t=e[Ea])?void 0:t.missions}],(function(e){return e})),xf=(0,Q.P1)([function(e){var t;return null==(t=e[Ea])?void 0:t.isRequesting}],(function(e){return e})),Mf=((0,Q.P1)([Lf,function(e,t){return t.name}],(function(e,t){return e?"string"!==typeof t?null:GameCore.Utils.Object.hasOwn(e,t)?e[t]:null:null})),function(e){return{type:Sa,payload:{missions:e}}}),kf={TYPES:{COLLECT_GEMS:"collect-gems",USE_ITEM:"use-item",COMBO:"combo"},EVENTS:{MISSION_START:"mission-start",MISSION_UPDATE:"mission-update",MISSION_FAILED:"mission-failed",MISSION_COMPLETED:"mission-completed"}},Gf=(0,Q.P1)([function(e){var t;return null==(t=e[Ea])?void 0:t.mission}],(function(e){return e})),Bf=((0,Q.P1)([Gf],(function(e){return e?e.name:null})),function(){function e(e,t,n){var a=this;this.game=void 0,this.id=void 0,this.name=void 0,this.reward=void 0,this.process=function(e){var t=e.id,n=e.type,i=e.value;i<1||a.id===t&&a.isTypeRequired(n)&&a.processMore(e)&&(a.game.storage.dispatch(function(e,t,n){return{type:Aa,payload:{name:e,type:t,value:n}}}(a.name,n,i)),a.isMissionComplete()&&(Xr.emit(kf.EVENTS.MISSION_COMPLETED,{name:a.name,reward:a.reward}),a.game.storage.dispatch(function(e){return{type:ma,payload:{name:e}}}(a.name))))},this.id=t,this.name=n,this.game=e}var t=e.prototype;return t.start=function(){var e=this.game.storage.getState(),t=Gf(e);t&&t.name===this.name&&(this.reward=t.reward,this.initEvents())},t.getMissionData=function(){var e=this.game.storage.getState(),t=Gf(e);return t?t.name!==this.name?null:t:null},t.getDataByType=function(e){var t=this.getMissionData();if(!t)return null;var n=t.require[e];return{value:t.process[e],target:n}},t.isTypeRequired=function(e){var t=this.getDataByType(e);return!!t&&t.target>0},t.isMissionComplete=function(){var e=this.getMissionData();if(!e)return!0;var t=e.require,n=e.process,a=!0;return H()(t).forEach((function(e){if(a){var i=t[e];n[e]<i&&(a=!1)}})),a},e}()),Uf=Bf,Ff=kf.EVENTS,Hf=kf.TYPES,Yf=function(e){function t(t,n){return e.call(this,t,Hf.COLLECT_GEMS,n)||this}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){Xr.off(Ff.MISSION_UPDATE,this.process),Xr.on(Ff.MISSION_UPDATE,this.process)},n.processMore=function(){return!0},t}(Uf),Wf=Yf,Vf=kf.EVENTS,Zf=kf.TYPES,Kf=function(e){function t(t,n){return e.call(this,t,Zf.COMBO,n)||this}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){Xr.off(Vf.MISSION_UPDATE,this.process),Xr.on(Vf.MISSION_UPDATE,this.process)},n.processMore=function(e){var t=this.getMissionData();if(!t)return!1;var n=e.type;return e.value>=t.require[n]},t}(Uf),Xf=Kf,zf=kf.EVENTS,jf=kf.TYPES,qf=function(e){function t(t,n){return e.call(this,t,jf.USE_ITEM,n)||this}(0,o.Z)(t,e);var n=t.prototype;return n.initEvents=function(){Xr.off(zf.MISSION_UPDATE,this.process),Xr.on(zf.MISSION_UPDATE,this.process)},n.processMore=function(e){return!0},t}(Uf),Jf=qf,Qf=function(){function e(e){var t=this;this.game=void 0,this.listener=void 0,this.init=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initData();case 2:t.initListeners(),t.initEvents();case 4:case"end":return e.stop()}}),e)}))),this.initData=(0,s.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.game.storage.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),!xf(a)){e.next=4;break}return e.abrupt("return");case 4:return t({type:fa,payload:{}}),e.next=7,Pf();case 7:i=e.sent,t(Mf(i));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),this.startListener=function(e){t.listener[e]&&t.listener[e].start()},this.game=e,this.init()}var t=e.prototype;return t.initListeners=function(){var e=this;this.listener={};var t=this.game.storage.getState(),n=Lf(t);n&&H()(n).forEach((function(t){switch(n[t].id){case kf.TYPES.COLLECT_GEMS:e.listener[t]=new Wf(e.game,t);break;case kf.TYPES.COMBO:e.listener[t]=new Xf(e.game,t);break;case kf.TYPES.USE_ITEM:e.listener[t]=new Jf(e.game,t)}}))},t.initEvents=function(){Xr.off(kf.EVENTS.MISSION_START,this.startListener),Xr.on(kf.EVENTS.MISSION_START,this.startListener)},e}(),$f=Qf,eS=n(418),tS={};sa()(Ci).forEach((function(e){tS[e]="./assets/sounds/"+e+".mp3"}));var nS={BACKGROUND:{KEY:"background",FILE:"./assets/music/bg_music.mp3"},EFFECTS:tS},aS=n(410),iS="How about diving into the game for a relaxing experience?",rS=GameCore.Configs.Notification.DailyNotificationMessages,sS=void 0===rS?{}:rS,oS=function(){function e(){}e.sendNewUserNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getInstance(),e.abrupt("return",t.sendNewUserNotificationInstance());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.sendDailyNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getInstance(),e.abrupt("return",t.sendDailyNotificationInstance());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.sendTestDailyNotification=function(){var e=(0,s.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getInstance();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance};var t=e.prototype;return t.sendNewUserNotificationInstance=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.game,n=t.player,a=t.facebook,i=t.rollbar,e.prev=1,n.getPlayerIsNew()){e.next=5;break}return e.abrupt("return");case 5:if(n.getPlayerASID()){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,FBInstant.player.getDataAsync(["isNotificationFirstSent"]);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:if(r=e.t0,!0!==r.isNotificationFirstSent){e.next=17;break}return e.abrupt("return");case 17:return s={message:iS,delayTime:14400,type:aS.Z.NEW_USER_NOTIFICATION},e.next=20,a.sendNotificationAsync(s);case 20:FBInstant.player.setDataAsync({isNotificationFirstSent:!0}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(1),i.sendException(e.t1);case 26:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}(),t.sendDailyNotificationInstance=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.game.rollbar,e.prev=1,n=new Date,a=n.getDay(),e.t0=a,e.next=0===e.t0?7:1===e.t0?10:2===e.t0?13:3===e.t0?16:4===e.t0?19:22;break;case 7:return e.next=9,this.sendMondayNotification();case 9:return e.abrupt("break",22);case 10:return e.next=12,this.sendTuesdayNotification();case 12:return e.abrupt("break",22);case 13:return e.next=15,this.sendWednesdayNotification();case 15:return e.abrupt("break",22);case 16:return e.next=18,this.sendThursdayNotification();case 18:return e.abrupt("break",22);case 19:return e.next=21,this.sendFridayNotification();case 21:return e.abrupt("break",22);case 22:return e.next=24,this.sendSaturdayNotification();case 24:return e.next=26,this.sendSundayNotification();case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(1),t.sendException(e.t1);case 31:case"end":return e.stop()}}),e,this,[[1,28]])})));return function(){return e.apply(this,arguments)}}(),t.sendMondayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r={message:null!=(i=sS.MONDAY)?i:iS,delayTime:86400,type:aS.Z.MONDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendTuesdayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r={message:null!=(i=sS.TUESDAY)?i:iS,delayTime:86400,type:aS.Z.TUESDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendWednesdayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r={message:null!=(i=sS.WEDNESDAY)?i:iS,delayTime:86400,type:aS.Z.WEDNESDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendThursdayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r={message:null!=(i=sS.THURSDAY)?i:iS,delayTime:86400,type:aS.Z.THURSDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendFridayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r={message:null!=(i=sS.FRIDAY)?i:iS,delayTime:86400,type:aS.Z.FRIDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendSaturdayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r=this.findDelayTimeForNextDay(6,10),s={message:null!=(i=sS.SATURDAY)?i:iS,delayTime:r,type:aS.Z.SATURDAY_NOTIFICATION},e.next=6,n.sendNotificationAsync(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.sendException(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),t.sendSundayNotification=function(){var e=(0,s.Z)(h().mark((function e(){var t,n,a,i,r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,a=t.rollbar,e.prev=1,r=this.findDelayTimeForNextDay(0,10),s={message:null!=(i=sS.SUNDAY)?i:iS,delayTime:r,type:aS.Z.SUNDAY_NOTIFICATION},e.next=6,n.sendNotificationAsync(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.sendException(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),t.findDelayTimeForNextDay=function(e,t){if(e<0||e>6)throw new Error("Invalid day for notification");if(t<0||t>23)throw new Error("Invalid hour for notification");var n=Date.now(),a=new Date(n).getDay(),i=new Date(n).getHours(),r=e,s=t;if(a===r&&i>=s){var o=3600*(168-i+s);if(o>604800)throw new Error("Notification delay time is more than 7 days");return o}var c=r<a?7-a+r:r-a;s<i&&c--;var l=3600*(24*c+(s<i?24-i+s:s-i));if(l>604800)throw new Error("Notification delay time is more than 7 days");return l},t.sendTestDailyNotificationInstance=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a,i,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={0:"SUNDAY",1:"MONDAY",2:"TUESDAY",3:"WEDNESDAY",4:"THURSDAY",5:"FRIDAY",6:"SATURDAY"},e.prev=1,i=iS,!(t<0||t>6)){e.next=5;break}throw new Error("Invalid day for notification. Day must be between 0 (Sunday) and 6 (Saturday)");case 5:return i=null!=(a=sS[n[t]])?a:iS,r={message:i,delayTime:300,type:aS.Z.GENERIC_NOTIFICATION},e.next=9,window.game.facebook.sendNotificationAsync(r);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),e}();oS._instance=void 0;var cS=oS,lS=GameCore.Configs.Notification.ApiUrl,uS=function(){var e=(0,s.Z)(h().mark((function e(t){var n,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.playerId,e.next=3,(0,Pe.v)("players/"+n,t,{},lS,10);case 3:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hS=GameCore.Configs,dS=hS.AppId,pS=hS.Notification,ES=function(e){function t(){for(var t,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,T()(t=[this]).call(t,r))||this).isMusicLoaded=!1,n.handleFBInstantGameStarted=function(){window.__fbGameReady=!0,window.__fbPlatform=FBInstant.getPlatform(),n.player.requestConnectedPlayers()},n.processAfterUpdatePlayerProfile=function(){pS.Enable&&(n.updatePlayerProfileToNotificationService(),pS.DisableSendNotification||(cS.sendNewUserNotification(),cS.sendDailyNotification()))},n.startGame=function(){n.analytics.event(Yt._.APP_READY),n.storage.dispatch((0,eS.I)(li.Co.LOAD_SCENE)),n.storage.dispatch(function(){var e=(0,s.Z)(h().mark((function e(t,n){var i,r,s,o,c,l,u,d,p,E,f,S,A,m,g,T,v,y,I,O,R,C,_;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n(),r=ni(i),s=ai(i),o=window.game,c=o.player,l=o.analytics,u=o.facebook,o.globalScene,d=c.getPlayer(),p=r.contextId,E=r.entryPointData,S=(f=E||{}).type,A=f.matchId,m=f.opponentId,g=f.playerId,T=f.playerName,v=f.playerPhoto,y=f.playerScore,I=d.playerId===g,O=Ja,I||"string"!==typeof g||"string"!==typeof T||(O={playerId:g,name:T,photo:"string"===typeof v?v:"",locale:"en_US"}),d.isUserNew&&l.event(Yt._.NEW_USER),s!==ti){e.next=25;break}return e.prev=12,e.next=15,u.getTournamentAsync();case 15:R=e.sent,C=R.getID().toString(),t(Gr(C)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),(0,a.tO)(e.t0);case 23:return t(Xs()),e.abrupt("return");case 25:if(s!==$a){e.next=34;break}if(S!==za){e.next=30;break}return I||c.updateConnectedPlayers([O]),t(Js(p,O.playerId,!0)),e.abrupt("return");case 30:if(!(_t()(_=[m,g]).call(_,d.playerId)>=0)||S!==ja){e.next=34;break}return t($s(A,I?m:g)),e.abrupt("return");case 34:if(s!==ei){e.next=39;break}return t(Ys(g,{score:y,level:0})),t(startMatchingGroupModeGame(O)),e.abrupt("return");case 39:if(!d.isUserNew){e.next=42;break}return t(zs()),e.abrupt("return");case 42:window.game.globalScene.events.emit(li.K5.SWITCH,li.Co.GAME_SCENE);case 43:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t,n){return e.apply(this,arguments)}}())},n.handleLoadMusicCompleted=function(){n.audio.initMusic(nS.BACKGROUND.KEY),!!n.game.player.getPlayerSetting("music")&&n.audio.playMusic()},n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(){var e=this,t=this.getLangCode();this.facebook.progressLoading.loadingProgressFbLoadScene(),this.analytics.event(Yt._.SCREEN_OPEN,{screen_name:"LoadScene"}),this.load.on("progress",(function(t){e.facebook.progressLoading.onProgress(t)})),this.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,(function(e){var t=new KE("Load resources at LoadScene failed.");(0,a.R0)(t,{file:null==e?void 0:e.url})})),this.load.bitmapFont(Jo.Z.PRIMARY.KEY.replace(/(fonts)/g,"fonts"+t),Jo.Z.PRIMARY.TEXTURE.replace(/(fonts)/g,"fonts"+t),Jo.Z.PRIMARY.DATA.replace(/(fonts)/g,"fonts"+t)),this.load.bitmapFont(Jo.Z.PRIMARY_LIGHT.KEY.replace(/(fonts)/g,"fonts"+t),Jo.Z.PRIMARY_LIGHT.TEXTURE.replace(/(fonts)/g,"fonts"+t),Jo.Z.PRIMARY_LIGHT.DATA.replace(/(fonts)/g,"fonts"+t)),this.load.bitmapFont(Jo.Z.NUMBER_GOLD.KEY,Jo.Z.NUMBER_GOLD.TEXTURE,Jo.Z.NUMBER_GOLD.DATA),this.load.image(qa.Z.AVATAR.KEY,qa.Z.AVATAR.FILE),this.load.image(qa.Z.BACKGROUND.KEY,qa.Z.BACKGROUND.FILE),this.load.multiatlas(Oi.Z.DEFAULT.KEY,Oi.Z.DEFAULT.JSON.replace(/{\w+}/g,t),Oi.Z.DEFAULT.URL.replace(/{\w+}/g,t)),this.load.atlas({key:Oi.Z.GAMEPLAY_JPG.KEY,textureURL:Oi.Z.GAMEPLAY_JPG.TEXTURE,atlasURL:Oi.Z.GAMEPLAY_JPG.JSON}),this.load.atlas({key:Oi.Z.GAMEPLAY.KEY,textureURL:Oi.Z.GAMEPLAY.TEXTURE.replace(/{\w+}/g,t),atlasURL:Oi.Z.GAMEPLAY.JSON.replace(/{\w+}/g,t)}),this.load.atlas({key:Oi.Z.EFFECTS.KEY,textureURL:Oi.Z.EFFECTS.PATH.replace(/{\w+}/g,t),atlasURL:Oi.Z.EFFECTS.JSON.replace(/{\w+}/g,t)}),this.load.atlas({key:Oi.Z.TUTORIAL.KEY,textureURL:Oi.Z.TUTORIAL.TEXTURE,atlasURL:Oi.Z.TUTORIAL.JSON}),this.player.updateData().then(this.processAfterUpdatePlayerProfile).catch(a.tO)},n.create=function(){try{this.audio.initSound(),this.audio.importSoundEffectKeys(nS.EFFECTS),this.analytics.event(Yt._.LOAD_COMPLETE),this.facebook.on("startgame",this.handleFBInstantGameStarted),this.facebook.gameStarted(),this.initModules(),this.setupGlobalScene(),this.lazyLoadResource(),this.handleShowAdWhenStartGame(),this.startGame()}catch(e){}},n.getLangCode=function(){var e="";switch(this.facebook.getLocale()){case"ru":e="/ru";break;case"pt":e="/pt";break;case"fr":e="/fr";break;case"hi":e="/hi";break;case"it":e="/it";break;case"id":e="/id";break;case"de":e="/de";break;case"ja":e="/ja";break;case"es":e="/es";break;case"zh":e="/zh";break;case"ar":e="/ar";break;case"tr":e="/tr"}return e},n.updatePlayerProfileToNotificationService=function(){var e=this.player.getPlayer(),t=e.playerId,n=e.name,a=e.photo,i=e.locale,r=e.ASID;uS({appId:dS,playerId:t,name:n,photo:a,locale:i,ASID:r})},n.setupGlobalScene=function(){var e=this.scene.get(li.Co.GLOBAL_SCENE);e instanceof ZE.Z&&e.setup()},n.initModules=function(){new $f(this.game),new Df(this.game)},n.lazyLoadResource=function(){var e=this;setTimeout((function(){e.scene.wake(),e.loadSounds(),e.load.once(Phaser.Loader.Events.COMPLETE,(function(){e.scene.sleep()}))}),1500)},n.loadSounds=function(){this.loadSoundEffects(),this.loadMusic()},n.loadSoundEffects=function(){var e=this;H()(nS.EFFECTS).forEach((function(t){e.load.audio(t,nS.EFFECTS[t])}))},n.loadMusic=function(){if(!this.isMusicLoaded){this.isMusicLoaded=!0;var e=Phaser.Loader.Events.FILE_KEY_COMPLETE;this.load.once(e+"audio-"+nS.BACKGROUND.KEY,this.handleLoadMusicCompleted),this.load.audio(nS.BACKGROUND.KEY,nS.BACKGROUND.FILE),this.load.start()}},n.handleShowAdWhenStartGame=function(){var e=this;if(GameCore.Configs.Ads.InterstitialAdOptions.showWhenStartGame){var t={en:"Initializing...",ru:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f...",pt:"Inicializando...",es:"Inicializando...",ar:"\u062a\u0647\u064a\u0626\u0629...",hi:"\u092a\u094d\u0930\u093e\u0930\u0902\u092d \u0915\u0930 \u0930\u0939\u093e \u0939\u0948...",zh:"\u521d\u59cb\u5316\u4e2d...",tr:"Ba\u015flat\u0131l\u0131yor...",ja:"\u521d\u671f\u5316\u4e2d...",fr:"Initialisation en cours...",id:"Menginisialisasi...",de:"Initialisierung...",it:"Inizializzazione..."}[this.lang.getCurrentLanguage()||""]||"",n=document.createElement("div");n.id="wait-ads-mask";var i=document.createElement("div");i.id="wait-ads-content",n.appendChild(i);var r=document.createElement("div");r.id="wait-ads-dual-ring",i.appendChild(r);var o=document.createElement("div");o.id="wait-ads-text",o.innerHTML=t,i.appendChild(o),document.body.appendChild(n),this.audio.muteAll(),setTimeout((0,s.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.audio.stopMusic(),e.audio.muteAll(),t.next=5,e.ads.preloadInterstitialAdAsync();case 5:return t.next=7,e.ads.showInterstitialAdAsync();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,a.tO)(t.t0);case 12:return t.prev=12,n.remove(),e.audio.unmuteAll(),e.audio.playMusic(),t.finish(12);case 17:case"end":return t.stop()}}),t,null,[[0,9,12,17]])}))),0)}},t}(Phaser.Scene),fS=ES,SS=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=e.call.apply(e,T()(t=[this]).call(t,i))||this).isVisible=!0,n.browserPrefixes=["moz","ms","o","","webkit"],n.visibleCallbacks=[],n.hiddenCallbacks=[],n.handleVisibilityChange=function(e){if("boolean"===typeof e)return e?n.onVisibleEvent():n.onHiddenEvent();var t=n.getBrowserPrefix(),a=n.getHiddenPropertyName(t);return document[a]?n.onHiddenEvent():n.onVisibleEvent()},n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(){var e=this,t=this.getBrowserPrefix(),n=this.getVisibilityEvent(t);document.addEventListener(n,this.handleVisibilityChange,!1),document.addEventListener("focus",(function(){e.handleVisibilityChange(!0)}),!1),document.addEventListener("blur",(function(){e.handleVisibilityChange(!1)}),!1),window.addEventListener("focus",(function(){e.handleVisibilityChange(!0)}),!1),window.addEventListener("blur",(function(){e.handleVisibilityChange(!1)}),!1)},n.addEventVisible=function(e){this.visibleCallbacks.push(e)},n.addEventHidden=function(e){this.hiddenCallbacks.push(e)},n.isGameVisible=function(){return this.isVisible},n.getHiddenPropertyName=function(e){return e?e+"Hidden":"hidden"},n.getVisibilityEvent=function(e){return(e||"")+"visibilitychange"},n.getBrowserPrefix=function(){for(var e=0;e<this.browserPrefixes.length;e++)if(this.getHiddenPropertyName(this.browserPrefixes[e])in document)return this.browserPrefixes[e];return""},n.onVisibleEvent=function(){this.isVisible||(this.isVisible=!0,this.visibleCallbacks.forEach((function(e){e()})))},n.onHiddenEvent=function(){this.isVisible&&(this.isVisible=!1,this.hiddenCallbacks.forEach((function(e){e()})))},t}(Phaser.Plugins.BasePlugin),AS=SS,mS=n(585),gS=["Enable"],TS=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var a=t.prototype;return a.boot=function(){var t=(0,s.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.boot.call(this),this.addExtraGameObjectMethods(),this.addExtraFBInstantFunctions(),this.addPlugins(),t.next=6,this.addDevPlugins();case 6:return t.next=8,this.initAdsAsync();case 8:this.addScenes(),this.addDevScenes(),this.initWorld(),this.initStorage(),this.initLanguage(),this.initVisibilityChangeHandler(),this.initUtils(),this.initRollbar(),this.initConsole(),this.initDebugger(),this.initStatistics(),this.initParticleEditor(),this.initProfilerPlugin(),this.initAdaptivePerformance(),this.initCanvasRecorderPlugin();case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.start=function(){e.prototype.start.call(this)},a.updateFps=function(e){void 0===e&&(e=60),this.getFps()!==e&&this.setFps(e)},a.getFps=function(){return this.scene.game&&this.scene.game.loop&&this.scene.game.loop.raf?this.scene.game.loop.raf.fps:5},a.setFps=function(e){this.scene.game&&this.scene.game.loop&&this.scene.game.loop.raf&&"function"===typeof this.scene.game.loop.raf.updateFps&&this.scene.game.loop.raf.updateFps(e)},a.addExtraGameObjectMethods=function(){var e=new m(this);e.addKillRevive(),e.addKillReviveGroup(),e.addDrawDebugBox(),e.addSetWorldSize(),e.addSetWorldSizeForContainer(),e.addGetWorldPosition(),e.addHighQuality(),e.addSetLineHeightForBitmapText()},a.addExtraFBInstantFunctions=function(){var e=new d.Z(this.facebook);this.facebook.getLocale=e.getLocale,this.facebook.shareAsync=e.shareAsync,this.facebook.inviteAsync=e.inviteAsync,this.facebook.switchAsync=e.switchAsync,this.facebook.chooseAsync=e.chooseAsync,this.facebook.createAsync=e.createAsync,this.facebook.sendMessage=e.sendMessage,this.facebook.getContextID=e.getContextID,this.facebook.getPlayerToken=e.getPlayerToken,this.facebook.matchPlayerAsync=e.matchPlayerAsync,this.facebook.getContextPlayers=e.getContextPlayers,this.facebook.setLoadingProgress=e.setLoadingProgress,this.facebook.attemptToAddShortcut=e.attemptToAddShortcut,this.facebook.attemptToSubscribeBot=e.attemptToSubscribeBot,this.facebook.postSessionScoreAsync=e.postSessionScoreAsync,this.facebook.getRewardedVideoAsync=e.getRewardedVideoAsync,this.facebook.sendNotificationAsync=e.sendNotificationAsync,this.facebook.getInterstitialAdAsync=e.getInterstitialAdAsync,this.facebook.isSupportedAPI=e.isSupportedAPI,e.injectTournament(),this.facebook.progressLoading=new S(this)},a.addPlugins=function(){this.plugins.install("Storage",Ma,!0,"storage"),this.plugins.install("Rollbar",Ut,!0,"rollbar"),this.plugins.install("AdsManager",x,!0,"ads"),this.plugins.install("AuthManager",ie,!0,"auth"),this.plugins.install("AudioManager",X,!0,"audio"),this.plugins.install("WorldManager",Za,!0,"world"),this.plugins.install("PlayerManager",Et,!0,"player"),this.plugins.install("ProfileManager",It,!0,"profile"),this.plugins.install("LanguageManager",pi,!0,"lang"),this.plugins.install("AnalyticsManager",G,!0,"analytics"),this.plugins.install("AdaptivePerformance",de,!0,"performance"),this.plugins.install("VisibilityChangeHandler",AS,!0,"visibility"),this.plugins.installScenePlugin("textStyler",Fa,"textStyler"),this.plugins.installScenePlugin("ScreenManager",zt,"screen"),this.plugins.installScenePlugin("FrameCapture",oe,"frameCapture"),window.SpinePlugin&&this.plugins.installScenePlugin("SpinePlugin",SpinePlugin,"spine"),this.storage=this.plugins.get("Storage"),this.rollbar=this.plugins.get("Rollbar"),this.ads=this.plugins.get("AdsManager"),this.auth=this.plugins.get("AuthManager"),this.audio=this.plugins.get("AudioManager"),this.world=this.plugins.get("WorldManager"),this.player=this.plugins.get("PlayerManager"),this.lang=this.plugins.get("LanguageManager"),this.profile=this.plugins.get("ProfileManager"),this.analytics=this.plugins.get("AnalyticsManager"),this.performance=this.plugins.get("AdaptivePerformance"),this.visibility=this.plugins.get("VisibilityChangeHandler")},a.addDevPlugins=function(){var e=(0,s.Z)(h().mark((function e(){var t,a,i,r,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GameCore.Utils.Valid.isDebugger()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([n.e(7),n.e(942)]).then(n.bind(n,586));case 4:return t=e.sent.default,e.next=7,Promise.all([n.e(498),n.e(739),n.e(530)]).then(n.bind(n,587));case 7:return a=e.sent.default,e.next=10,n.e(401).then(n.bind(n,588));case 10:return i=e.sent.default,e.next=13,Promise.all([n.e(498),n.e(123)]).then(n.bind(n,589));case 13:return r=e.sent.default,e.next=16,Promise.all([n.e(498),n.e(803)]).then(n.bind(n,590));case 16:return s=e.sent.default,e.next=19,Promise.all([n.e(498),n.e(616),n.e(613)]).then(n.bind(n,591));case 19:o=e.sent.default,this.plugins.install("Console",t,!0,"console"),this.plugins.install("Debugger",a,!0,"debugger"),this.plugins.install("Statistics",i,!0,"statistics"),this.plugins.install("Profiler",r,!0,"profiler"),this.plugins.install("ParticleEditor",s,!0,"particle-editor"),this.plugins.install("CanvasRecorder",o,!0,"canvasRecorder"),this.eruda=this.plugins.get("Console"),this.debugger=this.plugins.get("Debugger"),this.statistics=this.plugins.get("Statistics"),this.profiler=this.plugins.get("Profiler"),this.particleEditor=this.plugins.get("ParticleEditor"),this.canvasRecorder=this.plugins.get("CanvasRecorder");case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.addScenes=function(){this.scene.add(li.Co.BOOT_SCENE,Ai,!0),this.scene.add(li.Co.LOAD_SCENE,fS,!1),this.scene.add(li.Co.GAME_SCENE,VE,!1),this.scene.add(li.Co.GAME_OVER_SCENE,jc,!1),this.scene.add(li.Co.GLOBAL_SCENE,ZE.Z,!1)},a.addDevScenes=function(){var e=(0,s.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GameCore.Utils.Valid.isDebugger()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.e(638).then(n.bind(n,592));case 4:t=e.sent.default,this.scene.add(li.Co.TEST_SCENE,t,!1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.initAdsAsync=function(){var e=(0,s.Z)(h().mark((function e(){var t,a,i,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GameCore.Configs.Ads,mS.Z.setGame(this),a=mS.Z,!t.Mockup.Enable){e.next=8;break}return e.next=6,n.e(131).then(n.bind(n,593));case 6:i=e.sent.default,a=i;case 8:s=(0,r.Z)({},t.InterstitialAdOptions),this.ads.configure(a,{enabled:t.Enabled,calculateSafeAreaBottom:t.CalculateSafeAreaBottom,enableRewardVideoResetInterstitial:t.EnableRewardVideoResetInterstitial,interstitialAdOptions:s,rewardAdOptions:t.RewardAdOptions,bannerAdOptions:t.BannerAdOptions});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.initWorld=function(){var e=GameCore.Configs.Game,t=e.AutoResize,n=e.PortraitRatio,a=e.PortraitWidth,i=e.PortraitHeight,r=e.LandscapeRatio,s=e.LandscapeWidth,o=e.LandscapeHeight,c=t,l=e.DisableLandscape,u=e.FullSizeOnLandscape,h=n,d=a,p=i,E=r,f=s,S=o;this.world.configure({autoResize:c,portraitRatio:h,portraitWidth:d,portraitHeight:p,landscapeRatio:E,landscapeWidth:f,landscapeHeight:S,disableLandscape:l,fullSizeOnLandscape:u}),this.world.resize(e.ForcePixelRatio)},a.initStorage=function(){var e=new ci(this);this.storage.setInitiator(e)},a.initLanguage=function(){var e=this.facebook.getLocale();this.lang.configure({locale:e,upperCaseText:!0})},a.initVisibilityChangeHandler=function(){this.visibility.configure()},a.initUtils=function(){this.handlePauseAudio()},a.initConsole=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.Debugger.ShowConsole&&this.eruda.configure({tool:["console","info"],defaults:{theme:"Dark"}}))},a.initDebugger=function(){if(GameCore.Utils.Valid.isDebugger()){var e=GameCore.Configs.Debugger,t=e.ShowInspector,n=e.ShowMonitoring;(t||n)&&this.debugger.configure(GameCore.Configs.Debugger)}},a.initStatistics=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.Statistics.Enable&&this.statistics.configure(GameCore.Configs.Statistics))},a.initParticleEditor=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.ParticleEditor.Enable&&this.particleEditor.configure(GameCore.Configs.ParticleEditor))},a.initProfilerPlugin=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.ProfilerPlugin.Enable&&this.profiler.configure())},a.initAdaptivePerformance=function(){var e=GameCore.Configs.Performance,t=e.Enable,n=(0,i.Z)(e,gS);if(t){var a=this.world.getPixelRatio();this.performance.configure((0,r.Z)({pixelRatio:a},n)),this.performance.active()}},a.initCanvasRecorderPlugin=function(){var e=this;if(GameCore.Utils.Valid.isDebugger()){var t=GameCore.Configs.CanvasRecorder;if(t.Enable){var n=t.Options,a=n.Type,i=n.Quality,r=n.RecordFps,o=n.SyncFps;this.canvasRecorder.configure({type:a,quality:i,syncFps:o,recordFps:r});var c=document.querySelector("canvas");if(c){this.canvasRecorder.setCanvas(c);var u=this.canvasRecorder.getOptions(),d=this.canvasRecorder.waitNextFrame;this.canvasRecorder.waitNextFrame=(0,s.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.syncFps){t.next=5;break}return e.loop.sleep(),t.abrupt("return",new(l())((function(t){e.events.once(Phaser.Core.Events.POST_RENDER,t),e.loop.lastTime=1e3/u.recordFps,e.loop.step()})));case 5:return e.loop.wake(),t.abrupt("return",d.call(e.canvasRecorder));case 7:case"end":return t.stop()}}),t)})))}}}},a.initRollbar=function(){GameCore.Configs.Rollbar.Enable&&this.rollbar.setup()},a.handlePauseAudio=function(){var e=this;this.sound.pauseOnBlur=!1,this.visibility.addEventVisible((function(){e.audio.playMusic(),e.audio.resumeAllSounds()})),this.visibility.addEventHidden((function(){e.audio.pauseMusic(),e.audio.pauseAllSounds()}))},a.removeUnusedPipelines=function(){var e=this.renderer;if(e instanceof Phaser.Renderer.WebGL.WebGLRenderer){var t=e.pipelines,n=Phaser.Renderer.WebGL.Pipelines;if(n)[n.ROPE_PIPELINE,n.LIGHT_PIPELINE,n.POSTFX_PIPELINE,n.POINTLIGHT_PIPELINE,n.BITMAPMASK_PIPELINE].forEach((function(e){var n;null==(n=t.get(e))||n.destroy(),t.remove(e)}))}},t}(Phaser.Game),vS=TS,yS=GameCore.Configs.Debugger.ShowInspector,IS={parent:"app",type:Phaser.AUTO,width:0,height:0,scale:{autoRound:!0},dom:{createContainer:!1},loader:{maxParallelDownloads:6,crossOrigin:"no-cros"},input:{gamepad:!1,keyboard:yS,touch:{capture:!0},smoothFactor:1,activePointers:1,windowEvents:!1},disableContextMenu:!0,fps:{smoothStep:!1},render:{pixelArt:!1,antialias:!0,antialiasGL:!0,transparent:!0,desynchronized:!1,powerPreference:"low-power",clearBeforeRender:!1,roundPixels:!1},plugins:{global:[]}};(0,a.j6)();var OS=setInterval((function(){window.__analyticsInitiated&&(window.__fbGameReady=!1,clearInterval(OS),clearInterval(window.__fbInstantLoadingTimer),GameSDK.setLoadingProgress(30),gtag("event","app_initialize",{send_to:["GA"]}),function(){try{var e=new vS(IS);window.game=e}catch(t){(0,a.tO)(t)}}())}),50)},584:function(e,t,n){"use strict";n.d(t,{H$:function(){return m},Z5:function(){return A},aV:function(){return g},xB:function(){return T}});var a=n(76),i=n(59),r=n(117),s=n.n(r),o=n(93),c=n.n(o),l=n(40),u=n.n(l),h=n(417),d=n(115),p=GameCore.Configs,E=p.AppId,f=p.OtherHost,S=p.LeadersBoard,A=function(){var e=(0,i.Z)(u().mark((function e(t){var n,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={appId:E,resetScore:0,numberOfLeaders:15,timezone:"utc+0",sortOrder:"desc",statistics:"max",resettable:"manually",description:"no description"},!S.UseMock){e.next=5;break}return e.next=4,(0,d.qZ)(1e3);case 4:return e.abrupt("return",(0,a.Z)({},n,t,{_id:S.LeaderboardId,type:"app_leaderboard",description:"mockup_leaderboard",createdAt:new Date(Date.now()).toISOString(),updatedAt:new Date(Date.now()).toISOString()}));case 5:return"leaderboards",e.next=8,(0,h.v)("leaderboards",(0,a.Z)({},n,t),{},f);case 8:return i=e.sent,e.abrupt("return",(null==i?void 0:i.data)||{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)(u().mark((function e(t,n){var a,i,r,o,l,p,E,A,m,g,T,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),a=[],!S.UseMock){e.next=7;break}return e.next=5,(0,d.qZ)(1e3);case 5:return l=(o=n).limit,p=void 0===l?10:l,E=o.offset,A=void 0===E?0:E,e.abrupt("return",s()(i=c()(r=new Array(p)).call(r,null)).call(i,(function(e,t){var n=(t+1)*(A+1),a=S.MockOptions.PlayerEntryIndex===t,i={playerId:"player-0"+n,name:"MPlayer "+n,photo:"./assets/images/others/avatar.jpg",rank:n,score:Math.floor(1e5/n+1e4*Math.random())};if(a){var r=window.game.player.getPlayer(),s=r.playerId,o=r.name,c=r.photo;i.playerId=s,i.name=o,i.photo=c}return i})));case 7:return m=GameCore.Utils.String.params(n),g="leaderboards/"+t+"/leaders",e.next=11,(0,h.U)(g+"?"+m,{},f);case 11:if((T=e.sent)&&(null==T||!T.error)){e.next=14;break}throw new Error((null==T?void 0:T.error)||"Leaderboard not found");case 14:if(!((v=(null==T?void 0:T.data)||[]).length<1)){e.next=17;break}return e.abrupt("return",a);case 17:return a=v,e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(u().mark((function e(t,n,a){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.v)("leaderboards/"+t+"/players/"+n,{score:a},{},f);case 2:return i=e.sent,e.abrupt("return",(null==i?void 0:i.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.Z)(u().mark((function e(t,n){var a,i,r,s,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,t){e.next=3;break}return e.abrupt("return",a);case 3:if(i=S.Prefix+"/"+n+"/players"){e.next=6;break}return e.abrupt("return",a);case 6:return r=GameCore.Utils.String.params({playerIds:t}),e.next=9,(0,h.U)(i+"?"+r,{},f);case 9:if(s=e.sent,!((o=(null==s?void 0:s.data)||[]).length<1)){e.next=13;break}return e.abrupt("return",a);case 13:return a=o[0],e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},116:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var a={BUTTON_CLICK:"button_click",SCREEN_OPEN:"screen_open",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_RESCUE:"match_rescue",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",SHARE:"share",MESSAGE:"message",INVITE:"invite",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_LOAD:"ad_load",AD_LOAD_FAILED:"ad_load_failed",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",MISSING_AD_SHOW:"missing_ad_show",NEW_USER:"new_user",AD_IMPRESSION:"ad_impression",JOIN_GROUP:"join_group",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score"}},408:function(e,t,n){"use strict";var a=n(409),i=function(){function e(e,t,n,i){this.playerId=void 0,this.name=void 0,this.photo=void 0,this.locale=void 0,this.playerId=e,this.name=t,this.photo=n||a.Z.AVATAR.FILE,this.locale=i||"en_US"}return e.prototype.toObject=function(){return{playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale}},e}();t.Z=i},416:function(e,t){"use strict";t.Z={RESIZE:"resize",CHANGE_LAYOUT:"change-layout"}},418:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var a=n(413),i=function(e){return{type:a.DW,payload:{sceneKey:e}}}},115:function(e,t,n){"use strict";n.d(t,{Gm:function(){return s},qZ:function(){return r}});var a=n(78),i=n.n(a),r=(n(60),function(e){return new(i())((function(t){return setTimeout(t,e)}))}),s=function(e){var t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}},406:function(e,t,n){"use strict";n.d(t,{R0:function(){return s},Tv:function(){return r},j6:function(){return a},sw:function(){return i},tO:function(){return o}});n(407),n(191),n(61),n(91);var a=function(){var e=setInterval((function(){window.Sentry&&clearInterval(e)}),100)},i=function(e,t){window.Sentry&&window.Sentry.addBreadcrumb({category:e,message:t})},r=function(e){window.Sentry&&window.Sentry.setUser(e)},s=function(e,t){},o=function(e){}},410:function(e,t){"use strict";t.Z={GENERIC_NOTIFICATION:0,NEW_USER_NOTIFICATION:1,MONDAY_NOTIFICATION:2,TUESDAY_NOTIFICATION:3,WEDNESDAY_NOTIFICATION:4,THURSDAY_NOTIFICATION:5,FRIDAY_NOTIFICATION:6,SATURDAY_NOTIFICATION:7,SUNDAY_NOTIFICATION:8}},581:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=JSON.parse('{"data":["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen","Sanchez","Wright","King","Scott","Green","Baker","Adams","Nelson","Hill","Ramirez","Campbell","Mitchell","Roberts","Carter","Phillips","Evans","Turner","Torres","Parker","Collins","Edwards","Stewart","Flores","Morris","Nguyen","Murphy","Rivera","Cook","Rogers","Morgan","Peterson","Cooper","Reed","Bailey","Bell","Gomez","Kelly","Howard","Ward","Cox","Diaz","Richardson","Wood","Watson","Brooks","Bennett","Gray","James","Reyes","Cruz","Hughes","Price","Myers","Long","Foster","Sanders","Ross","Morales","Powell","Sullivan","Russell","Ortiz","Jenkins","Gutierrez","Perry","Butler","Barnes","Fisher","Henderson","Coleman","Simmons","Patterson","Jordan","Reynolds","Hamilton","Graham","Kim","Gonzales","Alexander","Ramos","Wallace","Griffin","West","Cole","Hayes","Chavez","Gibson","Bryant","Ellis","Stevens","Murray","Ford","Marshall","Owens","Mcdonald","Harrison","Ruiz","Kennedy","Wells","Alvarez","Woods","Mendoza","Castillo","Olson","Webb","Washington","Tucker","Freeman","Burns","Henry","Vasquez","Snyder","Simpson","Crawford","Jimenez","Porter","Mason","Shaw","Gordon","Wagner","Hunter","Romero","Hicks","Dixon","Hunt","Palmer","Robertson","Black","Holmes","Stone","Meyer","Boyd","Mills","Warren","Fox","Rose","Rice","Moreno","Schmidt","Patel","Ferguson","Nichols","Herrera","Medina","Ryan","Fernandez","Weaver","Daniels","Stephens","Gardner","Payne","Kelley","Dunn","Pierce","Arnold","Tran","Spencer","Peters","Hawkins","Grant","Hansen","Castro","Hoffman","Hart","Elliott","Cunningham","Knight","Bradley","Carroll","Hudson","Duncan","Armstrong","Berry","Andrews","Johnston","Ray","Lane","Riley","Carpenter","Perkins","Aguilar","Silva","Richards","Willis","Matthews","Chapman","Lawrence","Garza","Vargas","Watkins","Wheeler","Larson","Carlson","Harper","George","Greene","Burke","Guzman","Morrison","Munoz","Jacobs","Obrien","Lawson","Franklin","Lynch","Bishop","Carr","Salazar","Austin","Mendez","Gilbert","Jensen","Williamson","Montgomery","Harvey","Oliver","Howell","Dean","Hanson","Weber","Garrett","Sims","Burton","Fuller","Soto","Mccoy","Welch","Chen","Schultz","Walters","Reid","Fields","Walsh","Little","Fowler","Bowman","Davidson","May","Day","Schneider","Newman","Brewer","Lucas","Holland","Wong","Banks","Santos","Curtis","Pearson","Delgado","Valdez","Pena","Rios","Douglas","Sandoval","Barrett","Hopkins","Keller","Guerrero","Stanley","Bates","Alvarado","Beck","Ortega","Wade","Estrada","Contreras","Barnett","Caldwell","Santiago","Lambert","Powers","Chambers","Nunez","Craig","Leonard","Lowe","Rhodes","Byrd","Gregory","Shelton","Frazier","Becker","Maldonado","Fleming","Vega","Sutton","Cohen","Jennings","Parks","Mcdaniel","Watts","Barker","Norris","Vaughn","Vazquez","Holt","Schwartz","Steele","Benson","Neal","Dominguez","Horton","Terry","Wolfe","Hale","Lyons","Graves","Haynes","Miles","Park","Warner","Padilla","Bush","Thornton","Mccarthy","Mann","Zimmerman","Erickson","Fletcher","Mckinney","Page","Dawson","Joseph","Marquez","Reeves","Klein","Espinoza","Baldwin","Moran","Love","Robbins","Higgins","Ball","Cortez","Le","Griffith","Bowen","Sharp","Cummings","Ramsey","Hardy","Swanson","Barber","Acosta","Luna","Chandler","Blair","Daniel","Cross","Simon","Dennis","Oconnor","Quinn","Gross","Navarro","Moss","Fitzgerald","Doyle","Mclaughlin","Rojas","Rodgers","Stevenson","Singh","Yang","Figueroa","Harmon","Newton","Paul","Manning","Garner","Mcgee","Reese","Francis","Burgess","Adkins","Goodman","Curry","Brady","Christensen","Potter","Walton","Goodwin","Mullins","Molina","Webster","Fischer","Campos","Avila","Sherman","Todd","Chang","Blake","Malone","Wolf","Hodges","Juarez","Gill","Farmer","Hines","Gallagher","Duran","Hubbard","Cannon","Miranda","Wang","Saunders","Tate","Mack","Hammond","Carrillo","Townsend","Wise","Ingram","Barton","Mejia","Ayala","Schroeder","Hampton","Rowe","Parsons","Frank","Waters","Strickland","Osborne","Maxwell","Chan","Deleon","Norman","Harrington","Casey","Patton","Logan","Bowers","Mueller","Glover","Floyd","Hartman","Buchanan","Cobb","French","Kramer","Mccormick","Clarke","Tyler","Gibbs","Moody","Conner","Sparks","Mcguire","Leon","Bauer","Norton","Pope","Flynn","Hogan","Robles","Salinas","Yates","Lindsey","Lloyd","Marsh","Mcbride","Owen","Solis","Pham","Lang","Pratt","Lara","Brock","Ballard","Trujillo","Shaffer","Drake","Roman","Aguirre","Morton","Stokes","Lamb","Pacheco","Patrick","Cochran","Shepherd","Cain","Burnett","Hess","Li","Cervantes","Olsen","Briggs","Ochoa","Cabrera","Velasquez","Montoya","Roth","Meyers","Cardenas","Fuentes","Weiss","Hoover","Wilkins","Nicholson","Underwood","Short","Carson","Morrow","Colon","Holloway","Summers","Bryan","Petersen","Mckenzie","Serrano","Wilcox","Carey","Clayton","Poole","Calderon","Gallegos","Greer","Rivas","Guerra","Decker","Collier","Wall","Whitaker","Bass","Flowers","Davenport","Conley","Houston","Huff","Copeland","Hood","Monroe","Massey","Roberson","Combs","Franco","Larsen","Pittman","Randall","Skinner","Wilkinson","Kirby","Cameron","Bridges","Anthony","Richard","Kirk","Bruce","Singleton","Mathis","Bradford","Boone","Abbott","Charles","Allison","Sweeney","Atkinson","Horn","Jefferson","Rosales","York","Christian","Phelps","Farrell","Castaneda","Nash","Dickerson","Bond","Wyatt","Foley","Chase","Gates","Vincent","Mathews","Hodge","Garrison","Trevino","Villarreal","Heath","Dalton","Valencia","Callahan","Hensley","Atkins","Huffman","Roy","Boyer","Shields","Lin","Hancock","Grimes","Glenn","Cline","Delacruz","Camacho","Dillon","Parrish","Oneill","Melton","Booth","Kane","Berg","Harrell","Pitts","Savage","Wiggins","Brennan","Salas","Marks","Russo","Sawyer","Baxter","Golden","Hutchinson","Liu","Walter","Mcdowell","Wiley","Rich","Humphrey","Johns","Koch","Suarez","Hobbs","Beard","Gilmore","Ibarra","Keith","Macias","Khan","Andrade","Ware","Stephenson","Henson","Wilkerson","Dyer","Mcclure","Blackwell","Mercado","Tanner","Eaton","Clay","Barron","Beasley","Oneal","Preston","Small","Wu","Zamora","Macdonald","Vance","Snow","Mcclain","Stafford","Orozco","Barry","English","Shannon","Kline","Jacobson","Woodard","Huang","Kemp","Mosley","Prince","Merritt","Hurst","Villanueva","Roach","Nolan","Lam","Yoder","Mccullough","Lester","Santana","Valenzuela","Winters","Barrera","Leach","Orr","Berger","Mckee","Strong","Conway","Stein","Whitehead","Bullock","Escobar","Knox","Meadows","Solomon","Velez","Odonnell","Kerr","Stout","Blankenship","Browning","Kent","Lozano","Bartlett","Pruitt","Buck","Barr","Gaines","Durham","Gentry","Mcintyre","Sloan","Melendez","Rocha","Herman","Sexton","Moon","Hendricks","Rangel","Stark","Lowery","Hardin","Hull","Sellers","Ellison","Calhoun","Gillespie","Mora","Knapp","Mccall","Morse","Dorsey","Weeks","Nielsen","Livingston","Leblanc","Mclean","Bradshaw","Glass","Middleton","Buckley","Schaefer","Frost","Howe","House","Mcintosh","Ho","Pennington","Reilly","Hebert","Mcfarland","Hickman","Noble","Spears","Conrad","Arias","Galvan","Velazquez","Huynh","Frederick","Randolph","Cantu","Fitzpatrick","Mahoney","Peck","Villa","Michael","Donovan","Mcconnell","Walls","Boyle","Mayer","Zuniga","Giles","Pineda","Pace","Hurley","Mays","Mcmillan","Crosby","Ayers","Case","Bentley","Shepard","Everett","Pugh","David","Mcmahon","Dunlap","Bender","Hahn","Harding","Acevedo","Raymond","Blackburn","Duffy","Landry","Dougherty","Bautista","Shah","Potts","Arroyo","Valentine","Meza","Gould","Vaughan","Fry","Rush","Avery","Herring","Dodson","Clements","Sampson","Tapia","Bean","Lynn","Crane","Farley","Cisneros","Benton","Ashley","Mckay","Finley","Best","Blevins","Friedman","Moses","Sosa","Blanchard","Huber","Frye","Krueger","Bernard","Rosario","Rubio","Mullen","Benjamin","Haley","Chung","Moyer","Choi","Horne","Yu","Woodward","Ali","Nixon","Hayden","Rivers","Estes","Mccarty","Richmond","Stuart","Maynard","Brandt","Oconnell","Hanna","Sanford","Sheppard","Church","Burch","Levy","Rasmussen","Coffey","Ponce","Faulkner","Donaldson","Schmitt","Novak","Costa","Montes","Booker","Cordova","Waller","Arellano","Maddox","Mata","Bonilla","Stanton","Compton","Kaufman","Dudley","Mcpherson","Beltran","Dickson","Mccann","Villegas","Proctor","Hester","Cantrell","Daugherty","Cherry","Bray","Davila","Rowland","Levine","Madden","Spence","Good","Irwin","Werner","Krause","Petty","Whitney","Baird","Hooper","Pollard","Zavala","Jarvis","Holden","Haas","Hendrix","Mcgrath","Bird","Lucero","Terrell","Riggs","Joyce","Mercer","Rollins","Galloway","Duke","Odom","Andersen","Downs","Hatfield","Benitez","Archer","Huerta","Travis","Mcneil","Hinton","Zhang","Hays","Mayo","Fritz","Branch","Mooney","Ewing","Ritter","Esparza","Frey","Braun","Gay","Riddle","Haney","Kaiser","Holder","Chaney","Mcknight","Gamble","Vang","Cooley","Carney","Cowan","Forbes","Ferrell","Davies","Barajas","Shea","Osborn","Bright","Cuevas","Bolton","Murillo","Lutz","Duarte","Kidd","Key","Cooke"]}'),i=function(e){return Math.floor(Math.random()*e)},r=function(){if(!a)return"Unknown";if(!a.data)return"Unknown";var e=a.data;if(!Array.isArray(e))return"Unknown";var t=e.length;return e[i(t)]+" "+e[i(t)]}},403:function(e,t){"use strict";t.Z=function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!",a="",i=e;void 0!=t&&(i-=t.length,a+=t);for(var r=0;r<i;r++){var s=Math.floor(67*Math.random());a+=n.charAt(s)}return a}}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,n.amdO={},function(){var e=[];n.O=function(t,a,i,r){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],r=e[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(o=!1,r<s&&(s=r));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,i,r]}}(),n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))},n.u=function(e){return e+"."+{7:"4c68eded53bd9246be72",109:"9ecff77e1198d66b00b3",123:"bc89aae06cf76186370b",131:"7e55e34ef0eb5ba6a655",302:"16a416a16ea508fe24bb",401:"874795c814cb1827a28c",498:"0a3560be727d13566864",530:"a36663d8fa36b0974e00",613:"2396f50f83d4df6d2555",616:"20d1012e865c9c849e2a",638:"38288a73f606a28c4854",739:"678c0d351b362ff3673f",803:"05d004bee98b772c4032",942:"9a53d15355e69e0d18d0",961:"9f1611b63be15407ded6"}[e]+".bundle.js"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="game-core:";n.l=function(a,i,r,s){if(e[a])e[a].push(i);else{var o,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==t+r){o=h;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+r),o.src=a),e[a]=[i];var d=function(t,n){o.onerror=o.onload=null,clearTimeout(p);var i=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var i=a.length-1;i>-1&&!e;)e=a[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){var e={757:0};n.f.j=function(t,a){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var r=new Promise((function(n,a){i=e[t]=[n,a]}));a.push(i[2]=r);var s=n.p+n.u(t),o=new Error;n.l(s,(function(a){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,i[1](o)}}),"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,s=a[0],o=a[1],c=a[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var u=c(n)}for(t&&t(a);l<s.length;l++)r=s[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self.webpackChunkgame_core=self.webpackChunkgame_core||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}(),n.O(void 0,[216,630,542],(function(){return n(595)})),n.O(void 0,[216,630,542],(function(){return n(596)})),n.O(void 0,[216,630,542],(function(){return n(435)})),n.O(void 0,[216,630,542],(function(){return n(436)})),n.O(void 0,[216,630,542],(function(){return n(597)})),n.O(void 0,[216,630,542],(function(){return n(533)}));var a=n.O(void 0,[216,630,542],(function(){return n(547)}));a=n.O(a)})();